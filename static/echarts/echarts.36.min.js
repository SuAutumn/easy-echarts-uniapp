
/*
* Licensed to the Apache Software Foundation (ASF) under one
* or more contributor license agreements.  See the NOTICE file
* distributed with this work for additional information
* regarding copyright ownership.  The ASF licenses this file
* to you under the Apache License, Version 2.0 (the
* "License"); you may not use this file except in compliance
* with the License.  You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing,
* software distributed under the License is distributed on an
* "AS IS" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
* KIND, either express or implied.  See the License for the
* specific language governing permissions and limitations
* under the License.
*/


!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e(t.echarts={})}(this,function(t){"use strict";var e=2311,i=function(){return e++},v="object"==typeof wx&&"function"==typeof wx.getSystemInfoSync?{browser:{},os:{},node:!1,wxa:!0,canvasSupported:!0,svgSupported:!1,touchEventsSupported:!0,domSupported:!1}:"undefined"==typeof document&&"undefined"!=typeof self?{browser:{},os:{},node:!1,worker:!0,canvasSupported:!0,domSupported:!1}:"undefined"==typeof navigator?{browser:{},os:{},node:!0,worker:!1,canvasSupported:!0,svgSupported:!0,domSupported:!1}:function(t){var e={},i=t.match(/Firefox\/([\d.]+)/),n=t.match(/MSIE\s([\d.]+)/)||t.match(/Trident\/.+?rv:(([\d.]+))/),o=t.match(/Edge\/([\d.]+)/),t=/micromessenger/i.test(t);i&&(e.firefox=!0,e.version=i[1]);n&&(e.ie=!0,e.version=n[1]);o&&(e.edge=!0,e.version=o[1]);t&&(e.weChat=!0);return{browser:e,os:{},node:!1,canvasSupported:!!document.createElement("canvas").getContext,svgSupported:"undefined"!=typeof SVGRect,touchEventsSupported:"ontouchstart"in window&&!e.ie&&!e.edge,pointerEventsSupported:"onpointerdown"in window&&(e.edge||e.ie&&11<=e.version),domSupported:"undefined"!=typeof document}}(navigator.userAgent);var s={"[object Function]":1,"[object RegExp]":1,"[object Date]":1,"[object Error]":1,"[object CanvasGradient]":1,"[object CanvasPattern]":1,"[object Image]":1,"[object Canvas]":1},l={"[object Int8Array]":1,"[object Uint8Array]":1,"[object Uint8ClampedArray]":1,"[object Int16Array]":1,"[object Uint16Array]":1,"[object Int32Array]":1,"[object Uint32Array]":1,"[object Float32Array]":1,"[object Float64Array]":1},h=Object.prototype.toString,n=Array.prototype,r=n.forEach,u=n.filter,o=n.slice,c=n.map,d=n.reduce,a={};function f(t,e){"createCanvas"===t&&(y=null),a[t]=e}function A(t){if(null==t||"object"!=typeof t)return t;var e=t,i=h.call(t);if("[object Array]"===i){if(!K(t)){e=[];for(var n=0,o=t.length;n<o;n++)e[n]=A(t[n])}}else if(l[i]){if(!K(t)){var a=t.constructor;if(t.constructor.from)e=a.from(t);else{e=new a(t.length);for(n=0,o=t.length;n<o;n++)e[n]=A(t[n])}}}else if(!s[i]&&!K(t)&&!V(t))for(var r in e={},t)t.hasOwnProperty(r)&&(e[r]=A(t[r]));return e}function g(t,e,i){if(!E(e)||!E(t))return i?A(e):t;for(var n in e){var o,a;e.hasOwnProperty(n)&&(o=t[n],!E(a=e[n])||!E(o)||O(a)||O(o)||V(a)||V(o)||N(a)||N(o)||K(a)||K(o)?!i&&n in t||(t[n]=A(e[n])):g(o,a,i))}return t}function p(t,e){for(var i=t[0],n=1,o=t.length;n<o;n++)i=g(i,t[n],e);return i}function C(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function D(t,e,i){for(var n in e)e.hasOwnProperty(n)&&(i?null!=e[n]:null==t[n])&&(t[n]=e[n]);return t}function m(){return a.createCanvas()}var y;function x(){return y=y||m().getContext("2d")}function _(t,e){if(t){if(t.indexOf)return t.indexOf(e);for(var i=0,n=t.length;i<n;i++)if(t[i]===e)return i}return-1}function w(t,e){var i,n=t.prototype;function o(){}for(i in o.prototype=e.prototype,t.prototype=new o,n)n.hasOwnProperty(i)&&(t.prototype[i]=n[i]);(t.prototype.constructor=t).superClass=e}function b(t,e,i){D(t="prototype"in t?t.prototype:t,e="prototype"in e?e.prototype:e,i)}function P(t){if(t)return"string"!=typeof t&&"number"==typeof t.length}function L(t,e,i){if(t&&e)if(t.forEach&&t.forEach===r)t.forEach(e,i);else if(t.length===+t.length)for(var n=0,o=t.length;n<o;n++)e.call(i,t[n],n,t);else for(var a in t)t.hasOwnProperty(a)&&e.call(i,t[a],a,t)}function S(t,e,i){if(t&&e){if(t.map&&t.map===c)return t.map(e,i);for(var n=[],o=0,a=t.length;o<a;o++)n.push(e.call(i,t[o],o,t));return n}}function M(t,e,i,n){if(t&&e){if(t.reduce&&t.reduce===d)return t.reduce(e,i,n);for(var o=0,a=t.length;o<a;o++)i=e.call(n,i,t[o],o,t);return i}}function I(t,e,i){if(t&&e){if(t.filter&&t.filter===u)return t.filter(e,i);for(var n=[],o=0,a=t.length;o<a;o++)e.call(i,t[o],o,t)&&n.push(t[o]);return n}}function T(t,e){var i=o.call(arguments,2);return function(){return t.apply(e,i.concat(o.call(arguments)))}}function k(t){var e=o.call(arguments,1);return function(){return t.apply(this,e.concat(o.call(arguments)))}}function O(t){return"[object Array]"===h.call(t)}function z(t){return"function"==typeof t}function R(t){return"[object String]"===h.call(t)}function E(t){var e=typeof t;return"function"==e||!!t&&"object"==e}function N(t){return!!s[h.call(t)]}function B(t){return!!l[h.call(t)]}function V(t){return"object"==typeof t&&"number"==typeof t.nodeType&&"object"==typeof t.ownerDocument}function F(t){return t!=t}function H(t){for(var e=0,i=arguments.length;e<i;e++)if(null!=arguments[e])return arguments[e]}function W(t,e){return null!=t?t:e}function G(t,e,i){return null!=t?t:null!=e?e:i}function Z(){return Function.call.apply(o,arguments)}function X(t){if("number"==typeof t)return[t,t,t,t];var e=t.length;return 2===e?[t[0],t[1],t[0],t[1]]:3===e?[t[0],t[1],t[2],t[1]]:t}function U(t,e){if(!t)throw new Error(e)}function Y(t){return null==t?null:"function"==typeof t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}a.createCanvas=function(){return document.createElement("canvas")};var q="__ec_primitive__";function j(t){t[q]=!0}function K(t){return t[q]}function $(t){var i=O(t);this.data={};var n=this;function e(t,e){i?n.set(t,e):n.set(e,t)}t instanceof $?t.each(e):t&&L(t,e)}function Q(t){return new $(t)}function J(t,e){for(var i=new t.constructor(t.length+e.length),n=0;n<t.length;n++)i[n]=t[n];for(var o=t.length,n=0;n<e.length;n++)i[n+o]=e[n];return i}function tt(){}$.prototype={constructor:$,get:function(t){return this.data.hasOwnProperty(t)?this.data[t]:null},set:function(t,e){return this.data[t]=e},each:function(t,e){for(var i in void 0!==e&&(t=T(t,e)),this.data)this.data.hasOwnProperty(i)&&t(this.data[i],i)},removeKey:function(t){delete this.data[t]}};var et=(Object.freeze||Object)({$override:f,clone:A,merge:g,mergeAll:p,extend:C,defaults:D,createCanvas:m,getContext:x,indexOf:_,inherits:w,mixin:b,isArrayLike:P,each:L,map:S,reduce:M,filter:I,find:function(t,e,i){if(t&&e)for(var n=0,o=t.length;n<o;n++)if(e.call(i,t[n],n,t))return t[n]},bind:T,curry:k,isArray:O,isFunction:z,isString:R,isObject:E,isBuiltInObject:N,isTypedArray:B,isDom:V,eqNaN:F,retrieve:H,retrieve2:W,retrieve3:G,slice:Z,normalizeCssArray:X,assert:U,trim:Y,setAsPrimitive:j,isPrimitive:K,createHashMap:Q,concatArray:J,noop:tt}),it="undefined"==typeof Float32Array?Array:Float32Array;function nt(t,e){var i=new it(2);return null==t&&(t=0),null==e&&(e=0),i[0]=t,i[1]=e,i}function ot(t,e){return t[0]=e[0],t[1]=e[1],t}function at(t){var e=new it(2);return e[0]=t[0],e[1]=t[1],e}function rt(t,e,i){return t[0]=e[0]+i[0],t[1]=e[1]+i[1],t}function st(t,e,i,n){return t[0]=e[0]+i[0]*n,t[1]=e[1]+i[1]*n,t}function lt(t,e,i){return t[0]=e[0]-i[0],t[1]=e[1]-i[1],t}function ht(t){return Math.sqrt(ut(t))}function ut(t){return t[0]*t[0]+t[1]*t[1]}function ct(t,e,i){return t[0]=e[0]*i,t[1]=e[1]*i,t}function dt(t,e){var i=ht(e);return 0===i?(t[0]=0,t[1]=0):(t[0]=e[0]/i,t[1]=e[1]/i),t}function ft(t,e){return Math.sqrt((t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1]))}var pt=ft;function gt(t,e){return(t[0]-e[0])*(t[0]-e[0])+(t[1]-e[1])*(t[1]-e[1])}var mt=gt;function vt(t,e,i,n){return t[0]=e[0]+n*(i[0]-e[0]),t[1]=e[1]+n*(i[1]-e[1]),t}function yt(t,e,i){var n=e[0],e=e[1];return t[0]=i[0]*n+i[2]*e+i[4],t[1]=i[1]*n+i[3]*e+i[5],t}function xt(t,e,i){return t[0]=Math.min(e[0],i[0]),t[1]=Math.min(e[1],i[1]),t}function _t(t,e,i){return t[0]=Math.max(e[0],i[0]),t[1]=Math.max(e[1],i[1]),t}var wt=(Object.freeze||Object)({create:nt,copy:ot,clone:at,set:function(t,e,i){return t[0]=e,t[1]=i,t},add:rt,scaleAndAdd:st,sub:lt,len:ht,length:ht,lenSquare:ut,lengthSquare:ut,mul:function(t,e,i){return t[0]=e[0]*i[0],t[1]=e[1]*i[1],t},div:function(t,e,i){return t[0]=e[0]/i[0],t[1]=e[1]/i[1],t},dot:function(t,e){return t[0]*e[0]+t[1]*e[1]},scale:ct,normalize:dt,distance:ft,dist:pt,distanceSquare:gt,distSquare:mt,negate:function(t,e){return t[0]=-e[0],t[1]=-e[1],t},lerp:vt,applyTransform:yt,min:xt,max:_t});function bt(){this.on("mousedown",this._dragStart,this),this.on("mousemove",this._drag,this),this.on("mouseup",this._dragEnd,this)}function St(t,e){return{target:t,topTarget:e&&e.topTarget}}bt.prototype={constructor:bt,_dragStart:function(t){for(var e=t.target;e&&!e.draggable;)e=e.parent;e&&((this._draggingTarget=e).dragging=!0,this._x=t.offsetX,this._y=t.offsetY,this.dispatchToElement(St(e,t),"dragstart",t.event))},_drag:function(t){var e,i,n,o,a=this._draggingTarget;a&&(n=t.offsetX,o=t.offsetY,e=n-this._x,i=o-this._y,this._x=n,this._y=o,a.drift(e,i,t),this.dispatchToElement(St(a,t),"drag",t.event),n=this.findHover(n,o,a).target,o=this._dropTarget,a!==(this._dropTarget=n)&&(o&&n!==o&&this.dispatchToElement(St(o,t),"dragleave",t.event),n&&n!==o&&this.dispatchToElement(St(n,t),"dragenter",t.event)))},_dragEnd:function(t){var e=this._draggingTarget;e&&(e.dragging=!1),this.dispatchToElement(St(e,t),"dragend",t.event),this._dropTarget&&this.dispatchToElement(St(this._dropTarget,t),"drop",t.event),this._draggingTarget=null,this._dropTarget=null}};var Mt=Array.prototype.slice,It=function(t){this._$handlers={},this._$eventProcessor=t};function Tt(t,e,i,n,o,a){var r,s,l=t._$handlers;if("function"==typeof i&&(o=n,n=i,i=null),!n||!e)return t;s=i,r=(r=t)._$eventProcessor,null!=s&&r&&r.normalizeQuery&&(s=r.normalizeQuery(s)),i=s,l[e]||(l[e]=[]);for(var h=0;h<l[e].length;h++)if(l[e][h].h===n)return t;a={h:n,one:a,query:i,ctx:o||t,callAtLast:n.zrEventfulCallAtLast},i=l[e].length-1,o=l[e][i];return o&&o.callAtLast?l[e].splice(i,0,a):l[e].push(a),t}It.prototype={constructor:It,one:function(t,e,i,n){return Tt(this,t,e,i,n,!0)},on:function(t,e,i,n){return Tt(this,t,e,i,n,!1)},isSilent:function(t){var e=this._$handlers;return!e[t]||!e[t].length},off:function(t,e){var i=this._$handlers;if(!t)return this._$handlers={},this;if(e){if(i[t]){for(var n=[],o=0,a=i[t].length;o<a;o++)i[t][o].h!==e&&n.push(i[t][o]);i[t]=n}i[t]&&0===i[t].length&&delete i[t]}else delete i[t];return this},trigger:function(t){var e=this._$handlers[t],i=this._$eventProcessor;if(e){var n=arguments,o=n.length;3<o&&(n=Mt.call(n,1));for(var a=e.length,r=0;r<a;){var s=e[r];if(i&&i.filter&&null!=s.query&&!i.filter(t,s.query))r++;else{switch(o){case 1:s.h.call(s.ctx);break;case 2:s.h.call(s.ctx,n[1]);break;case 3:s.h.call(s.ctx,n[1],n[2]);break;default:s.h.apply(s.ctx,n)}s.one?(e.splice(r,1),a--):r++}}}return i&&i.afterTrigger&&i.afterTrigger(t),this},triggerWithContext:function(t){var e=this._$handlers[t],i=this._$eventProcessor;if(e){var n=arguments,o=n.length;4<o&&(n=Mt.call(n,1,n.length-1));for(var a=n[n.length-1],r=e.length,s=0;s<r;){var l=e[s];if(i&&i.filter&&null!=l.query&&!i.filter(t,l.query))s++;else{switch(o){case 1:l.h.call(a);break;case 2:l.h.call(a,n[1]);break;case 3:l.h.call(a,n[1],n[2]);break;default:l.h.apply(a,n)}l.one?(e.splice(s,1),r--):s++}}}return i&&i.afterTrigger&&i.afterTrigger(t),this}};var At=Math.log(2);function Ct(t,e,i,n,o,a){var r=n+"-"+o,s=t.length;if(a.hasOwnProperty(r))return a[r];if(1===e){var l=Math.round(Math.log((1<<s)-1&~o)/At);return t[i][l]}for(var h=n|1<<i,u=i+1;n&1<<u;)u++;for(var c=0,d=0,f=0;d<s;d++){var p=1<<d;p&o||(c+=(f%2?-1:1)*t[i][d]*Ct(t,e-1,u,h,o|p,a),f++)}return a[r]=c}function Dt(t,e){var i=[[t[0],t[1],1,0,0,0,-e[0]*t[0],-e[0]*t[1]],[0,0,0,t[0],t[1],1,-e[1]*t[0],-e[1]*t[1]],[t[2],t[3],1,0,0,0,-e[2]*t[2],-e[2]*t[3]],[0,0,0,t[2],t[3],1,-e[3]*t[2],-e[3]*t[3]],[t[4],t[5],1,0,0,0,-e[4]*t[4],-e[4]*t[5]],[0,0,0,t[4],t[5],1,-e[5]*t[4],-e[5]*t[5]],[t[6],t[7],1,0,0,0,-e[6]*t[6],-e[6]*t[7]],[0,0,0,t[6],t[7],1,-e[7]*t[6],-e[7]*t[7]]],n={},o=Ct(i,8,0,0,0,n);if(0!==o){for(var a=[],r=0;r<8;r++)for(var s=0;s<8;s++)null==a[s]&&(a[s]=0),a[s]+=((r+s)%2?-1:1)*Ct(i,7,0===r?1:0,1<<r,1<<s,n)/o*e[r];return function(t,e,i){var n=e*a[6]+i*a[7]+1;t[0]=(e*a[0]+i*a[1]+a[2])/n,t[1]=(e*a[3]+i*a[4]+a[5])/n}}}var kt="___zrEVENTSAVED",Lt=[];function Pt(t,e,i,n,o){if(e.getBoundingClientRect&&v.domSupported&&!Ot(e)){var a=e[kt]||(e[kt]={}),o=function(t,e,i){for(var n=i?"invTrans":"trans",o=e[n],a=e.srcCoords,r=!0,s=[],l=[],h=0;h<4;h++){var u=t[h].getBoundingClientRect(),c=2*h,d=u.left,u=u.top;s.push(d,u),r=r&&a&&d===a[c]&&u===a[1+c],l.push(t[h].offsetLeft,t[h].offsetTop)}return r&&o?o:(e.srcCoords=s,e[n]=i?Dt(l,s):Dt(s,l))}(function(t,e){var i=e.markers;if(i)return i;i=e.markers=[];for(var n=["left","right"],o=["top","bottom"],a=0;a<4;a++){var r=document.createElement("div"),s=r.style,l=a%2,h=(a>>1)%2;s.cssText=["position: absolute","visibility: hidden","padding: 0","margin: 0","border-width: 0","user-select: none","width:0","height:0",n[l]+":0",o[h]+":0",n[1-l]+":auto",o[1-h]+":auto",""].join("!important;"),t.appendChild(r),i.push(r)}return i}(e,a),a,o);if(o)return o(t,i,n),!0}return!1}function Ot(t){return"CANVAS"===t.nodeName.toUpperCase()}var zt="undefined"!=typeof window&&!!window.addEventListener,Rt=/^(?:mouse|pointer|contextmenu|drag|drop)|click/,Et=[];function Nt(t,e,i,n){return i=i||{},n||!v.canvasSupported?Bt(t,e,i):v.browser.firefox&&null!=e.layerX&&e.layerX!==e.offsetX?(i.zrX=e.layerX,i.zrY=e.layerY):null!=e.offsetX?(i.zrX=e.offsetX,i.zrY=e.offsetY):Bt(t,e,i),i}function Bt(t,e,i){if(v.domSupported&&t.getBoundingClientRect){var n=e.clientX,o=e.clientY;if(Ot(t)){e=t.getBoundingClientRect();return i.zrX=n-e.left,void(i.zrY=o-e.top)}if(Pt(Et,t,n,o))return i.zrX=Et[0],void(i.zrY=Et[1])}i.zrX=i.zrY=0}function Vt(t){return t||window.event}function Ft(t,e,i){if(null!=(e=Vt(e)).zrX)return e;var n=e.type;n&&0<=n.indexOf("touch")?(n=("touchend"!==n?e.targetTouches:e.changedTouches)[0])&&Nt(t,n,e,i):(Nt(t,e,e,i),e.zrDelta=e.wheelDelta?e.wheelDelta/120:-(e.detail||0)/3);i=e.button;return null==e.which&&void 0!==i&&Rt.test(e.type)&&(e.which=1&i?1:2&i?3:4&i?2:0),e}var Ht=zt?function(t){t.preventDefault(),t.stopPropagation(),t.cancelBubble=!0}:function(t){t.returnValue=!1,t.cancelBubble=!0};function Wt(t){return 2===t.which||3===t.which}function Gt(){this._track=[]}function Zt(t){var e=t[1][0]-t[0][0],t=t[1][1]-t[0][1];return Math.sqrt(e*e+t*t)}Gt.prototype={constructor:Gt,recognize:function(t,e,i){return this._doTrack(t,e,i),this._recognize(t)},clear:function(){return this._track.length=0,this},_doTrack:function(t,e,i){var n=t.touches;if(n){for(var o={points:[],touches:[],target:e,event:t},a=0,r=n.length;a<r;a++){var s=n[a],l=Nt(i,s,{});o.points.push([l.zrX,l.zrY]),o.touches.push(s)}this._track.push(o)}},_recognize:function(t){for(var e in Xt)if(Xt.hasOwnProperty(e)){var i=Xt[e](this._track,t);if(i)return i}}};var Xt={pinch:function(t,e){var i=t.length;if(i){var n=(t[i-1]||{}).points,i=(t[i-2]||{}).points||n;if(i&&1<i.length&&n&&1<n.length){i=Zt(n)/Zt(i);isFinite(i)||(i=1),e.pinchScale=i;n=[((n=n)[0][0]+n[1][0])/2,(n[0][1]+n[1][1])/2];return e.pinchX=n[0],e.pinchY=n[1],{type:"pinch",target:t[0].target,event:e}}}}},Ut="silent";function Yt(){Ht(this.event)}function qt(){}qt.prototype.dispose=function(){};function jt(t,e,i,n){It.call(this),this.storage=t,this.painter=e,this.painterRoot=n,i=i||new qt,this.proxy=null,this._hovered={},this._lastTouchMoment,this._lastX,this._lastY,this._gestureMgr,bt.call(this),this.setHandlerProxy(i)}var Kt=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"];function $t(t,e,i){t=t.painter;return e<0||e>t.getWidth()||i<0||i>t.getHeight()}jt.prototype={constructor:jt,setHandlerProxy:function(e){this.proxy&&this.proxy.dispose(),e&&(L(Kt,function(t){e.on&&e.on(t,this[t],this)},this),e.handler=this),this.proxy=e},mousemove:function(t){var e=t.zrX,i=t.zrY,n=$t(this,e,i),o=this._hovered,a=o.target;a&&!a.__zr&&(a=(o=this.findHover(o.x,o.y)).target);n=this._hovered=n?{x:e,y:i}:this.findHover(e,i),e=n.target,i=this.proxy;i.setCursor&&i.setCursor(e?e.cursor:"default"),a&&e!==a&&this.dispatchToElement(o,"mouseout",t),this.dispatchToElement(n,"mousemove",t),e&&e!==a&&this.dispatchToElement(n,"mouseover",t)},mouseout:function(t){var e=t.zrEventControl,i=t.zrIsToLocalDOM;"only_globalout"!==e&&this.dispatchToElement(this._hovered,"mouseout",t),"no_globalout"!==e&&(i||this.trigger("globalout",{type:"globalout",event:t}))},resize:function(t){this._hovered={}},dispatch:function(t,e){t=this[t];t&&t.call(this,e)},dispose:function(){this.proxy.dispose(),this.storage=this.proxy=this.painter=null},setCursorStyle:function(t){var e=this.proxy;e.setCursor&&e.setCursor(t)},dispatchToElement:function(t,e,i){var n=(t=t||{}).target;if(!n||!n.silent){for(var o="on"+e,a={type:e,event:i=i,target:(t=t).target,topTarget:t.topTarget,cancelBubble:!1,offsetX:i.zrX,offsetY:i.zrY,gestureEvent:i.gestureEvent,pinchX:i.pinchX,pinchY:i.pinchY,pinchScale:i.pinchScale,wheelDelta:i.zrDelta,zrByTouch:i.zrByTouch,which:i.which,stop:Yt};n&&(n[o]&&(a.cancelBubble=n[o].call(n,a)),n.trigger(e,a),n=n.parent,!a.cancelBubble););a.cancelBubble||(this.trigger(e,a),this.painter&&this.painter.eachOtherLayer(function(t){"function"==typeof t[o]&&t[o].call(t,a),t.trigger&&t.trigger(e,a)}))}},findHover:function(t,e,i){for(var n,o=this.storage.getDisplayList(),a={x:t,y:e},r=o.length-1;0<=r;r--)if(o[r]!==i&&!o[r].ignore&&(n=function(t,e,i){if(t[t.rectHover?"rectContain":"contain"](e,i)){for(var n,o=t;o;){if(o.clipPath&&!o.clipPath.contain(e,i))return!1;o.silent&&(n=!0),o=o.parent}return!n||Ut}return!1}(o[r],t,e))&&(a.topTarget||(a.topTarget=o[r]),n!==Ut)){a.target=o[r];break}return a},processGesture:function(t,e){this._gestureMgr||(this._gestureMgr=new Gt);var i=this._gestureMgr;"start"===e&&i.clear();var n=i.recognize(t,this.findHover(t.zrX,t.zrY,null).target,this.proxy.dom);"end"===e&&i.clear(),n&&(i=n.type,t.gestureEvent=i,this.dispatchToElement({target:n.target},i,n.event))}},L(["click","mousedown","mouseup","mousewheel","dblclick","contextmenu"],function(r){jt.prototype[r]=function(t){var e,i,n=t.zrX,o=t.zrY,a=$t(this,n,o);if("mouseup"===r&&a||(i=(e=this.findHover(n,o)).target),"mousedown"===r)this._downEl=i,this._downPoint=[t.zrX,t.zrY],this._upEl=i;else if("mouseup"===r)this._upEl=i;else if("click"===r){if(this._downEl!==this._upEl||!this._downPoint||4<pt(this._downPoint,[t.zrX,t.zrY]))return;this._downPoint=null}this.dispatchToElement(e,r,t)}}),b(jt,It),b(jt,bt);var Qt="undefined"==typeof Float32Array?Array:Float32Array;function Jt(){var t=new Qt(6);return te(t),t}function te(t){return t[0]=1,t[1]=0,t[2]=0,t[3]=1,t[4]=0,t[5]=0,t}function ee(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function ie(t,e,i){var n=e[0]*i[0]+e[2]*i[1],o=e[1]*i[0]+e[3]*i[1],a=e[0]*i[2]+e[2]*i[3],r=e[1]*i[2]+e[3]*i[3],s=e[0]*i[4]+e[2]*i[5]+e[4],e=e[1]*i[4]+e[3]*i[5]+e[5];return t[0]=n,t[1]=o,t[2]=a,t[3]=r,t[4]=s,t[5]=e,t}function ne(t,e,i){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4]+i[0],t[5]=e[5]+i[1],t}function oe(t,e,i){var n=e[0],o=e[2],a=e[4],r=e[1],s=e[3],l=e[5],e=Math.sin(i),i=Math.cos(i);return t[0]=n*i+r*e,t[1]=-n*e+r*i,t[2]=o*i+s*e,t[3]=-o*e+i*s,t[4]=i*a+e*l,t[5]=i*l-e*a,t}function ae(t,e,i){var n=i[0],i=i[1];return t[0]=e[0]*n,t[1]=e[1]*i,t[2]=e[2]*n,t[3]=e[3]*i,t[4]=e[4]*n,t[5]=e[5]*i,t}function re(t,e){var i=e[0],n=e[2],o=e[4],a=e[1],r=e[3],s=e[5],e=i*r-a*n;return e?(e=1/e,t[0]=r*e,t[1]=-a*e,t[2]=-n*e,t[3]=i*e,t[4]=(n*s-r*o)*e,t[5]=(a*o-i*s)*e,t):null}var se=(Object.freeze||Object)({create:Jt,identity:te,copy:ee,mul:ie,translate:ne,rotate:oe,scale:ae,invert:re,clone:function(t){var e=Jt();return ee(e,t),e}}),le=te;function he(t){return 5e-5<t||t<-5e-5}var ue=function(t){(t=t||{}).position||(this.position=[0,0]),null==t.rotation&&(this.rotation=0),t.scale||(this.scale=[1,1]),this.origin=this.origin||null},ce=ue.prototype;ce.transform=null,ce.needLocalTransform=function(){return he(this.rotation)||he(this.position[0])||he(this.position[1])||he(this.scale[0]-1)||he(this.scale[1]-1)};var de=[];ce.updateTransform=function(){var t=this.parent,e=t&&t.transform,i=this.needLocalTransform(),n=this.transform;i||e?(n=n||Jt(),i?this.getLocalTransform(n):le(n),e&&(i?ie(n,t.transform,n):ee(n,t.transform)),this.transform=n,null!=(e=this.globalScaleRatio)&&1!==e&&(this.getGlobalScale(de),t=((de[0]-(i=de[0]<0?-1:1))*e+i)/de[0]||0,i=((de[1]-(i=de[1]<0?-1:1))*e+i)/de[1]||0,n[0]*=t,n[1]*=t,n[2]*=i,n[3]*=i),this.invTransform=this.invTransform||Jt(),re(this.invTransform,n)):n&&le(n)},ce.getLocalTransform=function(t){return ue.getLocalTransform(this,t)},ce.setTransform=function(t){var e=this.transform,i=t.dpr||1;e?t.setTransform(i*e[0],i*e[1],i*e[2],i*e[3],i*e[4],i*e[5]):t.setTransform(i,0,0,i,0,0)},ce.restoreTransform=function(t){var e=t.dpr||1;t.setTransform(e,0,0,e,0,0)};var fe=[],pe=Jt();ce.setLocalTransform=function(t){var e,i,n,o;t&&(e=t[0]*t[0]+t[1]*t[1],i=t[2]*t[2]+t[3]*t[3],n=this.position,o=this.scale,he(e-1)&&(e=Math.sqrt(e)),he(i-1)&&(i=Math.sqrt(i)),t[0]<0&&(e=-e),t[3]<0&&(i=-i),n[0]=t[4],n[1]=t[5],o[0]=e,o[1]=i,this.rotation=Math.atan2(-t[1]/i,t[0]/e))},ce.decomposeTransform=function(){var t,e;this.transform&&(e=this.parent,t=this.transform,e&&e.transform&&(ie(fe,e.invTransform,t),t=fe),(e=this.origin)&&(e[0]||e[1])&&(pe[4]=e[0],pe[5]=e[1],ie(fe,t,pe),fe[4]-=e[0],fe[5]-=e[1],t=fe),this.setLocalTransform(t))},ce.getGlobalScale=function(t){var e=this.transform;return t=t||[],e?(t[0]=Math.sqrt(e[0]*e[0]+e[1]*e[1]),t[1]=Math.sqrt(e[2]*e[2]+e[3]*e[3]),e[0]<0&&(t[0]=-t[0]),e[3]<0&&(t[1]=-t[1])):(t[0]=1,t[1]=1),t},ce.transformCoordToLocal=function(t,e){t=[t,e],e=this.invTransform;return e&&yt(t,t,e),t},ce.transformCoordToGlobal=function(t,e){t=[t,e],e=this.transform;return e&&yt(t,t,e),t},ue.getLocalTransform=function(t,e){le(e=e||[]);var i=t.origin,n=t.scale||[1,1],o=t.rotation||0,t=t.position||[0,0];return i&&(e[4]-=i[0],e[5]-=i[1]),ae(e,e,n),o&&oe(e,e,o),i&&(e[4]+=i[0],e[5]+=i[1]),e[4]+=t[0],e[5]+=t[1],e};var ge={linear:function(t){return t},quadraticIn:function(t){return t*t},quadraticOut:function(t){return t*(2-t)},quadraticInOut:function(t){return(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1)},cubicIn:function(t){return t*t*t},cubicOut:function(t){return--t*t*t+1},cubicInOut:function(t){return(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2)},quarticIn:function(t){return t*t*t*t},quarticOut:function(t){return 1- --t*t*t*t},quarticInOut:function(t){return(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2)},quinticIn:function(t){return t*t*t*t*t},quinticOut:function(t){return--t*t*t*t*t+1},quinticInOut:function(t){return(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2)},sinusoidalIn:function(t){return 1-Math.cos(t*Math.PI/2)},sinusoidalOut:function(t){return Math.sin(t*Math.PI/2)},sinusoidalInOut:function(t){return.5*(1-Math.cos(Math.PI*t))},exponentialIn:function(t){return 0===t?0:Math.pow(1024,t-1)},exponentialOut:function(t){return 1===t?1:1-Math.pow(2,-10*t)},exponentialInOut:function(t){return 0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(2,-10*(t-1)))},circularIn:function(t){return 1-Math.sqrt(1-t*t)},circularOut:function(t){return Math.sqrt(1- --t*t)},circularInOut:function(t){return(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1)},elasticIn:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),-(i*Math.pow(2,10*--t)*Math.sin((t-e)*(2*Math.PI)/.4)))},elasticOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),i*Math.pow(2,-10*t)*Math.sin((t-e)*(2*Math.PI)/.4)+1)},elasticInOut:function(t){var e,i=.1;return 0===t?0:1===t?1:(e=!i||i<1?(i=1,.1):.4*Math.asin(1/i)/(2*Math.PI),(t*=2)<1?i*Math.pow(2,10*--t)*Math.sin((t-e)*(2*Math.PI)/.4)*-.5:i*Math.pow(2,-10*--t)*Math.sin((t-e)*(2*Math.PI)/.4)*.5+1)},backIn:function(t){return t*t*(2.70158*t-1.70158)},backOut:function(t){return--t*t*(2.70158*t+1.70158)+1},backInOut:function(t){var e=2.5949095;return(t*=2)<1?t*t*((1+e)*t-e)*.5:.5*((t-=2)*t*((1+e)*t+e)+2)},bounceIn:function(t){return 1-ge.bounceOut(1-t)},bounceOut:function(t){return t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375},bounceInOut:function(t){return t<.5?.5*ge.bounceIn(2*t):.5*ge.bounceOut(2*t-1)+.5}};function me(t){this._target=t.target,this._life=t.life||1e3,this._delay=t.delay||0,this._initialized=!1,this.loop=null!=t.loop&&t.loop,this.gap=t.gap||0,this.easing=t.easing||"Linear",this.onframe=t.onframe,this.ondestroy=t.ondestroy,this.onrestart=t.onrestart,this._pausedTime=0,this._paused=!1}me.prototype={constructor:me,step:function(t,e){if(this._initialized||(this._startTime=t+this._delay,this._initialized=!0),this._paused)this._pausedTime+=e;else{var i=(t-this._startTime-this._pausedTime)/this._life;if(!(i<0)){i=Math.min(i,1);e=this.easing,e="string"==typeof e?ge[e]:e,e="function"==typeof e?e(i):i;return this.fire("frame",e),1===i?this.loop?(this.restart(t),"restart"):(this._needsRemove=!0,"destroy"):null}}},restart:function(t){var e=(t-this._startTime-this._pausedTime)%this._life;this._startTime=t-e+this.gap,this._pausedTime=0,this._needsRemove=!1},fire:function(t,e){this[t="on"+t]&&this[t](this._target,e)},pause:function(){this._paused=!0},resume:function(){this._paused=!1}};function ve(){this.head=null,this.tail=null,this._len=0}var ye=ve.prototype;ye.insert=function(t){t=new xe(t);return this.insertEntry(t),t},ye.insertEntry=function(t){this.head?((this.tail.next=t).prev=this.tail,t.next=null,this.tail=t):this.head=this.tail=t,this._len++},ye.remove=function(t){var e=t.prev,i=t.next;e?e.next=i:this.head=i,i?i.prev=e:this.tail=e,t.next=t.prev=null,this._len--},ye.len=function(){return this._len},ye.clear=function(){this.head=this.tail=null,this._len=0};var xe=function(t){this.value=t,this.next,this.prev},_e=function(t){this._list=new ve,this._map={},this._maxSize=t||10,this._lastRemovedEntry=null},we=_e.prototype;we.put=function(t,e){var i,n,o=this._list,a=this._map,r=null;return null==a[t]&&(n=o.len(),i=this._lastRemovedEntry,n>=this._maxSize&&0<n&&(n=o.head,o.remove(n),delete a[n.key],r=n.value,this._lastRemovedEntry=n),i?i.value=e:i=new xe(e),i.key=t,o.insertEntry(i),a[t]=i),r},we.get=function(t){var e=this._map[t],t=this._list;if(null!=e)return e!==t.tail&&(t.remove(e),t.insertEntry(e)),e.value},we.clear=function(){this._list.clear(),this._map={}};var be={transparent:[0,0,0,0],aliceblue:[240,248,255,1],antiquewhite:[250,235,215,1],aqua:[0,255,255,1],aquamarine:[127,255,212,1],azure:[240,255,255,1],beige:[245,245,220,1],bisque:[255,228,196,1],black:[0,0,0,1],blanchedalmond:[255,235,205,1],blue:[0,0,255,1],blueviolet:[138,43,226,1],brown:[165,42,42,1],burlywood:[222,184,135,1],cadetblue:[95,158,160,1],chartreuse:[127,255,0,1],chocolate:[210,105,30,1],coral:[255,127,80,1],cornflowerblue:[100,149,237,1],cornsilk:[255,248,220,1],crimson:[220,20,60,1],cyan:[0,255,255,1],darkblue:[0,0,139,1],darkcyan:[0,139,139,1],darkgoldenrod:[184,134,11,1],darkgray:[169,169,169,1],darkgreen:[0,100,0,1],darkgrey:[169,169,169,1],darkkhaki:[189,183,107,1],darkmagenta:[139,0,139,1],darkolivegreen:[85,107,47,1],darkorange:[255,140,0,1],darkorchid:[153,50,204,1],darkred:[139,0,0,1],darksalmon:[233,150,122,1],darkseagreen:[143,188,143,1],darkslateblue:[72,61,139,1],darkslategray:[47,79,79,1],darkslategrey:[47,79,79,1],darkturquoise:[0,206,209,1],darkviolet:[148,0,211,1],deeppink:[255,20,147,1],deepskyblue:[0,191,255,1],dimgray:[105,105,105,1],dimgrey:[105,105,105,1],dodgerblue:[30,144,255,1],firebrick:[178,34,34,1],floralwhite:[255,250,240,1],forestgreen:[34,139,34,1],fuchsia:[255,0,255,1],gainsboro:[220,220,220,1],ghostwhite:[248,248,255,1],gold:[255,215,0,1],goldenrod:[218,165,32,1],gray:[128,128,128,1],green:[0,128,0,1],greenyellow:[173,255,47,1],grey:[128,128,128,1],honeydew:[240,255,240,1],hotpink:[255,105,180,1],indianred:[205,92,92,1],indigo:[75,0,130,1],ivory:[255,255,240,1],khaki:[240,230,140,1],lavender:[230,230,250,1],lavenderblush:[255,240,245,1],lawngreen:[124,252,0,1],lemonchiffon:[255,250,205,1],lightblue:[173,216,230,1],lightcoral:[240,128,128,1],lightcyan:[224,255,255,1],lightgoldenrodyellow:[250,250,210,1],lightgray:[211,211,211,1],lightgreen:[144,238,144,1],lightgrey:[211,211,211,1],lightpink:[255,182,193,1],lightsalmon:[255,160,122,1],lightseagreen:[32,178,170,1],lightskyblue:[135,206,250,1],lightslategray:[119,136,153,1],lightslategrey:[119,136,153,1],lightsteelblue:[176,196,222,1],lightyellow:[255,255,224,1],lime:[0,255,0,1],limegreen:[50,205,50,1],linen:[250,240,230,1],magenta:[255,0,255,1],maroon:[128,0,0,1],mediumaquamarine:[102,205,170,1],mediumblue:[0,0,205,1],mediumorchid:[186,85,211,1],mediumpurple:[147,112,219,1],mediumseagreen:[60,179,113,1],mediumslateblue:[123,104,238,1],mediumspringgreen:[0,250,154,1],mediumturquoise:[72,209,204,1],mediumvioletred:[199,21,133,1],midnightblue:[25,25,112,1],mintcream:[245,255,250,1],mistyrose:[255,228,225,1],moccasin:[255,228,181,1],navajowhite:[255,222,173,1],navy:[0,0,128,1],oldlace:[253,245,230,1],olive:[128,128,0,1],olivedrab:[107,142,35,1],orange:[255,165,0,1],orangered:[255,69,0,1],orchid:[218,112,214,1],palegoldenrod:[238,232,170,1],palegreen:[152,251,152,1],paleturquoise:[175,238,238,1],palevioletred:[219,112,147,1],papayawhip:[255,239,213,1],peachpuff:[255,218,185,1],peru:[205,133,63,1],pink:[255,192,203,1],plum:[221,160,221,1],powderblue:[176,224,230,1],purple:[128,0,128,1],red:[255,0,0,1],rosybrown:[188,143,143,1],royalblue:[65,105,225,1],saddlebrown:[139,69,19,1],salmon:[250,128,114,1],sandybrown:[244,164,96,1],seagreen:[46,139,87,1],seashell:[255,245,238,1],sienna:[160,82,45,1],silver:[192,192,192,1],skyblue:[135,206,235,1],slateblue:[106,90,205,1],slategray:[112,128,144,1],slategrey:[112,128,144,1],snow:[255,250,250,1],springgreen:[0,255,127,1],steelblue:[70,130,180,1],tan:[210,180,140,1],teal:[0,128,128,1],thistle:[216,191,216,1],tomato:[255,99,71,1],turquoise:[64,224,208,1],violet:[238,130,238,1],wheat:[245,222,179,1],white:[255,255,255,1],whitesmoke:[245,245,245,1],yellow:[255,255,0,1],yellowgreen:[154,205,50,1]};function Se(t){return(t=Math.round(t))<0?0:255<t?255:t}function Me(t){return t<0?0:1<t?1:t}function Ie(t){return t.length&&"%"===t.charAt(t.length-1)?Se(parseFloat(t)/100*255):Se(parseInt(t,10))}function Te(t){return t.length&&"%"===t.charAt(t.length-1)?Me(parseFloat(t)/100):Me(parseFloat(t))}function Ae(t,e,i){return i<0?i+=1:1<i&&--i,6*i<1?t+(e-t)*i*6:2*i<1?e:3*i<2?t+(e-t)*(2/3-i)*6:t}function Ce(t,e,i){return t+(e-t)*i}function De(t,e,i,n,o){return t[0]=e,t[1]=i,t[2]=n,t[3]=o,t}function ke(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t}var Le=new _e(20),Pe=null;function Oe(t,e){Pe&&ke(Pe,e),Pe=Le.put(t,Pe||e.slice())}function ze(t,e){if(t){e=e||[];var i=Le.get(t);if(i)return ke(e,i);var n=(t+="").replace(/ /g,"").toLowerCase();if(n in be)return ke(e,be[n]),Oe(t,e),e;if("#"===n.charAt(0))return 4===n.length?0<=(a=parseInt(n.substr(1),16))&&a<=4095?(De(e,(3840&a)>>4|(3840&a)>>8,240&a|(240&a)>>4,15&a|(15&a)<<4,1),Oe(t,e),e):void De(e,0,0,0,1):7===n.length?0<=(a=parseInt(n.substr(1),16))&&a<=16777215?(De(e,(16711680&a)>>16,(65280&a)>>8,255&a,1),Oe(t,e),e):void De(e,0,0,0,1):void 0;var o=n.indexOf("("),i=n.indexOf(")");if(-1!==o&&i+1===n.length){var a=n.substr(0,o),r=n.substr(o+1,i-(o+1)).split(","),s=1;switch(a){case"rgba":if(4!==r.length)return void De(e,0,0,0,1);s=Te(r.pop());case"rgb":return 3!==r.length?void De(e,0,0,0,1):(De(e,Ie(r[0]),Ie(r[1]),Ie(r[2]),s),Oe(t,e),e);case"hsla":return 4!==r.length?void De(e,0,0,0,1):(r[3]=Te(r[3]),Re(r,e),Oe(t,e),e);case"hsl":return 3!==r.length?void De(e,0,0,0,1):(Re(r,e),Oe(t,e),e);default:return}}De(e,0,0,0,1)}}function Re(t,e){var i=(parseFloat(t[0])%360+360)%360/360,n=Te(t[1]),o=Te(t[2]),n=o<=.5?o*(n+1):o+n-o*n,o=2*o-n;return De(e=e||[],Se(255*Ae(o,n,i+1/3)),Se(255*Ae(o,n,i)),Se(255*Ae(o,n,i-1/3)),1),4===t.length&&(e[3]=t[3]),e}function Ee(t,e){var i=ze(t);if(i){for(var n=0;n<3;n++)i[n]=e<0?i[n]*(1-e)|0:(255-i[n])*e+i[n]|0,255<i[n]?i[n]=255:t[n]<0&&(i[n]=0);return We(i,4===i.length?"rgba":"rgb")}}function Ne(t){t=ze(t);if(t)return((1<<24)+(t[0]<<16)+(t[1]<<8)+ +t[2]).toString(16).slice(1)}function Be(t,e,i){if(e&&e.length&&0<=t&&t<=1){i=i||[];var n=t*(e.length-1),o=Math.floor(n),a=Math.ceil(n),t=e[o],a=e[a],o=n-o;return i[0]=Se(Ce(t[0],a[0],o)),i[1]=Se(Ce(t[1],a[1],o)),i[2]=Se(Ce(t[2],a[2],o)),i[3]=Me(Ce(t[3],a[3],o)),i}}function Ve(t,e,i){if(e&&e.length&&0<=t&&t<=1){var n=t*(e.length-1),o=Math.floor(n),a=Math.ceil(n),r=ze(e[o]),t=ze(e[a]),e=n-o,e=We([Se(Ce(r[0],t[0],e)),Se(Ce(r[1],t[1],e)),Se(Ce(r[2],t[2],e)),Me(Ce(r[3],t[3],e))],"rgba");return i?{color:e,leftIndex:o,rightIndex:a,value:n}:e}}function Fe(t,e,i,n){if(t=ze(t))return t=function(t){if(t){var e,i,n,o=t[0]/255,a=t[1]/255,r=t[2]/255,s=Math.min(o,a,r),l=Math.max(o,a,r),h=l-s,u=(l+s)/2;0==h?i=e=0:(i=u<.5?h/(l+s):h/(2-l-s),n=((l-o)/6+h/2)/h,s=((l-a)/6+h/2)/h,h=((l-r)/6+h/2)/h,o===l?e=h-s:a===l?e=1/3+n-h:r===l&&(e=2/3+s-n),e<0&&(e+=1),1<e&&--e);u=[360*e,i,u];return null!=t[3]&&u.push(t[3]),u}}(t),null!=e&&(t[0]=(e=e,(e=Math.round(e))<0?0:360<e?360:e)),null!=i&&(t[1]=Te(i)),null!=n&&(t[2]=Te(n)),We(Re(t),"rgba")}function He(t,e){if((t=ze(t))&&null!=e)return t[3]=Me(e),We(t,"rgba")}function We(t,e){if(t&&t.length){var i=t[0]+","+t[1]+","+t[2];return"rgba"!==e&&"hsva"!==e&&"hsla"!==e||(i+=","+t[3]),e+"("+i+")"}}var Ge=(Object.freeze||Object)({parse:ze,lift:Ee,toHex:Ne,fastLerp:Be,fastMapToColor:Be,lerp:Ve,mapToColor:Ve,modifyHSL:Fe,modifyAlpha:He,stringify:We}),Ze=Array.prototype.slice;function Xe(t,e){return t[e]}function Ue(t,e,i){t[e]=i}function Ye(t,e,i){return(e-t)*i+t}function qe(t,e,i){return.5<i?e:t}function je(t,e,i,n,o){var a=t.length;if(1===o)for(var r=0;r<a;r++)n[r]=Ye(t[r],e[r],i);else for(var s=a&&t[0].length,r=0;r<a;r++)for(var l=0;l<s;l++)n[r][l]=Ye(t[r][l],e[r][l],i)}function Ke(t,e,i){var n=t.length,o=e.length;if(n!==o)if(o<n)t.length=o;else for(var a=n;a<o;a++)t.push(1===i?e[a]:Ze.call(e[a]));for(var r=t[0]&&t[0].length,a=0;a<t.length;a++)if(1===i)isNaN(t[a])&&(t[a]=e[a]);else for(var s=0;s<r;s++)isNaN(t[a][s])&&(t[a][s]=e[a][s])}function $e(t,e,i,n,o,a,r,s,l){var h=t.length;if(1===l)for(var u=0;u<h;u++)s[u]=Qe(t[u],e[u],i[u],n[u],o,a,r);else for(var c=t[0].length,u=0;u<h;u++)for(var d=0;d<c;d++)s[u][d]=Qe(t[u][d],e[u][d],i[u][d],n[u][d],o,a,r)}function Qe(t,e,i,n,o,a,r){t=.5*(i-t),n=.5*(n-e);return(2*(e-i)+t+n)*r+(-3*(e-i)-2*t-n)*a+t*o+e}function Je(t){return t[0]=Math.floor(t[0]),t[1]=Math.floor(t[1]),t[2]=Math.floor(t[2]),"rgba("+t.join(",")+")"}function ti(t,e,i,n,a,o){var r=t._getter,s=t._setter,l="spline"===e,h=n.length;if(h){var u,c,d=P(n[0].value),f=!1,p=!1,g=d?P((u=(u=n)[u.length-1].value)&&u[0])?2:1:0;n.sort(function(t,e){return t.time-e.time}),c=n[h-1].time;for(var m=[],v=[],y=n[0].value,x=!0,_=0;_<h;_++){m.push(n[_].time/c);var w,b=n[_].value;d&&function(t,e,i){if(t===e)return 1;var n=t.length;if(n===e.length){if(1===i){for(var o=0;o<n;o++)if(t[o]!==e[o])return}else for(var a=t[0].length,o=0;o<n;o++)for(var r=0;r<a;r++)if(t[o][r]!==e[o][r])return;return 1}}(b,y,g)||!d&&b===y||(x=!1),"string"==typeof(y=b)&&((w=ze(b))?(b=w,f=!0):p=!0),v.push(b)}if(o||!x){for(var S=v[h-1],_=0;_<h-1;_++)d?Ke(v[_],S,g):!isNaN(v[_])||isNaN(S)||p||f||(v[_]=S);d&&Ke(r(t._target,a),S,g);var M,I,T,A,C,D,k=0,L=0;f&&(D=[0,0,0,0]);i=new me({target:t._target,life:c,loop:t._loop,delay:t._delay,onframe:function(t,e){var i;if(e<0)i=0;else if(e<L){for(i=Math.min(k+1,h-1);0<=i&&!(m[i]<=e);i--);i=Math.min(i,h-2)}else{for(i=k;i<h&&!(m[i]>e);i++);i=Math.min(i-1,h-2)}L=e;var n,o=m[(k=i)+1]-m[i];if(0!=o)if(M=(e-m[i])/o,l)if(T=v[i],I=v[0===i?i:i-1],A=v[h-2<i?h-1:i+1],C=v[h-3<i?h-1:i+2],d)$e(I,T,A,C,M,M*M,M*M*M,r(t,a),g);else{if(f)n=$e(I,T,A,C,M,M*M,M*M*M,D,1),n=Je(D);else{if(p)return.5<M?A:T;n=Qe(I,T,A,C,M,M*M,M*M*M)}s(t,a,n)}else if(d)je(v[i],v[i+1],M,r(t,a),g);else{if(f)je(v[i],v[i+1],M,D,1),n=Je(D);else{if(p)return qe(v[i],v[i+1],M);n=Ye(v[i],v[i+1],M)}s(t,a,n)}},ondestroy:i});return e&&"spline"!==e&&(i.easing=e),i}}}function ei(t,e,i,n){this._tracks={},this._target=t,this._loop=e||!1,this._getter=i||Xe,this._setter=n||Ue,this._clipCount=0,this._delay=0,this._doneList=[],this._onframeList=[],this._clipList=[]}ei.prototype={when:function(t,e){var i,n=this._tracks;for(i in e)if(e.hasOwnProperty(i)){if(!n[i]){n[i]=[];var o=this._getter(this._target,i);if(null==o)continue;0!==t&&n[i].push({time:0,value:function(t){if(P(t)){var e=t.length;if(P(t[0])){for(var i=[],n=0;n<e;n++)i.push(Ze.call(t[n]));return i}return Ze.call(t)}return t}(o)})}n[i].push({time:t,value:e[i]})}return this},during:function(t){return this._onframeList.push(t),this},pause:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].pause();this._paused=!0},resume:function(){for(var t=0;t<this._clipList.length;t++)this._clipList[t].resume();this._paused=!1},isPaused:function(){return!!this._paused},_doneCallback:function(){this._tracks={},this._clipList.length=0;for(var t=this._doneList,e=t.length,i=0;i<e;i++)t[i].call(this)},start:function(t,e){function i(){--l||s._doneCallback()}var n,o,a,r,s=this,l=0;for(o in this._tracks)this._tracks.hasOwnProperty(o)&&((a=ti(this,t,i,this._tracks[o],o,e))&&(this._clipList.push(a),l++,this.animation&&this.animation.addClip(a),n=a));return n&&(r=n.onframe,n.onframe=function(t,e){r(t,e);for(var i=0;i<s._onframeList.length;i++)s._onframeList[i](t,e)}),l||this._doneCallback(),this},stop:function(t){for(var e=this._clipList,i=this.animation,n=0;n<e.length;n++){var o=e[n];t&&o.onframe(this._target,1),i&&i.removeClip(o)}e.length=0},delay:function(t){return this._delay=t,this},done:function(t){return t&&this._doneList.push(t),this},getClips:function(){return this._clipList}};var ii=1;"undefined"!=typeof window&&(ii=Math.max(window.devicePixelRatio||1,1));var ni=ii,oi=function(){};function ai(){this.animators=[]}var ri=oi;function si(t,e,i,n,o,a,r,s){R(n)?(a=o,o=n,n=0):z(o)?(a=o,o="linear",n=0):z(n)?(a=n,n=0):i=z(i)?(a=i,500):i||500,t.stopAnimation(),function t(e,i,n,o,a,r,s){var l={};var h=0;for(var u in o)o.hasOwnProperty(u)&&(null!=n[u]?E(o[u])&&!P(o[u])?t(e,i?i+"."+u:u,n[u],o[u],a,r,s):(s?(l[u]=n[u],li(e,i,u,o[u])):l[u]=o[u],h++):null==o[u]||s||li(e,i,u,o[u]));0<h&&e.animate(i,!1).when(null==a?500:a,l).delay(r||0)}(t,"",t,e,i,n,s);var l=t.animators.slice(),h=l.length;function u(){--h||a&&a()}h||a&&a();for(var c=0;c<l.length;c++)l[c].done(u).start(o,r)}function li(t,e,i,n){var o;e?((o={})[e]={},o[e][i]=n,t.attr(o)):t.attr(i,n)}ai.prototype={constructor:ai,animate:function(t,e){var i,n=!1,o=this,a=this.__zr;if(t){for(var r=t.split("."),s=o,n="shape"===r[0],l=0,h=r.length;l<h;l++)s=s&&s[r[l]];s&&(i=s)}else i=o;if(i){var u=o.animators,c=new ei(i,e);return c.during(function(t){o.dirty(n)}).done(function(){u.splice(_(u,c),1)}),u.push(c),a&&a.animation.addAnimator(c),c}ri('Property "'+t+'" is not existed in element '+o.id)},stopAnimation:function(t){for(var e=this.animators,i=e.length,n=0;n<i;n++)e[n].stop(t);return e.length=0,this},animateTo:function(t,e,i,n,o,a){si(this,t,e,i,n,o,a)},animateFrom:function(t,e,i,n,o,a){si(this,t,e,i,n,o,a,!0)}};var hi=function(t){ue.call(this,t),It.call(this,t),ai.call(this,t),this.id=t.id||i()};hi.prototype={type:"element",name:"",__zr:null,ignore:!1,clipPath:null,isGroup:!1,drift:function(t,e){switch(this.draggable){case"horizontal":e=0;break;case"vertical":t=0}var i=this.transform;(i=i||(this.transform=[1,0,0,1,0,0]))[4]+=t,i[5]+=e,this.decomposeTransform(),this.dirty(!1)},beforeUpdate:function(){},afterUpdate:function(){},update:function(){this.updateTransform()},traverse:function(t,e){},attrKV:function(t,e){var i;"position"===t||"scale"===t||"origin"===t?e&&((i=(i=this[t])||(this[t]=[]))[0]=e[0],i[1]=e[1]):this[t]=e},hide:function(){this.ignore=!0,this.__zr&&this.__zr.refresh()},show:function(){this.ignore=!1,this.__zr&&this.__zr.refresh()},attr:function(t,e){if("string"==typeof t)this.attrKV(t,e);else if(E(t))for(var i in t)t.hasOwnProperty(i)&&this.attrKV(i,t[i]);return this.dirty(!1),this},setClipPath:function(t){var e=this.__zr;e&&t.addSelfToZr(e),this.clipPath&&this.clipPath!==t&&this.removeClipPath(),(this.clipPath=t).__zr=e,(t.__clipTarget=this).dirty(!1)},removeClipPath:function(){var t=this.clipPath;t&&(t.__zr&&t.removeSelfFromZr(t.__zr),t.__zr=null,t.__clipTarget=null,this.clipPath=null,this.dirty(!1))},addSelfToZr:function(t){this.__zr=t;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.addAnimator(e[i]);this.clipPath&&this.clipPath.addSelfToZr(t)},removeSelfFromZr:function(t){this.__zr=null;var e=this.animators;if(e)for(var i=0;i<e.length;i++)t.animation.removeAnimator(e[i]);this.clipPath&&this.clipPath.removeSelfFromZr(t)}},b(hi,ai),b(hi,ue),b(hi,It);var ui,ci,di,fi,pi=yt,gi=Math.min,mi=Math.max;function vi(t,e,i,n){i<0&&(t+=i,i=-i),n<0&&(e+=n,n=-n),this.x=t,this.y=e,this.width=i,this.height=n}vi.prototype={constructor:vi,union:function(t){var e=gi(t.x,this.x),i=gi(t.y,this.y);this.width=mi(t.x+t.width,this.x+this.width)-e,this.height=mi(t.y+t.height,this.y+this.height)-i,this.x=e,this.y=i},applyTransform:(ui=[],ci=[],di=[],fi=[],function(t){var e;t&&(ui[0]=di[0]=this.x,ui[1]=fi[1]=this.y,ci[0]=fi[0]=this.x+this.width,ci[1]=di[1]=this.y+this.height,pi(ui,ui,t),pi(ci,ci,t),pi(di,di,t),pi(fi,fi,t),this.x=gi(ui[0],ci[0],di[0],fi[0]),this.y=gi(ui[1],ci[1],di[1],fi[1]),e=mi(ui[0],ci[0],di[0],fi[0]),t=mi(ui[1],ci[1],di[1],fi[1]),this.width=e-this.x,this.height=t-this.y)}),calculateTransform:function(t){var e=t.width/this.width,i=t.height/this.height,n=Jt();return ne(n,n,[-this.x,-this.y]),ae(n,n,[e,i]),ne(n,n,[t.x,t.y]),n},intersect:function(t){if(!t)return!1;t instanceof vi||(t=vi.create(t));var e=this,i=e.x,n=e.x+e.width,o=e.y,a=e.y+e.height,r=t.x,s=t.x+t.width,e=t.y,t=t.y+t.height;return!(n<r||s<i||a<e||t<o)},contain:function(t,e){var i=this;return t>=i.x&&t<=i.x+i.width&&e>=i.y&&e<=i.y+i.height},clone:function(){return new vi(this.x,this.y,this.width,this.height)},copy:function(t){this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height},plain:function(){return{x:this.x,y:this.y,width:this.width,height:this.height}}},vi.create=function(t){return new vi(t.x,t.y,t.width,t.height)};var yi=function(t){for(var e in t=t||{},hi.call(this,t),t)t.hasOwnProperty(e)&&(this[e]=t[e]);this._children=[],this.__storage=null,this.__dirty=!0};yi.prototype={constructor:yi,isGroup:!0,type:"group",silent:!1,children:function(){return this._children.slice()},childAt:function(t){return this._children[t]},childOfName:function(t){for(var e=this._children,i=0;i<e.length;i++)if(e[i].name===t)return e[i]},childCount:function(){return this._children.length},add:function(t){return t&&t!==this&&t.parent!==this&&(this._children.push(t),this._doAdd(t)),this},addBefore:function(t,e){var i;return t&&t!==this&&t.parent!==this&&e&&e.parent===this&&(0<=(e=(i=this._children).indexOf(e))&&(i.splice(e,0,t),this._doAdd(t))),this},_doAdd:function(t){t.parent&&t.parent.remove(t);var e=(t.parent=this).__storage,i=this.__zr;e&&e!==t.__storage&&(e.addToStorage(t),t instanceof yi&&t.addChildrenToStorage(e)),i&&i.refresh()},remove:function(t){var e=this.__zr,i=this.__storage,n=this._children,o=_(n,t);return o<0||(n.splice(o,1),t.parent=null,i&&(i.delFromStorage(t),t instanceof yi&&t.delChildrenFromStorage(i)),e&&e.refresh()),this},removeAll:function(){for(var t,e=this._children,i=this.__storage,n=0;n<e.length;n++)t=e[n],i&&(i.delFromStorage(t),t instanceof yi&&t.delChildrenFromStorage(i)),t.parent=null;return e.length=0,this},eachChild:function(t,e){for(var i=this._children,n=0;n<i.length;n++){var o=i[n];t.call(e,o,n)}return this},traverse:function(t,e){for(var i=0;i<this._children.length;i++){var n=this._children[i];t.call(e,n),"group"===n.type&&n.traverse(t,e)}return this},addChildrenToStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.addToStorage(i),i instanceof yi&&i.addChildrenToStorage(t)}},delChildrenFromStorage:function(t){for(var e=0;e<this._children.length;e++){var i=this._children[e];t.delFromStorage(i),i instanceof yi&&i.delChildrenFromStorage(t)}},dirty:function(){return this.__dirty=!0,this.__zr&&this.__zr.refresh(),this},getBoundingRect:function(t){for(var e=null,i=new vi(0,0,0,0),n=t||this._children,o=[],a=0;a<n.length;a++){var r,s=n[a];s.ignore||s.invisible||(r=s.getBoundingRect(),(s=s.getLocalTransform(o))?(i.copy(r),i.applyTransform(s),(e=e||i.clone()).union(i)):(e=e||r.clone()).union(r))}return e||i}},w(yi,hi);var xi=32,_i=7;function wi(t,e,i,n){var o=e+1;if(o===i)return 1;if(n(t[o++],t[e])<0){for(;o<i&&n(t[o],t[o-1])<0;)o++;!function(t,e,i){i--;for(;e<i;){var n=t[e];t[e++]=t[i],t[i--]=n}}(t,e,o)}else for(;o<i&&0<=n(t[o],t[o-1]);)o++;return o-e}function bi(t,e,i,n,o){for(n===e&&n++;n<i;n++){for(var a,r=t[n],s=e,l=n;s<l;)o(r,t[a=s+l>>>1])<0?l=a:s=1+a;var h=n-s;switch(h){case 3:t[s+3]=t[s+2];case 2:t[s+2]=t[s+1];case 1:t[s+1]=t[s];break;default:for(;0<h;)t[s+h]=t[s+h-1],h--}t[s]=r}}function Si(t,e,i,n,o,a){var r=0,s=0,l=1;if(0<a(t,e[i+o])){for(s=n-o;l<s&&0<a(t,e[i+o+l]);)(l=1+((r=l)<<1))<=0&&(l=s);s<l&&(l=s),r+=o,l+=o}else{for(s=o+1;l<s&&a(t,e[i+o-l])<=0;)(l=1+((r=l)<<1))<=0&&(l=s);s<l&&(l=s);n=r,r=o-l,l=o-n}for(r++;r<l;){var h=r+(l-r>>>1);0<a(t,e[i+h])?r=h+1:l=h}return l}function Mi(t,e,i,n,o,a){var r=0,s=0,l=1;if(a(t,e[i+o])<0){for(s=o+1;l<s&&a(t,e[i+o-l])<0;)(l=1+((r=l)<<1))<=0&&(l=s);s<l&&(l=s);var h=r,r=o-l,l=o-h}else{for(s=n-o;l<s&&0<=a(t,e[i+o+l]);)(l=1+((r=l)<<1))<=0&&(l=s);s<l&&(l=s),r+=o,l+=o}for(r++;r<l;){var u=r+(l-r>>>1);a(t,e[i+u])<0?l=u:r=u+1}return l}function Ii(p,g){var a,r,m=_i,s=0,v=[];function e(t){var e=a[t],i=r[t],n=a[t+1],o=r[t+1];r[t]=i+o,t===s-3&&(a[t+1]=a[t+2],r[t+1]=r[t+2]),s--;t=Mi(p[n],p,e,i,0,g);e+=t,0!=(i-=t)&&0!==(o=Si(p[e+i-1],p,n,o,o-1,g))&&(i<=o?function(t,e,i,n){var o=0;for(o=0;o<e;o++)v[o]=p[t+o];var a=0,r=i,s=t;if(p[s++]=p[r++],0==--n){for(o=0;o<e;o++)p[s+o]=v[a+o];return}if(1===e){for(o=0;o<n;o++)p[s+o]=p[r+o];return p[s+n]=v[a]}var l,h,u,c=m;for(;;){h=l=0,u=!1;do{if(g(p[r],v[a])<0){if(p[s++]=p[r++],h++,(l=0)==--n){u=!0;break}}else if(p[s++]=v[a++],l++,h=0,1==--e){u=!0;break}}while((l|h)<c);if(u)break;do{if(0!==(l=Mi(p[r],v,a,e,0,g))){for(o=0;o<l;o++)p[s+o]=v[a+o];if(s+=l,a+=l,(e-=l)<=1){u=!0;break}}if(p[s++]=p[r++],0==--n){u=!0;break}if(0!==(h=Si(v[a],p,r,n,0,g))){for(o=0;o<h;o++)p[s+o]=p[r+o];if(s+=h,r+=h,0===(n-=h)){u=!0;break}}if(p[s++]=v[a++],1==--e){u=!0;break}}while(c--,_i<=l||_i<=h);if(u)break;c<0&&(c=0),c+=2}if((m=c)<1&&(m=1),1===e){for(o=0;o<n;o++)p[s+o]=p[r+o];p[s+n]=v[a]}else{if(0===e)throw new Error;for(o=0;o<e;o++)p[s+o]=v[a+o]}}:function(t,e,i,n){var o=0;for(o=0;o<n;o++)v[o]=p[i+o];var a=t+e-1,r=n-1,s=i+n-1,l=0,h=0;if(p[s--]=p[a--],0==--e){for(l=s-(n-1),o=0;o<n;o++)p[l+o]=v[o];return}if(1===n){for(h=(s-=e)+1,l=(a-=e)+1,o=e-1;0<=o;o--)p[h+o]=p[l+o];return p[s]=v[r]}var u=m;for(;;){var c=0,d=0,f=!1;do{if(g(v[r],p[a])<0){if(p[s--]=p[a--],c++,(d=0)==--e){f=!0;break}}else if(p[s--]=v[r--],d++,c=0,1==--n){f=!0;break}}while((c|d)<u);if(f)break;do{if(0!==(c=e-Mi(v[r],p,t,e,e-1,g))){for(e-=c,h=(s-=c)+1,l=(a-=c)+1,o=c-1;0<=o;o--)p[h+o]=p[l+o];if(0===e){f=!0;break}}if(p[s--]=v[r--],1==--n){f=!0;break}if(0!==(d=n-Si(p[a],v,0,n,n-1,g))){for(n-=d,h=(s-=d)+1,l=(r-=d)+1,o=0;o<d;o++)p[h+o]=v[l+o];if(n<=1){f=!0;break}}if(p[s--]=p[a--],0==--e){f=!0;break}}while(u--,_i<=c||_i<=d);if(f)break;u<0&&(u=0),u+=2}(m=u)<1&&(m=1);if(1===n){for(h=(s-=e)+1,l=(a-=e)+1,o=e-1;0<=o;o--)p[h+o]=p[l+o];p[s]=v[r]}else{if(0===n)throw new Error;for(l=s-(n-1),o=0;o<n;o++)p[l+o]=v[o]}})(e,i,n,o)}a=[],r=[],this.mergeRuns=function(){for(;1<s;){var t=s-2;if(1<=t&&r[t-1]<=r[t]+r[t+1]||2<=t&&r[t-2]<=r[t]+r[t-1])r[t-1]<r[t+1]&&t--;else if(r[t]>r[t+1])break;e(t)}},this.forceMergeRuns=function(){for(;1<s;){var t=s-2;0<t&&r[t-1]<r[t+1]&&t--,e(t)}},this.pushRun=function(t,e){a[s]=t,r[s]=e,s+=1}}function Ti(t,e,i,n){i=i||0;var o=(n=n||t.length)-i;if(!(o<2)){var a=0;if(o<xi)bi(t,i,n,i+(a=wi(t,i,n,e)),e);else{var r,s=new Ii(t,e),l=function(t){for(var e=0;xi<=t;)e|=1&t,t>>=1;return t+e}(o);do{}while((a=wi(t,i,n,e))<l&&(l<(r=o)&&(r=l),bi(t,i,i+r,i+a,e),a=r),s.pushRun(i,a),s.mergeRuns(),i+=a,0!==(o-=a));s.forceMergeRuns()}}}function Ai(t,e){return t.zlevel===e.zlevel?t.z===e.z?t.z2-e.z2:t.z-e.z:t.zlevel-e.zlevel}function Ci(){this._roots=[],this._displayList=[],this._displayListLen=0}Ci.prototype={constructor:Ci,traverse:function(t,e){for(var i=0;i<this._roots.length;i++)this._roots[i].traverse(t,e)},getDisplayList:function(t,e){return e=e||!1,t&&this.updateDisplayList(e),this._displayList},updateDisplayList:function(t){this._displayListLen=0;for(var e=this._roots,i=this._displayList,n=0,o=e.length;n<o;n++)this._updateAndAddDisplayable(e[n],null,t);i.length=this._displayListLen,v.canvasSupported&&Ti(i,Ai)},_updateAndAddDisplayable:function(t,e,i){if(!t.ignore||i){t.beforeUpdate(),t.__dirty&&t.update(),t.afterUpdate();var n=t.clipPath;if(n){e=e?e.slice():[];for(var o=n,a=t;o;)o.parent=a,o.updateTransform(),e.push(o),o=(a=o).clipPath}if(t.isGroup){for(var r=t._children,s=0;s<r.length;s++){var l=r[s];t.__dirty&&(l.__dirty=!0),this._updateAndAddDisplayable(l,e,i)}t.__dirty=!1}else t.__clipPaths=e,this._displayList[this._displayListLen++]=t}},addRoot:function(t){t.__storage!==this&&(t instanceof yi&&t.addChildrenToStorage(this),this.addToStorage(t),this._roots.push(t))},delRoot:function(t){if(null==t){for(var e=0;e<this._roots.length;e++){var i=this._roots[e];i instanceof yi&&i.delChildrenFromStorage(this)}return this._roots=[],this._displayList=[],void(this._displayListLen=0)}if(t instanceof Array)for(var e=0,n=t.length;e<n;e++)this.delRoot(t[e]);else{var o=_(this._roots,t);0<=o&&(this.delFromStorage(t),this._roots.splice(o,1),t instanceof yi&&t.delChildrenFromStorage(this))}},addToStorage:function(t){return t&&(t.__storage=this,t.dirty(!1)),this},delFromStorage:function(t){return t&&(t.__storage=null),this},dispose:function(){this._renderList=this._roots=null},displayableSortFunc:Ai};var Di={shadowBlur:1,shadowOffsetX:1,shadowOffsetY:1,textShadowBlur:1,textShadowOffsetX:1,textShadowOffsetY:1,textBoxShadowBlur:1,textBoxShadowOffsetX:1,textBoxShadowOffsetY:1},ki=function(t,e,i){return Di.hasOwnProperty(e)?i*t.dpr:i},Li={NONE:0,STYLE_BIND:1,PLAIN_TEXT:2},Pi=9,Oi=[["shadowBlur",0],["shadowOffsetX",0],["shadowOffsetY",0],["shadowColor","#000"],["lineCap","butt"],["lineJoin","miter"],["miterLimit",10]],zi=function(t){this.extendFrom(t,!1)};function Ri(t,e,i){var n=null==e.x?0:e.x,o=null==e.x2?1:e.x2,a=null==e.y?0:e.y,r=null==e.y2?0:e.y2;return e.global||(n=n*i.width+i.x,o=o*i.width+i.x,a=a*i.height+i.y,r=r*i.height+i.y),n=isNaN(n)?0:n,o=isNaN(o)?1:o,a=isNaN(a)?0:a,r=isNaN(r)?0:r,t.createLinearGradient(n,a,o,r)}function Ei(t,e,i){var n=i.width,o=i.height,a=Math.min(n,o),r=null==e.x?.5:e.x,s=null==e.y?.5:e.y,l=null==e.r?.5:e.r;return e.global||(r=r*n+i.x,s=s*o+i.y,l*=a),t.createRadialGradient(r,s,0,r,s,l)}zi.prototype={constructor:zi,fill:"#000",stroke:null,opacity:1,fillOpacity:null,strokeOpacity:null,lineDash:null,lineDashOffset:0,shadowBlur:0,shadowOffsetX:0,shadowOffsetY:0,lineWidth:1,strokeNoScale:!1,text:null,font:null,textFont:null,fontStyle:null,fontWeight:null,fontSize:null,fontFamily:null,textTag:null,textFill:"#000",textStroke:null,textWidth:null,textHeight:null,textStrokeWidth:0,textLineHeight:null,textPosition:"inside",textRect:null,textOffset:null,textAlign:null,textVerticalAlign:null,textDistance:5,textShadowColor:"transparent",textShadowBlur:0,textShadowOffsetX:0,textShadowOffsetY:0,textBoxShadowColor:"transparent",textBoxShadowBlur:0,textBoxShadowOffsetX:0,textBoxShadowOffsetY:0,transformText:!1,textRotation:0,textOrigin:null,textBackgroundColor:null,textBorderColor:null,textBorderWidth:0,textBorderRadius:0,textPadding:null,rich:null,truncate:null,blend:null,bind:function(t,e,i){var n=this,o=i&&i.style,a=!o||t.__attrCachedBy!==Li.STYLE_BIND;t.__attrCachedBy=Li.STYLE_BIND;for(var r=0;r<Oi.length;r++){var s=Oi[r],l=s[0];!a&&n[l]===o[l]||(t[l]=ki(t,l,n[l]||s[1]))}!a&&n.fill===o.fill||(t.fillStyle=n.fill),!a&&n.stroke===o.stroke||(t.strokeStyle=n.stroke),!a&&n.opacity===o.opacity||(t.globalAlpha=null==n.opacity?1:n.opacity),!a&&n.blend===o.blend||(t.globalCompositeOperation=n.blend||"source-over"),this.hasStroke()&&(i=n.lineWidth,t.lineWidth=i/(this.strokeNoScale&&e&&e.getLineScale?e.getLineScale():1))},hasFill:function(){var t=this.fill;return null!=t&&"none"!==t},hasStroke:function(){var t=this.stroke;return null!=t&&"none"!==t&&0<this.lineWidth},extendFrom:function(t,e){if(t)for(var i in t)!t.hasOwnProperty(i)||!0!==e&&(!1===e?this.hasOwnProperty(i):null==t[i])||(this[i]=t[i])},set:function(t,e){"string"==typeof t?this[t]=e:this.extendFrom(t,!0)},clone:function(){var t=new this.constructor;return t.extendFrom(this,!0),t},getGradient:function(t,e,i){for(var n=("radial"===e.type?Ei:Ri)(t,e,i),o=e.colorStops,a=0;a<o.length;a++)n.addColorStop(o[a].offset,o[a].color);return n}};for(var Ni=zi.prototype,Bi=0;Bi<Oi.length;Bi++){var Vi=Oi[Bi];Vi[0]in Ni||(Ni[Vi[0]]=Vi[1])}zi.getGradient=Ni.getGradient;function Fi(t,e){this.image=t,this.repeat=e,this.type="pattern"}function Hi(){return!1}function Wi(t,e,i){var n=m(),o=e.getWidth(),a=e.getHeight(),e=n.style;return e&&(e.position="absolute",e.left=0,e.top=0,e.width=o+"px",e.height=a+"px",n.setAttribute("data-zr-dom-id",t)),n.width=o*i,n.height=a*i,n}function Gi(t,e,i){var n;i=i||ni,"string"==typeof t?n=Wi(t,e,i):E(t)&&(t=(n=t).id),this.id=t,(t=(this.dom=n).style)&&(n.onselectstart=Hi,t["-webkit-user-select"]="none",t["user-select"]="none",t["-webkit-touch-callout"]="none",t["-webkit-tap-highlight-color"]="rgba(0,0,0,0)",t.padding=0,t.margin=0,t["border-width"]=0),this.domBack=null,this.ctxBack=null,this.painter=e,this.config=null,this.clearColor=0,this.motionBlur=!1,this.lastFrameAlpha=.7,this.dpr=i}Gi.prototype={constructor:Gi,__dirty:!0,__used:!(Fi.prototype.getCanvasPattern=function(t){return t.createPattern(this.image,this.repeat||"repeat")}),__drawIndex:0,__startIndex:0,__endIndex:0,incremental:!1,getElementCount:function(){return this.__endIndex-this.__startIndex},initContext:function(){this.ctx=this.dom.getContext("2d"),this.ctx.dpr=this.dpr},createBackBuffer:function(){var t=this.dpr;this.domBack=Wi("back-"+this.id,this.painter,t),this.ctxBack=this.domBack.getContext("2d"),1!==t&&this.ctxBack.scale(t,t)},resize:function(t,e){var i=this.dpr,n=this.dom,o=n.style,a=this.domBack;o&&(o.width=t+"px",o.height=e+"px"),n.width=t*i,n.height=e*i,a&&(a.width=t*i,a.height=e*i,1!==i&&this.ctxBack.scale(i,i))},clear:function(t,e){var i,n=this.dom,o=this.ctx,a=n.width,r=n.height,e=e||this.clearColor,s=this.motionBlur&&!t,l=this.lastFrameAlpha,t=this.dpr;s&&(this.domBack||this.createBackBuffer(),this.ctxBack.globalCompositeOperation="copy",this.ctxBack.drawImage(n,0,0,a/t,r/t)),o.clearRect(0,0,a,r),e&&"transparent"!==e&&(e.colorStops?(i=e.__canvasGradient||zi.getGradient(o,e,{x:0,y:0,width:a,height:r}),e.__canvasGradient=i):e.image&&(i=Fi.prototype.getCanvasPattern.call(e,o)),o.save(),o.fillStyle=i||e,o.fillRect(0,0,a,r),o.restore()),s&&(s=this.domBack,o.save(),o.globalAlpha=l,o.drawImage(s,0,0,a,r),o.restore())}};var Zi="undefined"!=typeof window&&(window.requestAnimationFrame&&window.requestAnimationFrame.bind(window)||window.msRequestAnimationFrame&&window.msRequestAnimationFrame.bind(window)||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame)||function(t){setTimeout(t,16)},Xi=new _e(50);function Ui(t,e,i,n,o){if(t){if("string"!=typeof t)return t;if(e&&e.__zrImageSrc===t||!i)return e;var a=Xi.get(t),o={hostEl:i,cb:n,cbPayload:o};return a?qi(e=a.image)||a.pending.push(o):((e=new Image).onload=e.onerror=Yi,Xi.put(t,e.__cachedImgObj={image:e,pending:[o]}),e.src=e.__zrImageSrc=t),e}return e}function Yi(){var t=this.__cachedImgObj;this.onload=this.onerror=this.__cachedImgObj=null;for(var e=0;e<t.pending.length;e++){var i=t.pending[e],n=i.cb;n&&n(this,i.cbPayload),i.hostEl.dirty()}t.pending.length=0}function qi(t){return t&&t.width&&t.height}var ji={},Ki=0,$i=5e3,Qi=/\{([a-zA-Z0-9_]+)\|([^}]*)\}/g,Ji="12px sans-serif",tn={};function en(t,e){var i=t+":"+(e=e||Ji);if(ji[i])return ji[i];for(var n,o,a=(t+"").split("\n"),r=0,s=0,l=a.length;s<l;s++)r=Math.max((n=a[s],o=e,tn.measureText(n,o)).width,r);return $i<Ki&&(Ki=0,ji={}),Ki++,ji[i]=r}function nn(t,e,i,n,o,a,r,s){return r?function(t,e,i,n,o,a,r,s){o=dn(t,{rich:r,truncate:s,font:e,textAlign:i,textPadding:o,textLineHeight:a}),a=o.outerWidth,o=o.outerHeight,i=on(0,a,i),n=an(0,o,n);return new vi(i,n,a,o)}(t,e,i,n,o,a,r,s):function(t,e,i,n,o,a,r){r=cn(t,e,o,a,r),e=en(t,e);o&&(e+=o[1]+o[3]);o=r.outerHeight,i=on(0,e,i),n=an(0,o,n),o=new vi(i,n,e,o);return o.lineHeight=r.lineHeight,o}(t,e,i,n,o,a,s)}function on(t,e,i){return"right"===i?t-=e:"center"===i&&(t-=e/2),t}function an(t,e,i){return"middle"===i?t-=e/2:"bottom"===i&&(t-=e),t}function rn(t,e,i){var n=e.textPosition,o=e.textDistance,a=i.x,r=i.y,o=o||0,s=i.height,l=i.width,h=s/2,u="left",c="top";switch(n){case"left":a-=o,r+=h,u="right",c="middle";break;case"right":a+=o+l,r+=h,c="middle";break;case"top":a+=l/2,r-=o,u="center",c="bottom";break;case"bottom":a+=l/2,r+=s+o,u="center";break;case"inside":a+=l/2,r+=h,u="center",c="middle";break;case"insideLeft":a+=o,r+=h,c="middle";break;case"insideRight":a+=l-o,r+=h,u="right",c="middle";break;case"insideTop":a+=l/2,r+=o,u="center";break;case"insideBottom":a+=l/2,r+=s-o,u="center",c="bottom";break;case"insideTopLeft":a+=o,r+=o;break;case"insideTopRight":a+=l-o,r+=o,u="right";break;case"insideBottomLeft":a+=o,r+=s-o,c="bottom";break;case"insideBottomRight":a+=l-o,r+=s-o,u="right",c="bottom"}return(t=t||{}).x=a,t.y=r,t.textAlign=u,t.textVerticalAlign=c,t}function sn(t,e,i,n,o){if(!e)return"";var a=(t+"").split("\n");o=ln(e,i,n,o);for(var r=0,s=a.length;r<s;r++)a[r]=hn(a[r],o);return a.join("\n")}function ln(t,e,i,n){(n=C({},n)).font=e;i=W(i,"...");n.maxIterations=W(n.maxIterations,2);var o=n.minChar=W(n.minChar,0);n.cnCharWidth=en("国",e);var a=n.ascCharWidth=en("a",e);n.placeholder=W(n.placeholder,"");for(var r=t=Math.max(0,t-1),s=0;s<o&&a<=r;s++)r-=a;e=en(i,e);return r<e&&(i="",e=0),r=t-e,n.ellipsis=i,n.ellipsisWidth=e,n.contentWidth=r,n.containerWidth=t,n}function hn(t,e){var i=e.containerWidth,n=e.font,o=e.contentWidth;if(!i)return"";if((s=en(t,n))<=i)return t;for(var a=0;;a++){if(s<=o||a>=e.maxIterations){t+=e.ellipsis;break}var r=0===a?function(t,e,i,n){for(var o=0,a=0,r=t.length;a<r&&o<e;a++){var s=t.charCodeAt(a);o+=0<=s&&s<=127?i:n}return a}(t,o,e.ascCharWidth,e.cnCharWidth):0<s?Math.floor(t.length*o/s):0,s=en(t=t.substr(0,r),n)}return""===t&&(t=e.placeholder),t}function un(t){return en("国",t)}function cn(t,e,i,n,o){null!=t&&(t+="");var a=W(n,un(e)),r=t?t.split("\n"):[],s=r.length*a,l=s,h=!0;if(i&&(l+=i[0]+i[2]),t&&o){h=!1;var u=o.outerHeight,n=o.outerWidth;if(null!=u&&u<l)t="",r=[];else if(null!=n)for(var c=ln(n-(i?i[1]+i[3]:0),e,o.ellipsis,{minChar:o.minChar,placeholder:o.placeholder}),d=0,f=r.length;d<f;d++)r[d]=hn(r[d],c)}return{lines:r,height:s,outerHeight:l,lineHeight:a,canCacheByTextString:h}}function dn(t,e){var i={lines:[],width:0,height:0};if(null!=t&&(t+=""),!t)return i;for(var n,o=Qi.lastIndex=0;null!=(n=Qi.exec(t));){var a=n.index;o<a&&fn(i,t.substring(o,a)),fn(i,n[2],n[1]),o=Qi.lastIndex}o<t.length&&fn(i,t.substring(o,t.length));var r=i.lines,s=0,l=0,h=[],u=e.textPadding,c=e.truncate,d=c&&c.outerWidth,f=c&&c.outerHeight;u&&(null!=d&&(d-=u[1]+u[3]),null!=f&&(f-=u[0]+u[2]));for(var p=0;p<r.length;p++){for(var g=r[p],m=0,v=0,y=0;y<g.tokens.length;y++){var x=(A=g.tokens[y]).styleName&&e.rich[A.styleName]||{},_=A.textPadding=x.textPadding,w=A.font=x.font||e.font,b=A.textHeight=W(x.textHeight,un(w));if(_&&(b+=_[0]+_[2]),A.height=b,A.lineHeight=G(x.textLineHeight,e.textLineHeight,b),A.textAlign=x&&x.textAlign||e.textAlign,A.textVerticalAlign=x&&x.textVerticalAlign||"middle",null!=f&&s+A.lineHeight>f)return{lines:[],width:0,height:0};A.textWidth=en(A.text,w);var S,M,I=x.textWidth,T=null==I||"auto"===I;"string"==typeof I&&"%"===I.charAt(I.length-1)?(A.percentWidth=I,h.push(A),I=0):(T&&(I=A.textWidth,(M=(S=x.textBackgroundColor)&&S.image)&&qi(M="string"!=typeof(S=M)?S:(S=Xi.get(S))&&S.image)&&(I=Math.max(I,M.width*b/M.height))),I+=M=_?_[1]+_[3]:0,null!=(_=null!=d?d-v:null)&&_<I&&(!T||_<M?(A.text="",A.textWidth=I=0):(A.text=sn(A.text,_-M,w,c.ellipsis,{minChar:c.minChar}),A.textWidth=en(A.text,w),I=A.textWidth+M))),v+=A.width=I,x&&(m=Math.max(m,A.lineHeight))}g.width=v,s+=g.lineHeight=m,l=Math.max(l,v)}i.outerWidth=i.width=W(e.textWidth,l),i.outerHeight=i.height=W(e.textHeight,s),u&&(i.outerWidth+=u[1]+u[3],i.outerHeight+=u[0]+u[2]);for(p=0;p<h.length;p++){var A,C=(A=h[p]).percentWidth;A.width=parseInt(C,10)/100*l}return i}function fn(t,e,i){for(var n=""===e,o=e.split("\n"),a=t.lines,r=0;r<o.length;r++){var s,l,h=o[r],u={styleName:i,text:h,isLineHolder:!h&&!n};r?a.push({tokens:[u]}):1===(l=(s=(a[a.length-1]||(a[0]={tokens:[]})).tokens).length)&&s[0].isLineHolder?s[0]=u:!h&&l&&!n||s.push(u)}}function pn(t,e){var i,n,o,a,r,s=e.x,l=e.y,h=e.width,u=e.height,e=e.r;h<0&&(s+=h,h=-h),u<0&&(l+=u,u=-u),"number"==typeof e?i=n=o=a=e:e instanceof Array?1===e.length?i=n=o=a=e[0]:2===e.length?(i=o=e[0],n=a=e[1]):3===e.length?(i=e[0],n=a=e[1],o=e[2]):(i=e[0],n=e[1],o=e[2],a=e[3]):i=n=o=a=0,h<i+n&&(i*=h/(r=i+n),n*=h/r),h<o+a&&(o*=h/(r=o+a),a*=h/r),u<n+o&&(n*=u/(r=n+o),o*=u/r),u<i+a&&(i*=u/(r=i+a),a*=u/r),t.moveTo(s+i,l),t.lineTo(s+h-n,l),0!==n&&t.arc(s+h-n,l+n,n,-Math.PI/2,0),t.lineTo(s+h,l+u-o),0!==o&&t.arc(s+h-o,l+u-o,o,0,Math.PI/2),t.lineTo(s+a,l+u),0!==a&&t.arc(s+a,l+u-a,a,Math.PI/2,Math.PI),t.lineTo(s,l+i),0!==i&&t.arc(s+i,l+i,i,Math.PI,1.5*Math.PI)}tn.measureText=function(t,e){var i=x();return i.font=e||Ji,i.measureText(t)};var gn=Ji,mn={left:1,right:1,center:1},vn={top:1,bottom:1,middle:1},yn=[["textShadowBlur","shadowBlur",0],["textShadowOffsetX","shadowOffsetX",0],["textShadowOffsetY","shadowOffsetY",0],["textShadowColor","shadowColor","transparent"]],xn={},_n={};function wn(t){return bn(t),L(t.rich,bn),t}function bn(t){var e,i;t&&(t.font=(i=((e=t).fontSize||e.fontFamily)&&[e.fontStyle,e.fontWeight,(e.fontSize||12)+"px",e.fontFamily||"sans-serif"].join(" "))&&Y(i)||e.textFont||e.font,"middle"===(e=t.textAlign)&&(e="center"),t.textAlign=null==e||mn[e]?e:"left","center"===(e=t.textVerticalAlign||t.textBaseline)&&(e="middle"),t.textVerticalAlign=null==e||vn[e]?e:"top",t.textPadding&&(t.textPadding=X(t.textPadding)))}function Sn(t,e,i,n,o,a){(n.rich?function(t,e,i,n,o,a){a!==Pi&&(e.__attrCachedBy=Li.NONE);a=t.__textCotentBlock;a&&!t.__dirtyText||(a=t.__textCotentBlock=dn(i,n));!function(t,e,i,n,o){var a=i.width,r=i.outerWidth,s=i.outerHeight,l=n.textPadding,h=Dn(_n,t,n,o),u=h.baseX,c=h.baseY,d=h.textAlign,h=h.textVerticalAlign;Mn(e,n,o,u,c);var d=on(u,r,d),h=an(c,s,h),f=d,p=h;l&&(f+=l[3],p+=l[0]);var g=f+a;Tn(n)&&An(t,e,n,d,h,r,s);for(var m,v=0;v<i.lines.length;v++){for(var y=i.lines[v],x=y.tokens,_=x.length,w=y.lineHeight,b=y.width,S=0,M=f,I=g,T=_-1;S<_&&(!(m=x[S]).textAlign||"left"===m.textAlign);)In(t,e,m,n,w,p,M,"left"),b-=m.width,M+=m.width,S++;for(;0<=T&&"right"===(m=x[T]).textAlign;)In(t,e,m,n,w,p,I,"right"),b-=m.width,I-=m.width,T--;for(M+=(a-(M-f)-(g-I)-b)/2;S<=T;)m=x[S],In(t,e,m,n,w,p,M+m.width/2,"center"),M+=m.width,S++;p+=w}}(t,e,a,n,o)}:function(t,e,i,n,o,a){var r,s=Tn(n),l=!1,h=e.__attrCachedBy===Li.PLAIN_TEXT;a!==Pi?(a&&(r=a.style,l=!s&&h&&r),e.__attrCachedBy=s?Li.NONE:Li.PLAIN_TEXT):h&&(e.__attrCachedBy=Li.NONE);var u=n.font||gn;l&&u===(r.font||gn)||(e.font=u);var c=t.__computedFont;t.__styleFont!==u&&(t.__styleFont=u,c=t.__computedFont=e.font);var d=n.textPadding,f=n.textLineHeight,p=t.__textCotentBlock;p&&!t.__dirtyText||(p=t.__textCotentBlock=cn(i,c,d,f,n.truncate));var a=p.outerHeight,g=p.lines,m=p.lineHeight,h=Dn(_n,t,n,o),u=h.baseX,f=h.baseY,p=h.textAlign||"left",h=h.textVerticalAlign;Mn(e,n,o,u,f);var h=an(f,a,h),v=u,y=h;(s||d)&&(i=en(i,c),d&&(i+=d[1]+d[3]),c=on(u,i,p),s&&An(t,e,n,c,h,i,a),d&&(v=zn(u,p,d),y+=d[0]));e.textAlign=p,e.textBaseline="middle",e.globalAlpha=n.opacity||1;for(var x=0;x<yn.length;x++){var _=yn[x],w=_[0],b=_[1],S=n[w];l&&S===r[w]||(e[b]=ki(e,b,S||_[2]))}y+=m/2;var u=n.textStrokeWidth,d=l?r.textStrokeWidth:null,p=!l||u!==d,d=!l||p||n.textStroke!==r.textStroke,M=Ln(n.textStroke,u),I=Pn(n.textFill);M&&(p&&(e.lineWidth=u),d&&(e.strokeStyle=M));I&&(l&&n.textFill===r.textFill||(e.fillStyle=I));if(1===g.length)M&&e.strokeText(g[0],v,y),I&&e.fillText(g[0],v,y);else for(x=0;x<g.length;x++)M&&e.strokeText(g[x],v,y),I&&e.fillText(g[x],v,y),y+=m})(t,e,i,n,o,a)}function Mn(t,e,i,n,o){var a;i&&e.textRotation&&("center"===(a=e.textOrigin)?(n=i.width/2+i.x,o=i.height/2+i.y):a&&(n=a[0]+i.x,o=a[1]+i.y),t.translate(n,o),t.rotate(-e.textRotation),t.translate(-n,-o))}function In(t,e,i,n,o,a,r,s){var l=n.rich[i.styleName]||{};l.text=i.text;var h=i.textVerticalAlign,u=a+o/2;"top"===h?u=a+i.height/2:"bottom"===h&&(u=a+o-i.height/2),!i.isLineHolder&&Tn(l)&&An(t,e,l,"right"===s?r-i.width:"center"===s?r-i.width/2:r,u-i.height/2,i.width,i.height);t=i.textPadding;t&&(r=zn(r,s,t),u-=i.height/2-t[2]-i.textHeight/2),kn(e,"shadowBlur",G(l.textShadowBlur,n.textShadowBlur,0)),kn(e,"shadowColor",l.textShadowColor||n.textShadowColor||"transparent"),kn(e,"shadowOffsetX",G(l.textShadowOffsetX,n.textShadowOffsetX,0)),kn(e,"shadowOffsetY",G(l.textShadowOffsetY,n.textShadowOffsetY,0)),kn(e,"textAlign",s),kn(e,"textBaseline","middle"),kn(e,"font",i.font||gn);t=Ln(l.textStroke||n.textStroke,void 0),s=Pn(l.textFill||n.textFill),n=W(l.textStrokeWidth,n.textStrokeWidth);t&&(kn(e,"lineWidth",n),kn(e,"strokeStyle",t),e.strokeText(i.text,r,u)),s&&(kn(e,"fillStyle",s),e.fillText(i.text,r,u))}function Tn(t){return!!(t.textBackgroundColor||t.textBorderWidth&&t.textBorderColor)}function An(t,e,i,n,o,a,r){var s,l,h=i.textBackgroundColor,u=i.textBorderWidth,c=i.textBorderColor,d=R(h);kn(e,"shadowBlur",i.textBoxShadowBlur||0),kn(e,"shadowColor",i.textBoxShadowColor||"transparent"),kn(e,"shadowOffsetX",i.textBoxShadowOffsetX||0),kn(e,"shadowOffsetY",i.textBoxShadowOffsetY||0),(d||u&&c)&&(e.beginPath(),(s=i.textBorderRadius)?pn(e,{x:n,y:o,width:a,height:r,r:s}):e.rect(n,o,a,r),e.closePath()),d?(kn(e,"fillStyle",h),null!=i.fillOpacity?(l=e.globalAlpha,e.globalAlpha=i.fillOpacity*i.opacity,e.fill(),e.globalAlpha=l):e.fill()):!E(h)||(d=Ui(d=h.image,null,t,Cn,h))&&qi(d)&&e.drawImage(d,n,o,a,r),u&&c&&(kn(e,"lineWidth",u),kn(e,"strokeStyle",c),null!=i.strokeOpacity?(l=e.globalAlpha,e.globalAlpha=i.strokeOpacity*i.opacity,e.stroke(),e.globalAlpha=l):e.stroke())}function Cn(t,e){e.image=t}function Dn(t,e,i,n){var o,a=i.x||0,r=i.y||0,s=i.textAlign,l=i.textVerticalAlign;return n&&((o=i.textPosition)instanceof Array?(a=n.x+On(o[0],n.width),r=n.y+On(o[1],n.height)):(a=(n=e&&e.calculateTextPosition?e.calculateTextPosition(xn,i,n):rn(xn,i,n)).x,r=n.y,s=s||n.textAlign,l=l||n.textVerticalAlign),(i=i.textOffset)&&(a+=i[0],r+=i[1])),(t=t||{}).baseX=a,t.baseY=r,t.textAlign=s,t.textVerticalAlign=l,t}function kn(t,e,i){return t[e]=ki(t,e,i),t[e]}function Ln(t,e){return null==t||e<=0||"transparent"===t||"none"===t?null:t.image||t.colorStops?"#000":t}function Pn(t){return null==t||"none"===t?null:t.image||t.colorStops?"#000":t}function On(t,e){return"string"==typeof t?0<=t.lastIndexOf("%")?parseFloat(t)/100*e:parseFloat(t):t}function zn(t,e,i){return"right"===e?t-i[1]:"center"===e?t+i[3]/2-i[1]/2:t+i[3]}function Rn(t,e){return null!=t&&(t||e.textBackgroundColor||e.textBorderWidth&&e.textBorderColor||e.textPadding)}var En=new vi,Nn=function(){};function Bn(t){for(var e in t=t||{},hi.call(this,t),t)t.hasOwnProperty(e)&&"style"!==e&&(this[e]=t[e]);this.style=new zi(t.style,this),this._rect=null,this.__clipPaths=null}function Vn(t){Bn.call(this,t)}Bn.prototype={constructor:Bn,type:"displayable",__dirty:!0,invisible:!(Nn.prototype={constructor:Nn,drawRectText:function(t,e){var i=this.style;e=i.textRect||e,this.__dirty&&wn(i);var n,o=i.text;null!=o&&(o+=""),Rn(o,i)&&(t.save(),n=this.transform,i.transformText?this.setTransform(t):n&&(En.copy(e),En.applyTransform(n),e=En),Sn(this,t,o,i,e,Pi),t.restore())}}),z:0,z2:0,zlevel:0,draggable:!1,dragging:!1,silent:!1,culling:!1,cursor:"pointer",rectHover:!1,progressive:!1,incremental:!1,globalScaleRatio:1,beforeBrush:function(t){},afterBrush:function(t){},brush:function(t,e){},getBoundingRect:function(){},contain:function(t,e){return this.rectContain(t,e)},traverse:function(t,e){t.call(e,this)},rectContain:function(t,e){e=this.transformCoordToLocal(t,e);return this.getBoundingRect().contain(e[0],e[1])},dirty:function(){this.__dirty=this.__dirtyText=!0,this._rect=null,this.__zr&&this.__zr.refresh()},animateStyle:function(t){return this.animate("style",t)},attrKV:function(t,e){"style"!==t?hi.prototype.attrKV.call(this,t,e):this.style.set(e)},setStyle:function(t,e){return this.style.set(t,e),this.dirty(!1),this},useStyle:function(t){return this.style=new zi(t,this),this.dirty(!1),this},calculateTextPosition:null},w(Bn,hi),b(Bn,Nn),Vn.prototype={constructor:Vn,type:"image",brush:function(t,e){var i=this.style,n=i.image;i.bind(t,this,e);var o,a,r,s,l,h,u=this._image=Ui(n,this._image,this,this.onload);u&&qi(u)&&(o=i.x||0,a=i.y||0,r=i.width,s=i.height,e=u.width/u.height,null==r&&null!=s?r=s*e:null==s&&null!=r?s=r/e:null==r&&null==s&&(r=u.width,s=u.height),this.setTransform(t),i.sWidth&&i.sHeight?(l=i.sx||0,h=i.sy||0,t.drawImage(u,l,h,i.sWidth,i.sHeight,o,a,r,s)):i.sx&&i.sy?(n=r-(l=i.sx),e=s-(h=i.sy),t.drawImage(u,l,h,n,e,o,a,r,s)):t.drawImage(u,o,a,r,s),null!=i.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect())))},getBoundingRect:function(){var t=this.style;return this._rect||(this._rect=new vi(t.x||0,t.y||0,t.width||0,t.height||0)),this._rect}},w(Vn,Bn);var Fn=314159;function Hn(t){return parseInt(t,10)}var Wn=new vi(0,0,0,0),Gn=new vi(0,0,0,0);var Zn=function(t,e,i){this.type="canvas";var n=!t.nodeName||"CANVAS"===t.nodeName.toUpperCase();this._opts=i=C({},i||{}),this.dpr=i.devicePixelRatio||ni,this._singleCanvas=n;var o=(this.root=t).style;o&&(o["-webkit-tap-highlight-color"]="transparent",o["-webkit-user-select"]=o["user-select"]=o["-webkit-touch-callout"]="none",t.innerHTML=""),this.storage=e;var a,o=this._zlevelList=[],e=this._layers={};this._layerConfig={},this._needsManuallyCompositing=!1,n?(n=t.width,a=t.height,null!=i.width&&(n=i.width),null!=i.height&&(a=i.height),this.dpr=i.devicePixelRatio||1,t.width=n*this.dpr,t.height=a*this.dpr,this._width=n,this._height=a,(a=new Gi(t,this,this.dpr)).__builtin__=!0,a.initContext(),(e[Fn]=a).zlevel=Fn,o.push(Fn),this._domRoot=t):(this._width=this._getSize(0),this._height=this._getSize(1),o=this._domRoot=(e=this._width,a=this._height,(o=document.createElement("div")).style.cssText=["position:relative","width:"+e+"px","height:"+a+"px","padding:0","margin:0","border-width:0"].join(";")+";",o),t.appendChild(o)),this._hoverlayer=null,this._hoverElements=[]};Zn.prototype={constructor:Zn,getType:function(){return"canvas"},isSingleCanvas:function(){return this._singleCanvas},getViewportRoot:function(){return this._domRoot},getViewportRootOffset:function(){var t=this.getViewportRoot();if(t)return{offsetLeft:t.offsetLeft||0,offsetTop:t.offsetTop||0}},refresh:function(t){var e=this.storage.getDisplayList(!0),i=this._zlevelList;this._redrawId=Math.random(),this._paintList(e,t,this._redrawId);for(var n=0;n<i.length;n++){var o=i[n],a=this._layers[o];!a.__builtin__&&a.refresh&&(o=0===n?this._backgroundColor:null,a.refresh(o))}return this.refreshHover(),this},addHover:function(t,e){if(!t.__hoverMir){var i=new t.constructor({style:t.style,shape:t.shape,z:t.z,z2:t.z2,silent:t.silent});return(i.__from=t).__hoverMir=i,e&&i.setStyle(e),this._hoverElements.push(i),i}},removeHover:function(t){var e=t.__hoverMir,i=this._hoverElements,e=_(i,e);0<=e&&i.splice(e,1),t.__hoverMir=null},clearHover:function(t){for(var e=this._hoverElements,i=0;i<e.length;i++){var n=e[i].__from;n&&(n.__hoverMir=null)}e.length=0},refreshHover:function(){var t=this._hoverElements,e=t.length,i=this._hoverlayer;if(i&&i.clear(),e){Ti(t,this.storage.displayableSortFunc);var n={};(i=i||(this._hoverlayer=this.getLayer(1e5))).ctx.save();for(var o=0;o<e;){var a=t[o],r=a.__from;r&&r.__zr?(o++,r.invisible||(a.transform=r.transform,a.invTransform=r.invTransform,a.__clipPaths=r.__clipPaths,this._doPaintEl(a,i,!0,n))):(t.splice(o,1),r.__hoverMir=null,e--)}i.ctx.restore()}},getHoverLayer:function(){return this.getLayer(1e5)},_paintList:function(t,e,i){var n,o;this._redrawId===i&&(e=e||!1,this._updateLayerStatus(t),n=this._doPaintList(t,e),this._needsManuallyCompositing&&this._compositeManually(),n||(o=this,Zi(function(){o._paintList(t,e,i)})))},_compositeManually:function(){var e=this.getLayer(Fn).ctx,i=this._domRoot.width,n=this._domRoot.height;e.clearRect(0,0,i,n),this.eachBuiltinLayer(function(t){t.virtual&&e.drawImage(t.dom,0,0,i,n)})},_doPaintList:function(t,e){for(var i=[],n=0;n<this._zlevelList.length;n++){var o=this._zlevelList[n];(s=this._layers[o]).__builtin__&&s!==this._hoverlayer&&(s.__dirty||e)&&i.push(s)}for(var a=!0,r=0;r<i.length;r++){var s,l=(s=i[r]).ctx,h={};l.save();var u,c=e?s.__startIndex:s.__drawIndex,d=!e&&s.incremental&&Date.now,f=d&&Date.now(),p=s.zlevel===this._zlevelList[0]?this._backgroundColor:null;s.__startIndex===s.__endIndex?s.clear(!1,p):c===s.__startIndex&&((u=t[c]).incremental&&u.notClear&&!e||s.clear(!1,p)),-1===c&&(console.error("For some unknown reason. drawIndex is -1"),c=s.__startIndex);for(var g=c;g<s.__endIndex;g++){var m=t[g];if(this._doPaintEl(m,s,e,h),m.__dirty=m.__dirtyText=!1,d)if(15<Date.now()-f)break}s.__drawIndex=g,s.__drawIndex<s.__endIndex&&(a=!1),h.prevElClipPaths&&l.restore(),l.restore()}return v.wxa&&L(this._layers,function(t){t&&t.ctx&&t.ctx.draw&&t.ctx.draw()}),a},_doPaintEl:function(t,e,i,n){var o,a,r=e.ctx,s=t.transform;!e.__dirty&&!i||t.invisible||0===t.style.opacity||s&&!s[0]&&!s[3]||t.culling&&(s=t,o=this._width,a=this._height,Wn.copy(s.getBoundingRect()),s.transform&&Wn.applyTransform(s.transform),Gn.width=o,Gn.height=a,!Wn.intersect(Gn))||(o=t.__clipPaths,(a=n.prevElClipPaths)&&!function(t,e){if(t!==e){if(!t||!e||t.length!==e.length)return 1;for(var i=0;i<t.length;i++)if(t[i]!==e[i])return 1}}(o,a)||(a&&(r.restore(),n.prevElClipPaths=null,n.prevEl=null),o&&(r.save(),function(t,e){for(var i=0;i<t.length;i++){var n=t[i];n.setTransform(e),e.beginPath(),n.buildPath(e,n.shape),e.clip(),n.restoreTransform(e)}}(o,r),n.prevElClipPaths=o)),t.beforeBrush&&t.beforeBrush(r),t.brush(r,n.prevEl||null),(n.prevEl=t).afterBrush&&t.afterBrush(r))},getLayer:function(t,e){this._singleCanvas&&!this._needsManuallyCompositing&&(t=Fn);var i=this._layers[t];return i||((i=new Gi("zr_"+t,this,this.dpr)).zlevel=t,i.__builtin__=!0,this._layerConfig[t]?g(i,this._layerConfig[t],!0):this._layerConfig[t-.01]&&g(i,this._layerConfig[t-.01],!0),e&&(i.virtual=e),this.insertLayer(t,i),i.initContext()),i},insertLayer:function(t,e){var i,n=this._layers,o=this._zlevelList,a=o.length,r=null,s=-1,l=this._domRoot;if(n[t])ri("ZLevel "+t+" has been used already");else if((i=e)&&(i.__builtin__||"function"==typeof i.resize&&"function"==typeof i.refresh)){if(0<a&&t>o[0]){for(s=0;s<a-1&&!(o[s]<t&&o[s+1]>t);s++);r=n[o[s]]}o.splice(s+1,0,t),(n[t]=e).virtual||(r?(r=r.dom).nextSibling?l.insertBefore(e.dom,r.nextSibling):l.appendChild(e.dom):l.firstChild?l.insertBefore(e.dom,l.firstChild):l.appendChild(e.dom))}else ri("Layer of zlevel "+t+" is not valid")},eachLayer:function(t,e){for(var i,n=this._zlevelList,o=0;o<n.length;o++)i=n[o],t.call(e,this._layers[i],i)},eachBuiltinLayer:function(t,e){for(var i,n,o=this._zlevelList,a=0;a<o.length;a++)n=o[a],(i=this._layers[n]).__builtin__&&t.call(e,i,n)},eachOtherLayer:function(t,e){for(var i,n,o=this._zlevelList,a=0;a<o.length;a++)n=o[a],(i=this._layers[n]).__builtin__||t.call(e,i,n)},getLayers:function(){return this._layers},_updateLayerStatus:function(t){function e(t){o&&(o.__endIndex!==t&&(o.__dirty=!0),o.__endIndex=t)}if(this.eachBuiltinLayer(function(t,e){t.__dirty=t.__used=!1}),this._singleCanvas)for(var i=1;i<t.length;i++)if((r=t[i]).zlevel!==t[i-1].zlevel||r.incremental){this._needsManuallyCompositing=!0;break}for(var n,o=null,a=0,i=0;i<t.length;i++){var r,s,l=(r=t[i]).zlevel;n!==l&&(n=l,a=0),r.incremental?((s=this.getLayer(l+.001,this._needsManuallyCompositing)).incremental=!0,a=1):s=this.getLayer(l+(0<a?.01:0),this._needsManuallyCompositing),s.__builtin__||ri("ZLevel "+l+" has been used by unkown layer "+s.id),s!==o&&(s.__used=!0,s.__startIndex!==i&&(s.__dirty=!0),s.__startIndex=i,s.incremental?s.__drawIndex=-1:s.__drawIndex=i,e(i),o=s),r.__dirty&&(s.__dirty=!0,s.incremental&&s.__drawIndex<0&&(s.__drawIndex=i))}e(i),this.eachBuiltinLayer(function(t,e){!t.__used&&0<t.getElementCount()&&(t.__dirty=!0,t.__startIndex=t.__endIndex=t.__drawIndex=0),t.__dirty&&t.__drawIndex<0&&(t.__drawIndex=t.__startIndex)})},clear:function(){return this.eachBuiltinLayer(this._clearLayer),this},_clearLayer:function(t){t.clear()},setBackgroundColor:function(t){this._backgroundColor=t},configLayer:function(t,e){if(e){var i=this._layerConfig;i[t]?g(i[t],e,!0):i[t]=e;for(var n=0;n<this._zlevelList.length;n++){var o=this._zlevelList[n];o!==t&&o!==t+.01||g(this._layers[o],i[t],!0)}}},delLayer:function(t){var e=this._layers,i=this._zlevelList,n=e[t];n&&(n.dom.parentNode.removeChild(n.dom),delete e[t],i.splice(_(i,t),1))},resize:function(e,i){if(this._domRoot.style){var t=this._domRoot;t.style.display="none";var n=this._opts;if(null!=e&&(n.width=e),null!=i&&(n.height=i),e=this._getSize(0),i=this._getSize(1),t.style.display="",this._width!==e||i!==this._height){for(var o in t.style.width=e+"px",t.style.height=i+"px",this._layers)this._layers.hasOwnProperty(o)&&this._layers[o].resize(e,i);L(this._progressiveLayers,function(t){t.resize(e,i)}),this.refresh(!0)}this._width=e,this._height=i}else{if(null==e||null==i)return;this._width=e,this._height=i,this.getLayer(Fn).resize(e,i)}return this},clearLayer:function(t){t=this._layers[t];t&&t.clear()},dispose:function(){this.root.innerHTML="",this.root=this.storage=this._domRoot=this._layers=null},getRenderedCanvas:function(t){if(t=t||{},this._singleCanvas&&!this._compositeManually)return this._layers[Fn].dom;var e=new Gi("image",this,t.pixelRatio||this.dpr);if(e.initContext(),e.clear(!1,t.backgroundColor||this._backgroundColor),t.pixelRatio<=this.dpr){this.refresh();var i=e.dom.width,n=e.dom.height,o=e.ctx;this.eachLayer(function(t){t.__builtin__?o.drawImage(t.dom,0,0,i,n):t.renderToCanvas&&(e.ctx.save(),t.renderToCanvas(e.ctx),e.ctx.restore())})}else for(var a={},r=this.storage.getDisplayList(!0),s=0;s<r.length;s++){var l=r[s];this._doPaintEl(l,e,!0,a)}return e.dom},getWidth:function(){return this._width},getHeight:function(){return this._height},_getSize:function(t){var e=this._opts,i=["width","height"][t],n=["clientWidth","clientHeight"][t],o=["paddingLeft","paddingTop"][t],a=["paddingRight","paddingBottom"][t];if(null!=e[i]&&"auto"!==e[i])return parseFloat(e[i]);t=this.root,e=document.defaultView.getComputedStyle(t);return(t[n]||Hn(e[i])||Hn(t.style[i]))-(Hn(e[o])||0)-(Hn(e[a])||0)|0},pathToImage:function(t,e){e=e||this.dpr;var i=document.createElement("canvas"),n=i.getContext("2d"),o=t.getBoundingRect(),a=t.style,r=a.shadowBlur*e,s=a.shadowOffsetX*e,l=a.shadowOffsetY*e,h=a.hasStroke()?a.lineWidth:0,u=Math.max(h/2,r-s),a=Math.max(h/2,s+r),s=Math.max(h/2,r-l),r=Math.max(h/2,l+r),a=o.width+u+a,r=o.height+s+r;i.width=a*e,i.height=r*e,n.scale(e,e),n.clearRect(0,0,a,r),n.dpr=e;e={position:t.position,rotation:t.rotation,scale:t.scale};t.position=[u-o.x,s-o.y],t.rotation=0,t.scale=[1,1],t.updateTransform(),t&&t.brush(n);i=new Vn({style:{x:0,y:0,image:i}});return null!=e.position&&(i.position=t.position=e.position),null!=e.rotation&&(i.rotation=t.rotation=e.rotation),null!=e.scale&&(i.scale=t.scale=e.scale),i}};function Xn(t){t=t||{},this.stage=t.stage||{},this.onframe=t.onframe||function(){},this._clips=[],this._running=!1,this._time,this._pausedTime,this._pauseStart,this._paused=!1,It.call(this)}Xn.prototype={constructor:Xn,addClip:function(t){this._clips.push(t)},addAnimator:function(t){t.animation=this;for(var e=t.getClips(),i=0;i<e.length;i++)this.addClip(e[i])},removeClip:function(t){t=_(this._clips,t);0<=t&&this._clips.splice(t,1)},removeAnimator:function(t){for(var e=t.getClips(),i=0;i<e.length;i++)this.removeClip(e[i]);t.animation=null},_update:function(){for(var t=(new Date).getTime()-this._pausedTime,e=t-this._time,i=this._clips,n=i.length,o=[],a=[],r=0;r<n;r++){var s=i[r],l=s.step(t,e);l&&(o.push(l),a.push(s))}for(r=0;r<n;)i[r]._needsRemove?(i[r]=i[n-1],i.pop(),n--):r++;n=o.length;for(r=0;r<n;r++)a[r].fire(o[r]);this._time=t,this.onframe(e),this.trigger("frame",e),this.stage.update&&this.stage.update()},_startLoop:function(){var e=this;this._running=!0,Zi(function t(){e._running&&(Zi(t),e._paused||e._update())})},start:function(){this._time=(new Date).getTime(),this._pausedTime=0,this._startLoop()},stop:function(){this._running=!1},pause:function(){this._paused||(this._pauseStart=(new Date).getTime(),this._paused=!0)},resume:function(){this._paused&&(this._pausedTime+=(new Date).getTime()-this._pauseStart,this._paused=!1)},clear:function(){this._clips=[]},isFinished:function(){return!this._clips.length},animate:function(t,e){e=new ei(t,(e=e||{}).loop,e.getter,e.setter);return this.addAnimator(e),e}},b(Xn,It);var Un,Yn=v.domSupported,qn=(Un={pointerdown:1,pointerup:1,pointermove:1,pointerout:1},{mouse:Xs=["click","dblclick","mousewheel","mouseout","mouseup","mousedown","mousemove","contextmenu"],touch:["touchstart","touchend","touchmove"],pointer:S(Xs,function(t){var e=t.replace("mouse","pointer");return Un.hasOwnProperty(e)?e:t})}),jn={mouse:["mousemove","mouseup"],pointer:["pointermove","pointerup"]};function Kn(t){return"mousewheel"===t&&v.browser.firefox?"DOMMouseScroll":t}function $n(t){t=t.pointerType;return"pen"===t||"touch"===t}function Qn(t){t&&(t.zrByTouch=!0)}function Jn(t,e){for(var i=e,n=!1;i&&9!==i.nodeType&&!(n=i.domBelongToZr||i!==e&&i===t.painterRoot);)i=i.parentNode;return n}function to(t,e){this.type=e.type,this.target=this.currentTarget=t.dom,this.pointerType=e.pointerType,this.clientX=e.clientX,this.clientY=e.clientY}var eo=to.prototype;eo.stopPropagation=eo.stopImmediatePropagation=eo.preventDefault=tt;var io={mousedown:function(t){t=Ft(this.dom,t),this._mayPointerCapture=[t.zrX,t.zrY],this.trigger("mousedown",t)},mousemove:function(t){t=Ft(this.dom,t);var e=this._mayPointerCapture;!e||t.zrX===e[0]&&t.zrY===e[1]||lo(this,!0),this.trigger("mousemove",t)},mouseup:function(t){t=Ft(this.dom,t),lo(this,!1),this.trigger("mouseup",t)},mouseout:function(t){t=Ft(this.dom,t),this._pointerCapturing&&(t.zrEventControl="no_globalout");var e=t.toElement||t.relatedTarget;t.zrIsToLocalDOM=Jn(this,e),this.trigger("mouseout",t)},touchstart:function(t){Qn(t=Ft(this.dom,t)),this._lastTouchMoment=new Date,this.handler.processGesture(t,"start"),io.mousemove.call(this,t),io.mousedown.call(this,t)},touchmove:function(t){Qn(t=Ft(this.dom,t)),this.handler.processGesture(t,"change"),io.mousemove.call(this,t)},touchend:function(t){Qn(t=Ft(this.dom,t)),this.handler.processGesture(t,"end"),io.mouseup.call(this,t),+new Date-this._lastTouchMoment<300&&io.click.call(this,t)},pointerdown:function(t){io.mousedown.call(this,t)},pointermove:function(t){$n(t)||io.mousemove.call(this,t)},pointerup:function(t){io.mouseup.call(this,t)},pointerout:function(t){$n(t)||io.mouseout.call(this,t)}};L(["click","mousewheel","dblclick","contextmenu"],function(e){io[e]=function(t){t=Ft(this.dom,t),this.trigger(e,t)}});var no={pointermove:function(t){$n(t)||no.mousemove.call(this,t)},pointerup:function(t){no.mouseup.call(this,t)},mousemove:function(t){this.trigger("mousemove",t)},mouseup:function(t){var e=this._pointerCapturing;lo(this,!1),this.trigger("mouseup",t),e&&(t.zrEventControl="only_globalout",this.trigger("mouseout",t))}};function oo(n,o){var a=o.domHandlers;v.pointerEventsSupported?L(qn.pointer,function(e){ro(o,e,function(t){a[e].call(n,t)})}):(v.touchEventsSupported&&L(qn.touch,function(i){ro(o,i,function(t){var e;a[i].call(n,t),(e=o).touching=!0,null!=e.touchTimer&&(clearTimeout(e.touchTimer),e.touchTimer=null),e.touchTimer=setTimeout(function(){e.touching=!1,e.touchTimer=null},700)})}),L(qn.mouse,function(e){ro(o,e,function(t){t=Vt(t),o.touching||a[e].call(n,t)})}))}function ao(o,a){function t(n){ro(a,n,function(t){var e,i;t=Vt(t),Jn(o,t.target)||(i=t,t=Ft((e=o).dom,new to(e,i),!0),a.domHandlers[n].call(o,t))},{capture:!0})}v.pointerEventsSupported?L(jn.pointer,t):v.touchEventsSupported||L(jn.mouse,t)}function ro(t,e,i,n){t.mounted[e]=i,t.listenerOpts[e]=n,t=t.domTarget,e=Kn(e),i=i,n=n,zt?t.addEventListener(e,i,n):t.attachEvent("on"+e,i)}function so(t){var e,i,n,o,a,r=t.mounted;for(e in r)r.hasOwnProperty(e)&&(i=t.domTarget,n=Kn(e),o=r[e],a=t.listenerOpts[e],zt?i.removeEventListener(n,o,a):i.detachEvent("on"+n,o));t.mounted={}}function lo(t,e){var i;t._mayPointerCapture=null,Yn&&t._pointerCapturing^e&&(t._pointerCapturing=e,i=t._globalHandlerScope,e?ao(t,i):so(i))}function ho(t,e){this.domTarget=t,this.domHandlers=e,this.mounted={},this.listenerOpts={},this.touchTimer=null,this.touching=!1}function uo(t,e){It.call(this),this.dom=t,this.painterRoot=e,this._localHandlerScope=new ho(t,io),Yn&&(this._globalHandlerScope=new ho(document,no)),this._pointerCapturing=!1,this._mayPointerCapture=null,oo(this,this._localHandlerScope)}var co=uo.prototype;co.dispose=function(){so(this._localHandlerScope),Yn&&so(this._globalHandlerScope)},co.setCursor=function(t){this.dom.style&&(this.dom.style.cursor=t||"default")},b(uo,It);var fo=!v.canvasSupported,po={canvas:Zn},go={};function mo(t,e){e=new vo(i(),t,e);return go[e.id]=e}var vo=function(t,e,i){i=i||{},this.dom=e,this.id=t;var n=this,o=new Ci,a=i.renderer;if(fo){if(!po.vml)throw new Error("You need to require 'zrender/vml/vml' to support IE8");a="vml"}else a&&po[a]||(a="canvas");i=new po[a](e,o,i,t);this.storage=o,this.painter=i;t=v.node||v.worker?null:new uo(i.getViewportRoot(),i.root);this.handler=new jt(o,i,t,i.root),this.animation=new Xn({stage:{update:T(this.flush,this)}}),this.animation.start(),this._needsRefresh;var r=o.delFromStorage,s=o.addToStorage;o.delFromStorage=function(t){r.call(o,t),t&&t.removeSelfFromZr(n)},o.addToStorage=function(t){s.call(o,t),t.addSelfToZr(n)}};vo.prototype={constructor:vo,getId:function(){return this.id},add:function(t){this.storage.addRoot(t),this._needsRefresh=!0},remove:function(t){this.storage.delRoot(t),this._needsRefresh=!0},configLayer:function(t,e){this.painter.configLayer&&this.painter.configLayer(t,e),this._needsRefresh=!0},setBackgroundColor:function(t){this.painter.setBackgroundColor&&this.painter.setBackgroundColor(t),this._needsRefresh=!0},refreshImmediately:function(){this._needsRefresh=this._needsRefreshHover=!1,this.painter.refresh(),this._needsRefresh=this._needsRefreshHover=!1},refresh:function(){this._needsRefresh=!0},flush:function(){var t;this._needsRefresh&&(t=!0,this.refreshImmediately()),this._needsRefreshHover&&(t=!0,this.refreshHoverImmediately()),t&&this.trigger("rendered")},addHover:function(t,e){if(this.painter.addHover){e=this.painter.addHover(t,e);return this.refreshHover(),e}},removeHover:function(t){this.painter.removeHover&&(this.painter.removeHover(t),this.refreshHover())},clearHover:function(){this.painter.clearHover&&(this.painter.clearHover(),this.refreshHover())},refreshHover:function(){this._needsRefreshHover=!0},refreshHoverImmediately:function(){this._needsRefreshHover=!1,this.painter.refreshHover&&this.painter.refreshHover()},resize:function(t){t=t||{},this.painter.resize(t.width,t.height),this.handler.resize()},clearAnimation:function(){this.animation.clear()},getWidth:function(){return this.painter.getWidth()},getHeight:function(){return this.painter.getHeight()},pathToImage:function(t,e){return this.painter.pathToImage(t,e)},setCursorStyle:function(t){this.handler.setCursorStyle(t)},findHover:function(t,e){return this.handler.findHover(t,e)},on:function(t,e,i){this.handler.on(t,e,i)},off:function(t,e){this.handler.off(t,e)},trigger:function(t,e){this.handler.trigger(t,e)},clear:function(){this.storage.delRoot(),this.painter.clear()},dispose:function(){var t;this.animation.stop(),this.clear(),this.storage.dispose(),this.painter.dispose(),this.handler.dispose(),this.animation=this.storage=this.painter=this.handler=null,t=this.id,delete go[t]}};var yo=(Object.freeze||Object)({version:"4.3.2",init:mo,dispose:function(t){if(t)t.dispose();else{for(var e in go)go.hasOwnProperty(e)&&go[e].dispose();go={}}return this},getInstance:function(t){return go[t]},registerPainter:function(t,e){po[t]=e}}),xo=L,_o=E,wo=O,bo="series\0";function So(t){return t instanceof Array?t:null==t?[]:[t]}function Mo(t,e,i){if(t){t[e]=t[e]||{},t.emphasis=t.emphasis||{},t.emphasis[e]=t.emphasis[e]||{};for(var n=0,o=i.length;n<o;n++){var a=i[n];!t.emphasis[e].hasOwnProperty(a)&&t[e].hasOwnProperty(a)&&(t.emphasis[e][a]=t[e][a])}}}var Io=["fontStyle","fontWeight","fontSize","fontFamily","rich","tag","color","textBorderColor","textBorderWidth","width","height","lineHeight","align","verticalAlign","baseline","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","backgroundColor","borderColor","borderWidth","borderRadius","padding"];function To(t){return!_o(t)||wo(t)||t instanceof Date?t:t.value}function Ao(t,o){o=(o||[]).slice();var a=S(t||[],function(t,e){return{exist:t}});return xo(o,function(t,e){if(_o(t)){for(var i=0;i<a.length;i++)if(!a[i].option&&null!=t.id&&a[i].exist.id===t.id+"")return a[i].option=t,void(o[e]=null);for(i=0;i<a.length;i++){var n=a[i].exist;if(!(a[i].option||null!=n.id&&null!=t.id||null==t.name||Do(t)||Do(n)||n.name!==t.name+""))return a[i].option=t,void(o[e]=null)}}}),xo(o,function(t,e){if(_o(t)){for(var i=0;i<a.length;i++){var n=a[i].exist;if(!a[i].option&&!Do(n)&&null==t.id){a[i].option=t;break}}i>=a.length&&a.push({option:t})}}),a}function Co(t){t=t.name;return t&&t.indexOf(bo)}function Do(t){return _o(t)&&t.id&&0===(t.id+"").indexOf("\0_ec_\0")}function ko(e,t){return null!=t.dataIndexInside?t.dataIndexInside:null!=t.dataIndex?O(t.dataIndex)?S(t.dataIndex,function(t){return e.indexOfRawIndex(t)}):e.indexOfRawIndex(t.dataIndex):null!=t.name?O(t.name)?S(t.name,function(t){return e.indexOfName(t)}):e.indexOfName(t.name):void 0}function Lo(){var e="__\0ec_inner_"+Po+++"_"+Math.random().toFixed(5);return function(t){return t[e]||(t[e]={})}}var Po=0;function Oo(a,r,s){R(r)&&((t={})[r+"Index"]=0,r=t);var t=s&&s.defaultMainType;!t||zo(r,t+"Index")||zo(r,t+"Id")||zo(r,t+"Name")||(r[t+"Index"]=0);var l={};return xo(r,function(t,e){var i,n,o,t=r[e];"dataIndex"!==e&&"dataIndexInside"!==e?(i=(o=e.match(/^(\w+)(Index|Id|Name)$/)||[])[1],n=(o[2]||"").toLowerCase(),!i||!n||null==t||"index"===n&&"none"===t||s&&s.includeMainTypes&&_(s.includeMainTypes,i)<0||(o={mainType:i},"index"===n&&"all"===t||(o[n]=t),o=a.queryComponents(o),l[i+"Models"]=o,l[i+"Model"]=o[0])):l[e]=t}),l}function zo(t,e){return t&&t.hasOwnProperty(e)}function Ro(t,e,i){t.setAttribute?t.setAttribute(e,i):t[e]=i}function Eo(t){return"auto"===t?v.domSupported?"html":"richText":t||"html"}var No=".",Bo="___EC__COMPONENT__CONTAINER___";function Vo(t){var e={main:"",sub:""};return t&&(t=t.split(No),e.main=t[0]||"",e.sub=t[1]||""),e}function Fo(t){(t.$constructor=t).extend=function(t){function e(){(t.$constructor||i).apply(this,arguments)}var i=this;return C(e.prototype,t),e.extend=this.extend,e.superCall=Go,e.superApply=Zo,w(e,this),e.superClass=i,e}}var Ho=0;function Wo(t){var e=["__\0is_clz",Ho++,Math.random().toFixed(3)].join("_");t.prototype[e]=!0,t.isInstance=function(t){return!(!t||!t[e])}}function Go(t,e){var i=Z(arguments,2);return this.superClass.prototype[e].apply(t,i)}function Zo(t,e,i){return this.superClass.prototype[e].apply(t,i)}function Xo(i,t){t=t||{};var n,o={};return i.registerClass=function(t,e){var i;return e&&(U(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(i=e),'componentType "'+i+'" illegal'),(e=Vo(e)).sub?e.sub!==Bo&&(function(t){var e=o[t.main];e&&e[Bo]||((e=o[t.main]={})[Bo]=!0);return e}(e)[e.sub]=t):o[e.main]=t),t},i.getClass=function(t,e,i){var n=o[t];if(n&&n[Bo]&&(n=e?n[e]:null),i&&!n)throw new Error(e?"Component "+t+"."+(e||"")+" not exists. Load it first.":t+".type should be specified.");return n},i.getClassesByMainType=function(t){t=Vo(t);var i=[],t=o[t.main];return t&&t[Bo]?L(t,function(t,e){e!==Bo&&i.push(t)}):i.push(t),i},i.hasClass=function(t){return t=Vo(t),!!o[t.main]},i.getAllClassMainTypes=function(){var i=[];return L(o,function(t,e){i.push(e)}),i},i.hasSubTypes=function(t){t=Vo(t);t=o[t.main];return t&&t[Bo]},i.parseClassType=Vo,!t.registerWhenExtend||(n=i.extend)&&(i.extend=function(t){var e=n.call(this,t);return i.registerClass(e,t.type)}),i}var Uo=function(r){for(var t=0;t<r.length;t++)r[t][1]||(r[t][1]=r[t][0]);return function(t,e,i){for(var n={},o=0;o<r.length;o++){var a=r[o][1];e&&0<=_(e,a)||i&&_(i,a)<0||null!=(a=t.getShallow(a))&&(n[r[o][0]]=a)}return n}},Yo=Uo([["lineWidth","width"],["stroke","color"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),n={getLineStyle:function(t){t=Yo(this,t);return t.lineDash=this.getLineDash(t.lineWidth),t},getLineDash:function(t){null==t&&(t=1);var e=this.get("type"),i=Math.max(t,2),t=4*t;return"solid"!==e&&null!=e&&("dashed"===e?[t,t]:[i,i])}},qo=Uo([["fill","color"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["opacity"],["shadowColor"]]),ce={getAreaStyle:function(t,e){return qo(this,t,e)}},jo=Math.pow,Ko=Math.sqrt,$o=1e-8,Qo=1e-4,Jo=Ko(3),ta=1/3,ea=nt(),ia=nt(),na=nt();function oa(t){return-$o<t&&t<$o}function aa(t){return $o<t||t<-$o}function ra(t,e,i,n,o){var a=1-o;return a*a*(a*t+3*o*e)+o*o*(o*n+3*a*i)}function sa(t,e,i,n,o){var a=1-o;return 3*(((e-t)*a+2*(i-e)*o)*a+(n-i)*o*o)}function la(t,e,i,n,o){var a,r=6*i-12*e+6*t,n=9*e+3*n-3*t-9*i,i=3*e-3*t,e=0;return oa(n)?aa(r)&&0<=(a=-i/r)&&a<=1&&(o[e++]=a):oa(t=r*r-4*n*i)?o[0]=-r/(2*n):0<t&&(t=(-r-(i=Ko(t)))/(2*n),0<=(a=(-r+i)/(2*n))&&a<=1&&(o[e++]=a),0<=t&&t<=1&&(o[e++]=t)),e}function ha(t,e,i,n,o,a){var r=(e-t)*o+t,s=(i-e)*o+e,e=(n-i)*o+i,i=(s-r)*o+r,s=(e-s)*o+s,o=(s-i)*o+i;a[0]=t,a[1]=r,a[2]=i,a[3]=o,a[4]=o,a[5]=s,a[6]=e,a[7]=n}function ua(t,e,i,n){var o=1-n;return o*(o*t+2*n*e)+n*n*i}function ca(t,e,i,n){return 2*((1-n)*(e-t)+n*(i-e))}function da(t,e,i){i=t+i-2*e;return 0==i?.5:(t-e)/i}function fa(t,e,i,n,o){var a=(e-t)*n+t,e=(i-e)*n+e,n=(e-a)*n+a;o[0]=t,o[1]=a,o[2]=n,o[3]=n,o[4]=e,o[5]=i}var pa=Math.min,ga=Math.max,ma=Math.sin,va=Math.cos,ya=2*Math.PI,xa=nt(),_a=nt(),wa=nt();function ba(t,e,i){if(0!==t.length){for(var n=t[0],o=n[0],a=n[0],r=n[1],s=n[1],l=1;l<t.length;l++)n=t[l],o=pa(o,n[0]),a=ga(a,n[0]),r=pa(r,n[1]),s=ga(s,n[1]);e[0]=o,e[1]=r,i[0]=a,i[1]=s}}function Sa(t,e,i,n,o,a){o[0]=pa(t,i),o[1]=pa(e,n),a[0]=ga(t,i),a[1]=ga(e,n)}var Ma=[],Ia=[];var Ta={M:1,L:2,C:3,Q:4,A:5,Z:6,R:7},Aa=[],Ca=[],Da=[],ka=[],La=Math.min,Pa=Math.max,Oa=Math.cos,za=Math.sin,Ra=Math.sqrt,Ea=Math.abs,Na="undefined"!=typeof Float32Array,Ba=function(t){this._saveData=!t,this._saveData&&(this.data=[]),this._ctx=null};function Va(t,e,i,n,o,a,r){if(0!==o){var s=o,o=0;if(!(e+s<r&&n+s<r||r<e-s&&r<n-s||t+s<a&&i+s<a||a<t-s&&a<i-s)){if(t===i)return Math.abs(a-t)<=s/2;i=(o=(e-n)/(t-i))*a-r+(t*n-i*e)/(t-i);return i*i/(o*o+1)<=s/2*s/2}}}function Fa(t,e,i,n,o,a,r,s,l,h,u){if(0!==l){l=l;return e+l<u&&n+l<u&&a+l<u&&s+l<u||u<e-l&&u<n-l&&u<a-l&&u<s-l||t+l<h&&i+l<h&&o+l<h&&r+l<h||h<t-l&&h<i-l&&h<o-l&&h<r-l?void 0:function(t,e,i,n,o,a,r,s,l,h,u){var c,d,f,p,g=.005,m=1/0;ea[0]=l,ea[1]=h;for(var v=0;v<1;v+=.05)ia[0]=ra(t,i,o,r,v),ia[1]=ra(e,n,a,s,v),(f=mt(ea,ia))<m&&(c=v,m=f);m=1/0;for(var y=0;y<32&&!(g<Qo);y++)p=c-g,d=c+g,ia[0]=ra(t,i,o,r,p),ia[1]=ra(e,n,a,s,p),f=mt(ia,ea),0<=p&&f<m?(c=p,m=f):(na[0]=ra(t,i,o,r,d),na[1]=ra(e,n,a,s,d),p=mt(na,ea),d<=1&&p<m?(c=d,m=p):g*=.5);return u&&(u[0]=ra(t,i,o,r,c),u[1]=ra(e,n,a,s,c)),Ko(m)}(t,e,i,n,o,a,r,s,h,u,null)<=l/2}}function Ha(t,e,i,n,o,a,r,s,l){if(0!==r){r=r;return e+r<l&&n+r<l&&a+r<l||l<e-r&&l<n-r&&l<a-r||t+r<s&&i+r<s&&o+r<s||s<t-r&&s<i-r&&s<o-r?void 0:function(t,e,i,n,o,a,r,s,l){var h,u=.005,c=1/0;ea[0]=r,ea[1]=s;for(var d=0;d<1;d+=.05)ia[0]=ua(t,i,o,d),ia[1]=ua(e,n,a,d),(m=mt(ea,ia))<c&&(h=d,c=m);c=1/0;for(var f=0;f<32&&!(u<Qo);f++){var p=h-u,g=h+u;ia[0]=ua(t,i,o,p),ia[1]=ua(e,n,a,p);var m=mt(ia,ea);0<=p&&m<c?(h=p,c=m):(na[0]=ua(t,i,o,g),na[1]=ua(e,n,a,g),p=mt(na,ea),g<=1&&p<c?(h=g,c=p):u*=.5)}return l&&(l[0]=ua(t,i,o,h),l[1]=ua(e,n,a,h)),Ko(c)}(t,e,i,n,o,a,s,l,null)<=r/2}}Ba.prototype={constructor:Ba,_xi:0,_yi:0,_x0:0,_y0:0,_ux:0,_uy:0,_len:0,_lineDash:null,_dashOffset:0,_dashIdx:0,_dashSum:0,setScale:function(t,e,i){i=i||0,this._ux=Ea(i/ni/t)||0,this._uy=Ea(i/ni/e)||0},getContext:function(){return this._ctx},beginPath:function(t){return(this._ctx=t)&&t.beginPath(),t&&(this.dpr=t.dpr),this._saveData&&(this._len=0),this._lineDash&&(this._lineDash=null,this._dashOffset=0),this},moveTo:function(t,e){return this.addData(Ta.M,t,e),this._ctx&&this._ctx.moveTo(t,e),this._x0=t,this._y0=e,this._xi=t,this._yi=e,this},lineTo:function(t,e){var i=Ea(t-this._xi)>this._ux||Ea(e-this._yi)>this._uy||this._len<5;return this.addData(Ta.L,t,e),this._ctx&&i&&(this._needsDash()?this._dashedLineTo(t,e):this._ctx.lineTo(t,e)),i&&(this._xi=t,this._yi=e),this},bezierCurveTo:function(t,e,i,n,o,a){return this.addData(Ta.C,t,e,i,n,o,a),this._ctx&&(this._needsDash()?this._dashedBezierTo(t,e,i,n,o,a):this._ctx.bezierCurveTo(t,e,i,n,o,a)),this._xi=o,this._yi=a,this},quadraticCurveTo:function(t,e,i,n){return this.addData(Ta.Q,t,e,i,n),this._ctx&&(this._needsDash()?this._dashedQuadraticTo(t,e,i,n):this._ctx.quadraticCurveTo(t,e,i,n)),this._xi=i,this._yi=n,this},arc:function(t,e,i,n,o,a){return this.addData(Ta.A,t,e,i,i,n,o-n,0,a?0:1),this._ctx&&this._ctx.arc(t,e,i,n,o,a),this._xi=Oa(o)*i+t,this._yi=za(o)*i+e,this},arcTo:function(t,e,i,n,o){return this._ctx&&this._ctx.arcTo(t,e,i,n,o),this},rect:function(t,e,i,n){return this._ctx&&this._ctx.rect(t,e,i,n),this.addData(Ta.R,t,e,i,n),this},closePath:function(){this.addData(Ta.Z);var t=this._ctx,e=this._x0,i=this._y0;return t&&(this._needsDash()&&this._dashedLineTo(e,i),t.closePath()),this._xi=e,this._yi=i,this},fill:function(t){t&&t.fill(),this.toStatic()},stroke:function(t){t&&t.stroke(),this.toStatic()},setLineDash:function(t){if(t instanceof Array){this._lineDash=t;for(var e=this._dashIdx=0,i=0;i<t.length;i++)e+=t[i];this._dashSum=e}return this},setLineDashOffset:function(t){return this._dashOffset=t,this},len:function(){return this._len},setData:function(t){var e=t.length;this.data&&this.data.length===e||!Na||(this.data=new Float32Array(e));for(var i=0;i<e;i++)this.data[i]=t[i];this._len=e},appendPath:function(t){t instanceof Array||(t=[t]);for(var e=t.length,i=0,n=this._len,o=0;o<e;o++)i+=t[o].len();Na&&this.data instanceof Float32Array&&(this.data=new Float32Array(n+i));for(o=0;o<e;o++)for(var a=t[o].data,r=0;r<a.length;r++)this.data[n++]=a[r];this._len=n},addData:function(t){if(this._saveData){var e=this.data;this._len+arguments.length>e.length&&(this._expandData(),e=this.data);for(var i=0;i<arguments.length;i++)e[this._len++]=arguments[i];this._prevCmd=t}},_expandData:function(){if(!(this.data instanceof Array)){for(var t=[],e=0;e<this._len;e++)t[e]=this.data[e];this.data=t}},_needsDash:function(){return this._lineDash},_dashedLineTo:function(t,e){var i,n,o=this._dashSum,a=this._dashOffset,r=this._lineDash,s=this._ctx,l=this._xi,h=this._yi,u=t-l,c=e-h,d=Ra(u*u+c*c),f=l,p=h,g=r.length;for(a<0&&(a=o+a),f-=(a%=o)*(u/=d),p-=a*(c/=d);0<u&&f<=t||u<0&&t<=f||0===u&&(0<c&&p<=e||c<0&&e<=p);)f+=u*(i=r[n=this._dashIdx]),p+=c*i,this._dashIdx=(n+1)%g,0<u&&f<l||u<0&&l<f||0<c&&p<h||c<0&&h<p||s[n%2?"moveTo":"lineTo"]((0<=u?La:Pa)(f,t),(0<=c?La:Pa)(p,e));u=f-t,c=p-e,this._dashOffset=-Ra(u*u+c*c)},_dashedBezierTo:function(t,e,i,n,o,a){var r,s,l,h,u,c=this._dashSum,d=this._dashOffset,f=this._lineDash,p=this._ctx,g=this._xi,m=this._yi,v=ra,y=0,x=this._dashIdx,_=f.length,w=0;for(d<0&&(d=c+d),d%=c,r=0;r<1;r+=.1)s=v(g,t,i,o,r+.1)-v(g,t,i,o,r),l=v(m,e,n,a,r+.1)-v(m,e,n,a,r),y+=Ra(s*s+l*l);for(;x<_&&!(d<(w+=f[x]));x++);for(r=(w-d)/y;r<=1;)h=v(g,t,i,o,r),u=v(m,e,n,a,r),x%2?p.moveTo(h,u):p.lineTo(h,u),r+=f[x]/y,x=(x+1)%_;x%2!=0&&p.lineTo(o,a),s=o-h,l=a-u,this._dashOffset=-Ra(s*s+l*l)},_dashedQuadraticTo:function(t,e,i,n){var o=i,a=n;i=(i+2*t)/3,n=(n+2*e)/3,t=(this._xi+2*t)/3,e=(this._yi+2*e)/3,this._dashedBezierTo(t,e,i,n,o,a)},toStatic:function(){var t=this.data;t instanceof Array&&(t.length=this._len,Na&&(this.data=new Float32Array(t)))},getBoundingRect:function(){Aa[0]=Aa[1]=Da[0]=Da[1]=Number.MAX_VALUE,Ca[0]=Ca[1]=ka[0]=ka[1]=-Number.MAX_VALUE;for(var t,e,i,n,o=this.data,a=0,r=0,s=0,l=0,h=0;h<o.length;){var u=o[h++];switch(1===h&&(s=a=o[h],l=r=o[h+1]),u){case Ta.M:a=s=o[h++],r=l=o[h++],Da[0]=s,Da[1]=l,ka[0]=s,ka[1]=l;break;case Ta.L:Sa(a,r,o[h],o[h+1],Da,ka),a=o[h++],r=o[h++];break;case Ta.C:!function(t,e,i,n,o,a,r,s,l,h){var u,c=la,d=ra,f=c(t,i,o,r,Ma);for(l[0]=1/0,l[1]=1/0,h[0]=-1/0,h[1]=-1/0,u=0;u<f;u++){var p=d(t,i,o,r,Ma[u]);l[0]=pa(p,l[0]),h[0]=ga(p,h[0])}for(f=c(e,n,a,s,Ia),u=0;u<f;u++){var g=d(e,n,a,s,Ia[u]);l[1]=pa(g,l[1]),h[1]=ga(g,h[1])}l[0]=pa(t,l[0]),h[0]=ga(t,h[0]),l[0]=pa(r,l[0]),h[0]=ga(r,h[0]),l[1]=pa(e,l[1]),h[1]=ga(e,h[1]),l[1]=pa(s,l[1]),h[1]=ga(s,h[1])}(a,r,o[h++],o[h++],o[h++],o[h++],o[h],o[h+1],Da,ka),a=o[h++],r=o[h++];break;case Ta.Q:c=a,g=r,t=o[h++],e=o[h++],d=o[h],m=o[h+1],i=Da,p=ka,v=f=v=f=n=void 0,n=ua,f=ga(pa((v=da)(c,t,d),1),0),v=ga(pa(v(g,e,m),1),0),f=n(c,t,d,f),v=n(g,e,m,v),i[0]=pa(c,d,f),i[1]=pa(g,m,v),p[0]=ga(c,d,f),p[1]=ga(g,m,v),a=o[h++],r=o[h++];break;case Ta.A:var c=o[h++],d=o[h++],f=o[h++],p=o[h++],g=o[h++],m=o[h++]+g;h+=1;var v=1-o[h++];1===h&&(s=Oa(g)*f+c,l=za(g)*p+d),function(t,e,i,n,o,a,r,s,l){var h=xt,u=_t,c=Math.abs(o-a);if(c%ya<1e-4&&1e-4<c)return s[0]=t-i,s[1]=e-n,l[0]=t+i,l[1]=e+n;xa[0]=va(o)*i+t,xa[1]=ma(o)*n+e,_a[0]=va(a)*i+t,_a[1]=ma(a)*n+e,h(s,xa,_a),u(l,xa,_a),(o%=ya)<0&&(o+=ya),(a%=ya)<0&&(a+=ya),a<o&&!r?a+=ya:o<a&&r&&(o+=ya),r&&(r=a,a=o,o=r);for(var d=0;d<a;d+=Math.PI/2)o<d&&(wa[0]=va(d)*i+t,wa[1]=ma(d)*n+e,h(s,wa,s),u(l,wa,l))}(c,d,f,p,g,m,v,Da,ka),a=Oa(m)*f+c,r=za(m)*p+d;break;case Ta.R:Sa(s=a=o[h++],l=r=o[h++],s+o[h++],l+o[h++],Da,ka);break;case Ta.Z:a=s,r=l}xt(Aa,Aa,Da),_t(Ca,Ca,ka)}return 0===h&&(Aa[0]=Aa[1]=Ca[0]=Ca[1]=0),new vi(Aa[0],Aa[1],Ca[0]-Aa[0],Ca[1]-Aa[1])},rebuildPath:function(t){for(var e,i,n,o,a=this.data,r=this._ux,s=this._uy,l=this._len,h=0;h<l;){var u=a[h++];switch(1===h&&(e=n=a[h],i=o=a[h+1]),u){case Ta.M:e=n=a[h++],i=o=a[h++],t.moveTo(n,o);break;case Ta.L:_=a[h++],w=a[h++],(Ea(_-n)>r||Ea(w-o)>s||h===l-1)&&(t.lineTo(_,w),n=_,o=w);break;case Ta.C:t.bezierCurveTo(a[h++],a[h++],a[h++],a[h++],a[h++],a[h++]),n=a[h-2],o=a[h-1];break;case Ta.Q:t.quadraticCurveTo(a[h++],a[h++],a[h++],a[h++]),n=a[h-2],o=a[h-1];break;case Ta.A:var c=a[h++],d=a[h++],f=a[h++],p=a[h++],g=a[h++],m=a[h++],v=a[h++],y=a[h++],x=p<f?f:p,_=p<f?1:f/p,w=p<f?p/f:1,m=g+m;.001<Math.abs(f-p)?(t.translate(c,d),t.rotate(v),t.scale(_,w),t.arc(0,0,x,g,m,1-y),t.scale(1/_,1/w),t.rotate(-v),t.translate(-c,-d)):t.arc(c,d,x,g,m,1-y),1===h&&(e=Oa(g)*f+c,i=za(g)*p+d),n=Oa(m)*f+c,o=za(m)*p+d;break;case Ta.R:e=n=a[h],i=o=a[h+1],t.rect(a[h++],a[h++],a[h++],a[h++]);break;case Ta.Z:t.closePath(),n=e,o=i}}}},Ba.CMD=Ta;var Wa=2*Math.PI;function Ga(t){return(t%=Wa)<0&&(t+=Wa),t}var Za=2*Math.PI;function Xa(t,e,i,n,o,a){if(e<a&&n<a||a<e&&a<n)return 0;if(n===e)return 0;var r=n<e?1:-1,a=(a-e)/(n-e);1!=a&&0!=a||(r=n<e?.5:-.5);t=a*(i-t)+t;return t===o?1/0:o<t?r:0}var Ua=Ba.CMD,Ya=2*Math.PI,qa=1e-4;var ja=[-1,-1,-1],Ka=[-1,-1];function $a(t,e,i,n,o,a,r,s,l,h){if(e<h&&n<h&&a<h&&s<h||h<e&&h<n&&h<a&&h<s)return 0;var u,c,d,f,p,g,m,v,y,x,_=(p=ja,y=(f=s)+3*((c=n)-(d=a))-(u=e),u=(x=3*(d-2*c+u))*(f=3*(c-u))-9*y*(d=u-(h=h)),h=f*f-3*x*d,d=0,oa(c=x*x-3*y*f)&&oa(u)?oa(x)?p[0]=0:0<=(m=-f/x)&&m<=1&&(p[d++]=m):oa(f=u*u-4*c*h)?(v=-(h=u/c)/2,0<=(m=-x/y+h)&&m<=1&&(p[d++]=m),0<=v&&v<=1&&(p[d++]=v)):0<f?(g=c*x+1.5*y*(-u-(f=Ko(f))),0<=(m=(-x-((f=(f=c*x+1.5*y*(-u+f))<0?-jo(-f,ta):jo(f,ta))+(g=g<0?-jo(-g,ta):jo(g,ta))))/(3*y))&&m<=1&&(p[d++]=m)):(g=(2*c*x-3*y*u)/(2*Ko(c*c*c)),u=Math.acos(g)/3,m=(-x-2*(g=Ko(c))*(c=Math.cos(u)))/(3*y),v=(-x+g*(c+Jo*Math.sin(u)))/(3*y),y=(-x+g*(c-Jo*Math.sin(u)))/(3*y),0<=m&&m<=1&&(p[d++]=m),0<=v&&v<=1&&(p[d++]=v),0<=y&&y<=1&&(p[d++]=y)),d);if(0===_)return 0;for(var w,b,S=0,M=-1,I=0;I<_;I++){var T=ja[I],A=0===T||1===T?.5:1;ra(t,i,o,r,T)<l||(M<0&&(M=la(e,n,a,s,Ka),Ka[1]<Ka[0]&&1<M&&(b=void 0,b=Ka[0],Ka[0]=Ka[1],Ka[1]=b),b=ra(e,n,a,s,Ka[0]),1<M&&(w=ra(e,n,a,s,Ka[1]))),2===M?T<Ka[0]?S+=b<e?A:-A:T<Ka[1]?S+=w<b?A:-A:S+=s<w?A:-A:T<Ka[0]?S+=b<e?A:-A:S+=s<b?A:-A)}return S}function Qa(t,e,i,n,o,a,r,s){if(e<s&&n<s&&a<s||s<e&&s<n&&s<a)return 0;var l,h,u,c,d,f,p=(c=ja,f=(l=e)-2*(h=n)+(u=a),u=2*(h-l),h=l-(s=s),l=0,oa(f)?aa(u)&&0<=(d=-h/u)&&d<=1&&(c[l++]=d):oa(s=u*u-4*f*h)?0<=(d=-u/(2*f))&&d<=1&&(c[l++]=d):0<s&&(s=(-u-(h=Ko(s)))/(2*f),0<=(d=(-u+h)/(2*f))&&d<=1&&(c[l++]=d),0<=s&&s<=1&&(c[l++]=s)),l);if(0===p)return 0;var g=da(e,n,a);if(0<=g&&g<=1){for(var m=0,v=ua(e,n,a,g),y=0;y<p;y++){var x=0===ja[y]||1===ja[y]?.5:1;ua(t,i,o,ja[y])<r||(ja[y]<g?m+=v<e?x:-x:m+=a<v?x:-x)}return m}x=0===ja[0]||1===ja[0]?.5:1;return ua(t,i,o,ja[0])<r?0:a<e?x:-x}function Ja(t,e,i,n,o){for(var a,r,s=0,l=0,h=0,u=0,c=0,d=0;d<t.length;){var f=t[d++];switch(f===Ua.M&&1<d&&(i||(s+=Xa(l,h,u,c,n,o))),1===d&&(u=l=t[d],c=h=t[d+1]),f){case Ua.M:l=u=t[d++],h=c=t[d++];break;case Ua.L:if(i){if(Va(l,h,t[d],t[d+1],e,n,o))return!0}else s+=Xa(l,h,t[d],t[d+1],n,o)||0;l=t[d++],h=t[d++];break;case Ua.C:if(i){if(Fa(l,h,t[d++],t[d++],t[d++],t[d++],t[d],t[d+1],e,n,o))return!0}else s+=$a(l,h,t[d++],t[d++],t[d++],t[d++],t[d],t[d+1],n,o)||0;l=t[d++],h=t[d++];break;case Ua.Q:if(i){if(Ha(l,h,t[d++],t[d++],t[d],t[d+1],e,n,o))return!0}else s+=Qa(l,h,t[d++],t[d++],t[d],t[d+1],n,o)||0;l=t[d++],h=t[d++];break;case Ua.A:var p=t[d++],g=t[d++],m=t[d++],v=t[d++],y=t[d++],x=t[d++];d+=1;var _=1-t[d++],w=Math.cos(y)*m+p,b=Math.sin(y)*v+g;1<d?s+=Xa(l,h,w,b,n,o):(u=w,c=b);var S=(n-p)*v/m+p;if(i){if(function(t,e,i,n,o,a,r,s,l){if(0!==r){r=r;s-=t,l-=e;e=Math.sqrt(s*s+l*l);if(!(i<e-r||e+r<i)){if(Math.abs(n-o)%Za<1e-4)return 1;(o=a?(a=n,n=Ga(o),Ga(a)):(n=Ga(n),Ga(o)))<n&&(o+=Za);s=Math.atan2(l,s);return s<0&&(s+=Za),n<=s&&s<=o||n<=s+Za&&s+Za<=o}}}(p,g,v,y,y+x,_,e,S,o))return!0}else s+=function(t,e,i,n,o,a,r,s){if(i<(s-=e)||s<-i)return 0;if(e=Math.sqrt(i*i-s*s),ja[0]=-e,ja[1]=e,(i=Math.abs(n-o))<1e-4)return 0;if(i%Ya<1e-4){o=Ya;var l=a?1:-1;return r>=ja[n=0]+t&&r<=ja[1]+t?l:0}(o=a?(e=n,n=Ga(o),Ga(e)):(n=Ga(n),Ga(o)))<n&&(o+=Ya);for(var h=0,u=0;u<2;u++){var c=ja[u];r<c+t&&(l=a?1:-1,(c=Math.atan2(s,c))<0&&(c=Ya+c),(n<=c&&c<=o||n<=c+Ya&&c+Ya<=o)&&(c>Math.PI/2&&c<1.5*Math.PI&&(l=-l),h+=l))}return h}(p,g,v,y,y+x,_,S,o);l=Math.cos(y+x)*m+p,h=Math.sin(y+x)*v+g;break;case Ua.R:u=l=t[d++],c=h=t[d++];w=u+t[d++],b=c+t[d++];if(i){if(Va(u,c,w,c,e,n,o)||Va(w,c,w,b,e,n,o)||Va(w,b,u,b,e,n,o)||Va(u,b,u,c,e,n,o))return!0}else s+=Xa(w,c,w,b,n,o),s+=Xa(u,b,u,c,n,o);break;case Ua.Z:if(i){if(Va(l,h,u,c,e,n,o))return!0}else s+=Xa(l,h,u,c,n,o);l=u,h=c}}return i||(a=h,r=c,Math.abs(a-r)<qa)||(s+=Xa(l,h,u,c,n,o)||0),0!==s}var tr=Fi.prototype.getCanvasPattern,er=Math.abs,ir=new Ba(!0);function nr(t){Bn.call(this,t),this.path=null}nr.prototype={constructor:nr,type:"path",__dirtyPath:!0,strokeContainThreshold:5,segmentIgnoreThreshold:0,subPixelOptimize:!1,brush:function(t,e){var i,n=this.style,o=this.path||ir,a=n.hasStroke(),r=n.hasFill(),s=n.fill,l=n.stroke,h=r&&!!s.colorStops,u=a&&!!l.colorStops,c=r&&!!s.image,d=a&&!!l.image;n.bind(t,this,e),this.setTransform(t),this.__dirty&&(h&&(i=i||this.getBoundingRect(),this._fillGradient=n.getGradient(t,s,i)),u&&(i=i||this.getBoundingRect(),this._strokeGradient=n.getGradient(t,l,i))),h?t.fillStyle=this._fillGradient:c&&(t.fillStyle=tr.call(s,t)),u?t.strokeStyle=this._strokeGradient:d&&(t.strokeStyle=tr.call(l,t));var f,s=n.lineDash,u=n.lineDashOffset,d=!!t.setLineDash,l=this.getGlobalScale();o.setScale(l[0],l[1],this.segmentIgnoreThreshold),this.__dirtyPath||s&&!d&&a?(o.beginPath(t),s&&!d&&(o.setLineDash(s),o.setLineDashOffset(u)),this.buildPath(o,this.shape,!1),this.path&&(this.__dirtyPath=!1)):(t.beginPath(),this.path.rebuildPath(t)),r&&(null!=n.fillOpacity?(f=t.globalAlpha,t.globalAlpha=n.fillOpacity*n.opacity,o.fill(t),t.globalAlpha=f):o.fill(t)),s&&d&&(t.setLineDash(s),t.lineDashOffset=u),a&&(null!=n.strokeOpacity?(f=t.globalAlpha,t.globalAlpha=n.strokeOpacity*n.opacity,o.stroke(t),t.globalAlpha=f):o.stroke(t)),s&&d&&t.setLineDash([]),null!=n.text&&(this.restoreTransform(t),this.drawRectText(t,this.getBoundingRect()))},buildPath:function(t,e,i){},createPathProxy:function(){this.path=new Ba},getBoundingRect:function(){var t=this._rect,e=this.style,i=!t;if(i&&(n=(n=this.path)||(this.path=new Ba),this.__dirtyPath&&(n.beginPath(),this.buildPath(n,this.shape,!1)),t=n.getBoundingRect()),this._rect=t,e.hasStroke()){var n,o=this._rectWithStroke||(this._rectWithStroke=t.clone());return(this.__dirty||i)&&(o.copy(t),n=e.lineWidth,i=e.strokeNoScale?this.getLineScale():1,e.hasFill()||(n=Math.max(n,this.strokeContainThreshold||4)),1e-10<i&&(o.width+=n/i,o.height+=n/i,o.x-=n/i/2,o.y-=n/i/2)),o}return t},contain:function(t,e){var i=this.transformCoordToLocal(t,e),n=this.getBoundingRect(),o=this.style;if(t=i[0],e=i[1],n.contain(t,e)){var a=this.path.data;if(o.hasStroke()){i=o.lineWidth,n=o.strokeNoScale?this.getLineScale():1;if(1e-10<n&&(o.hasFill()||(i=Math.max(i,this.strokeContainThreshold)),Ja(a,i/n,!0,t,e)))return!0}if(o.hasFill())return Ja(a,0,!1,t,e)}return!1},dirty:function(t){null==t&&(t=!0),t&&(this.__dirtyPath=t,this._rect=null),this.__dirty=this.__dirtyText=!0,this.__zr&&this.__zr.refresh(),this.__clipTarget&&this.__clipTarget.dirty()},animateShape:function(t){return this.animate("shape",t)},attrKV:function(t,e){"shape"===t?(this.setShape(e),this.__dirtyPath=!0,this._rect=null):Bn.prototype.attrKV.call(this,t,e)},setShape:function(t,e){var i=this.shape;if(i){if(E(t))for(var n in t)t.hasOwnProperty(n)&&(i[n]=t[n]);else i[t]=e;this.dirty(!0)}return this},getLineScale:function(){var t=this.transform;return t&&1e-10<er(t[0]-1)&&1e-10<er(t[3]-1)?Math.sqrt(er(t[0]*t[3]-t[2]*t[1])):1}},nr.extend=function(o){function t(t){nr.call(this,t),o.style&&this.style.extendFrom(o.style,!1);var e=o.shape;if(e){this.shape=this.shape||{};var i,n=this.shape;for(i in e)!n.hasOwnProperty(i)&&e.hasOwnProperty(i)&&(n[i]=e[i])}o.init&&o.init.call(this,t)}for(var e in w(t,nr),o)"style"!==e&&"shape"!==e&&(t.prototype[e]=o[e]);return t},w(nr,Bn);function or(t){return Math.sqrt(t[0]*t[0]+t[1]*t[1])}var ar=Ba.CMD,rr=[[],[],[]],sr=Math.sqrt,lr=Math.atan2,hr=function(t,e){for(var i,n,o,a,r=t.data,s=ar.M,l=ar.C,h=ar.L,u=ar.R,c=ar.A,d=ar.Q,f=0,p=0;f<r.length;){switch(i=r[f++],p=f,n=0,i){case s:case h:n=1;break;case l:n=3;break;case d:n=2;break;case c:var g=e[4],m=e[5],v=sr(e[0]*e[0]+e[1]*e[1]),y=sr(e[2]*e[2]+e[3]*e[3]),x=lr(-e[1]/y,e[0]/v);r[f]*=v,r[f++]+=g,r[f]*=y,r[f++]+=m,r[f++]*=v,r[f++]*=y,r[f++]+=x,r[f++]+=x,p=f+=2;break;case u:a[0]=r[f++],a[1]=r[f++],yt(a,a,e),r[p++]=a[0],r[p++]=a[1],a[0]+=r[f++],a[1]+=r[f++],yt(a,a,e),r[p++]=a[0],r[p++]=a[1]}for(o=0;o<n;o++)(a=rr[o])[0]=r[f++],a[1]=r[f++],yt(a,a,e),r[p++]=a[0],r[p++]=a[1]}},ur=Math.sqrt,cr=Math.sin,dr=Math.cos,fr=Math.PI,pr=function(t,e){return(t[0]*e[0]+t[1]*e[1])/(or(t)*or(e))},gr=function(t,e){return(t[0]*e[1]<t[1]*e[0]?-1:1)*Math.acos(pr(t,e))};function mr(t,e,i,n,o,a,r,s,l,h,u){var c=l*(fr/180),d=dr(c)*(t-i)/2+cr(c)*(e-n)/2,f=-1*cr(c)*(t-i)/2+dr(c)*(e-n)/2,l=d*d/(r*r)+f*f/(s*s);1<l&&(r*=ur(l),s*=ur(l));l=(o===a?-1:1)*ur((r*r*(s*s)-r*r*(f*f)-s*s*(d*d))/(r*r*(f*f)+s*s*(d*d)))||0,o=l*r*f/s,l=l*-s*d/r,t=(t+i)/2+dr(c)*o-cr(c)*l,i=(e+n)/2+cr(c)*o+dr(c)*l,e=gr([1,0],[(d-o)/r,(f-l)/s]),n=[(d-o)/r,(f-l)/s],f=[(-1*d-o)/r,(-1*f-l)/s],l=gr(n,f);pr(n,f)<=-1&&(l=fr),1<=pr(n,f)&&(l=0),0===a&&0<l&&(l-=2*fr),1===a&&l<0&&(l+=2*fr),u.addData(h,t,i,r,s,e,l,c,a)}var vr=/([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi,yr=/-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g;function xr(t,e){var i=function(t){if(!t)return new Ba;for(var e,i=0,n=0,o=i,a=n,r=new Ba,s=Ba.CMD,l=t.match(vr),h=0;h<l.length;h++){for(var u,c=l[h],d=c.charAt(0),f=c.match(yr)||[],p=f.length,g=0;g<p;g++)f[g]=parseFloat(f[g]);for(var m=0;m<p;){var v,y,x,_,w,b,S,M=i,I=n;switch(d){case"l":i+=f[m++],n+=f[m++],u=s.L,r.addData(u,i,n);break;case"L":i=f[m++],n=f[m++],u=s.L,r.addData(u,i,n);break;case"m":i+=f[m++],n+=f[m++],u=s.M,r.addData(u,i,n),o=i,a=n,d="l";break;case"M":i=f[m++],n=f[m++],u=s.M,r.addData(u,i,n),o=i,a=n,d="L";break;case"h":i+=f[m++],u=s.L,r.addData(u,i,n);break;case"H":i=f[m++],u=s.L,r.addData(u,i,n);break;case"v":n+=f[m++],u=s.L,r.addData(u,i,n);break;case"V":n=f[m++],u=s.L,r.addData(u,i,n);break;case"C":u=s.C,r.addData(u,f[m++],f[m++],f[m++],f[m++],f[m++],f[m++]),i=f[m-2],n=f[m-1];break;case"c":u=s.C,r.addData(u,f[m++]+i,f[m++]+n,f[m++]+i,f[m++]+n,f[m++]+i,f[m++]+n),i+=f[m-2],n+=f[m-1];break;case"S":v=i,y=n;var T=r.len(),A=r.data;e===s.C&&(v+=i-A[T-4],y+=n-A[T-3]),u=s.C,M=f[m++],I=f[m++],i=f[m++],n=f[m++],r.addData(u,v,y,M,I,i,n);break;case"s":v=i,y=n;T=r.len(),A=r.data;e===s.C&&(v+=i-A[T-4],y+=n-A[T-3]),u=s.C,M=i+f[m++],I=n+f[m++],i+=f[m++],n+=f[m++],r.addData(u,v,y,M,I,i,n);break;case"Q":M=f[m++],I=f[m++],i=f[m++],n=f[m++],u=s.Q,r.addData(u,M,I,i,n);break;case"q":M=f[m++]+i,I=f[m++]+n,i+=f[m++],n+=f[m++],u=s.Q,r.addData(u,M,I,i,n);break;case"T":v=i,y=n;T=r.len(),A=r.data;e===s.Q&&(v+=i-A[T-4],y+=n-A[T-3]),i=f[m++],n=f[m++],u=s.Q,r.addData(u,v,y,i,n);break;case"t":v=i,y=n;T=r.len(),A=r.data;e===s.Q&&(v+=i-A[T-4],y+=n-A[T-3]),i+=f[m++],n+=f[m++],u=s.Q,r.addData(u,v,y,i,n);break;case"A":x=f[m++],_=f[m++],w=f[m++],b=f[m++],S=f[m++],mr(M=i,I=n,i=f[m++],n=f[m++],b,S,x,_,w,u=s.A,r);break;case"a":x=f[m++],_=f[m++],w=f[m++],b=f[m++],S=f[m++],mr(M=i,I=n,i+=f[m++],n+=f[m++],b,S,x,_,w,u=s.A,r)}}"z"!==d&&"Z"!==d||(u=s.Z,r.addData(u),i=o,n=a),e=u}return r.toStatic(),r}(t);return(e=e||{}).buildPath=function(t){var e;t.setData?(t.setData(i.data),(e=t.getContext())&&t.rebuildPath(e)):(e=t,i.rebuildPath(e))},e.applyTransform=function(t){hr(i,t),this.dirty(!0)},e}function _r(t,e){return new nr(xr(t,e))}function wr(t){Bn.call(this,t)}wr.prototype={constructor:wr,type:"text",brush:function(t,e){var i=this.style;this.__dirty&&wn(i),i.fill=i.stroke=i.shadowBlur=i.shadowColor=i.shadowOffsetX=i.shadowOffsetY=null;var n=i.text;null!=n&&(n+=""),Rn(n,i)?(this.setTransform(t),Sn(this,t,n,i,null,e),this.restoreTransform(t)):t.__attrCachedBy=Li.NONE},getBoundingRect:function(){var t,e=this.style;return this.__dirty&&wn(e),this._rect||(null!=(t=e.text)?t+="":t="",(t=nn(e.text+"",e.font,e.textAlign,e.textVerticalAlign,e.textPadding,e.textLineHeight,e.rich)).x+=e.x||0,t.y+=e.y||0,Ln(e.textStroke,e.textStrokeWidth)&&(e=e.textStrokeWidth,t.x-=e/2,t.y-=e/2,t.width+=e,t.height+=e),this._rect=t),this._rect}},w(wr,Bn);var br=nr.extend({type:"circle",shape:{cx:0,cy:0,r:0},buildPath:function(t,e,i){i&&t.moveTo(e.cx+e.r,e.cy),t.arc(e.cx,e.cy,e.r,0,2*Math.PI,!0)}}),Sr=[["shadowBlur",0],["shadowColor","#000"],["shadowOffsetX",0],["shadowOffsetY",0]],ye=function(s){return v.browser.ie&&11<=v.browser.version?function(){var t,e=this.__clipPaths,i=this.style;if(e)for(var n=0;n<e.length;n++){var o=e[n],a=o&&o.shape,o=o&&o.type;if(a&&("sector"===o&&a.startAngle===a.endAngle||"rect"===o&&(!a.width||!a.height))){for(var r=0;r<Sr.length;r++)Sr[r][2]=i[Sr[r][0]],i[Sr[r][0]]=Sr[r][1];t=!0;break}}if(s.apply(this,arguments),t)for(r=0;r<Sr.length;r++)i[Sr[r][0]]=Sr[r][2]}:s},Mr=nr.extend({type:"sector",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},brush:ye(nr.prototype.brush),buildPath:function(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r0||0,0),a=Math.max(e.r,0),r=e.startAngle,s=e.endAngle,l=e.clockwise,h=Math.cos(r),e=Math.sin(r);t.moveTo(h*o+i,e*o+n),t.lineTo(h*a+i,e*a+n),t.arc(i,n,a,r,s,!l),t.lineTo(Math.cos(s)*o+i,Math.sin(s)*o+n),0!==o&&t.arc(i,n,o,s,r,l),t.closePath()}}),Ir=nr.extend({type:"ring",shape:{cx:0,cy:0,r:0,r0:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=2*Math.PI;t.moveTo(i+e.r,n),t.arc(i,n,e.r,0,o,!1),t.moveTo(i+e.r0,n),t.arc(i,n,e.r0,0,o,!0)}});function Tr(t,e,i,n,o,a,r){t=.5*(i-t),n=.5*(n-e);return(2*(e-i)+t+n)*r+(-3*(e-i)-2*t-n)*a+t*o+e}function Ar(t,e,i){var n=e.points,o=e.smooth;if(n&&2<=n.length){if(o&&"spline"!==o){var a=function(t,e,i,n){var o,a,r,s,l=[],h=[],u=[],c=[];if(n){r=[1/0,1/0],s=[-1/0,-1/0];for(var d=0,f=t.length;d<f;d++)xt(r,r,t[d]),_t(s,s,t[d]);xt(r,r,n[0]),_t(s,s,n[1])}for(d=0,f=t.length;d<f;d++){var p=t[d];if(i)o=t[d?d-1:f-1],a=t[(d+1)%f];else{if(0===d||d===f-1){l.push(at(t[d]));continue}o=t[d-1],a=t[d+1]}lt(h,a,o),ct(h,h,e);var g=ft(p,o),m=ft(p,a),v=g+m;0!==v&&(g/=v,m/=v),ct(u,h,-g),ct(c,h,m);m=rt([],p,u),p=rt([],p,c);n&&(_t(m,m,r),xt(m,m,s),_t(p,p,r),xt(p,p,s)),l.push(m),l.push(p)}return i&&l.push(l.shift()),l}(n,o,i,e.smoothConstraint);t.moveTo(n[0][0],n[0][1]);for(var r=n.length,s=0;s<(i?r:r-1);s++){var l=a[2*s],h=a[2*s+1],u=n[(s+1)%r];t.bezierCurveTo(l[0],l[1],h[0],h[1],u[0],u[1])}}else{"spline"===o&&(n=function(t,e){for(var i=t.length,n=[],o=0,a=1;a<i;a++)o+=ft(t[a-1],t[a]);for(var r=(r=o/2)<i?i:r,a=0;a<r;a++){var s,l,h=a/(r-1)*(e?i:i-1),u=Math.floor(h),c=h-u,d=t[u%i],f=e?(s=t[(u-1+i)%i],l=t[(u+1)%i],t[(u+2)%i]):(s=t[0===u?u:u-1],l=t[i-2<u?i-1:u+1],t[i-3<u?i-1:u+2]),h=c*c,u=c*h;n.push([Tr(s[0],d[0],l[0],f[0],c,h,u),Tr(s[1],d[1],l[1],f[1],c,h,u)])}return n}(n,i)),t.moveTo(n[0][0],n[0][1]);for(var s=1,c=n.length;s<c;s++)t.lineTo(n[s][0],n[s][1])}i&&t.closePath()}}var Cr=nr.extend({type:"polygon",shape:{points:null,smooth:!1,smoothConstraint:null},buildPath:function(t,e){Ar(t,e,!0)}}),Dr=nr.extend({type:"polyline",shape:{points:null,smooth:!1,smoothConstraint:null},style:{stroke:"#000",fill:null},buildPath:function(t,e){Ar(t,e,!1)}}),kr=Math.round;function Lr(t,e,i){var n,o,a;e&&(n=e.x1,o=e.x2,a=e.y1,e=e.y2,t.x1=n,t.x2=o,t.y1=a,t.y2=e,(i=i&&i.lineWidth)&&(kr(2*n)===kr(2*o)&&(t.x1=t.x2=Or(n,i,!0)),kr(2*a)===kr(2*e)&&(t.y1=t.y2=Or(a,i,!0))))}function Pr(t,e,i){var n,o,a;e&&(n=e.x,o=e.y,a=e.width,e=e.height,t.x=n,t.y=o,t.width=a,t.height=e,(i=i&&i.lineWidth)&&(t.x=Or(n,i,!0),t.y=Or(o,i,!0),t.width=Math.max(Or(n+a,i,!1)-t.x,0===a?0:1),t.height=Math.max(Or(o+e,i,!1)-t.y,0===e?0:1)))}function Or(t,e,i){if(!e)return t;t=kr(2*t);return(t+kr(e))%2==0?t/2:(t+(i?1:-1))/2}var zr={},Rr=nr.extend({type:"rect",shape:{r:0,x:0,y:0,width:0,height:0},buildPath:function(t,e){var i,n,o,a;this.subPixelOptimize?(Pr(zr,e,this.style),i=zr.x,n=zr.y,o=zr.width,a=zr.height,zr.r=e.r,e=zr):(i=e.x,n=e.y,o=e.width,a=e.height),e.r?pn(t,e):t.rect(i,n,o,a),t.closePath()}}),Er={},Nr=nr.extend({type:"line",shape:{x1:0,y1:0,x2:0,y2:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i,n,o,a=this.subPixelOptimize?(Lr(Er,e,this.style),i=Er.x1,n=Er.y1,o=Er.x2,Er.y2):(i=e.x1,n=e.y1,o=e.x2,e.y2),e=e.percent;0!==e&&(t.moveTo(i,n),e<1&&(o=i*(1-e)+o*e,a=n*(1-e)+a*e),t.lineTo(o,a))},pointAt:function(t){var e=this.shape;return[e.x1*(1-t)+e.x2*t,e.y1*(1-t)+e.y2*t]}}),Br=[];function Vr(t,e,i){var n=t.cpx2,o=t.cpy2;return null===n||null===o?[(i?sa:ra)(t.x1,t.cpx1,t.cpx2,t.x2,e),(i?sa:ra)(t.y1,t.cpy1,t.cpy2,t.y2,e)]:[(i?ca:ua)(t.x1,t.cpx1,t.x2,e),(i?ca:ua)(t.y1,t.cpy1,t.y2,e)]}function Fr(t){this.colorStops=t||[]}var we=nr.extend({type:"bezier-curve",shape:{x1:0,y1:0,x2:0,y2:0,cpx1:0,cpy1:0,percent:1},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.x1,n=e.y1,o=e.x2,a=e.y2,r=e.cpx1,s=e.cpy1,l=e.cpx2,h=e.cpy2,e=e.percent;0!==e&&(t.moveTo(i,n),null==l||null==h?(e<1&&(fa(i,r,o,e,Br),r=Br[1],o=Br[2],fa(n,s,a,e,Br),s=Br[1],a=Br[2]),t.quadraticCurveTo(r,s,o,a)):(e<1&&(ha(i,r,l,o,e,Br),r=Br[1],l=Br[2],o=Br[3],ha(n,s,h,a,e,Br),s=Br[1],h=Br[2],a=Br[3]),t.bezierCurveTo(r,s,l,h,o,a)))},pointAt:function(t){return Vr(this.shape,t,!1)},tangentAt:function(t){t=Vr(this.shape,t,!0);return dt(t,t)}}),Hr=nr.extend({type:"arc",shape:{cx:0,cy:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},style:{stroke:"#000",fill:null},buildPath:function(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r,0),a=e.startAngle,r=e.endAngle,s=e.clockwise,l=Math.cos(a),e=Math.sin(a);t.moveTo(l*o+i,e*o+n),t.arc(i,n,o,a,r,!s)}}),ii=nr.extend({type:"compound",shape:{paths:null},_updatePathDirty:function(){for(var t=this.__dirtyPath,e=this.shape.paths,i=0;i<e.length;i++)t=t||e[i].__dirtyPath;this.__dirtyPath=t,this.__dirty=this.__dirty||t},beforeBrush:function(){this._updatePathDirty();for(var t=this.shape.paths||[],e=this.getGlobalScale(),i=0;i<t.length;i++)t[i].path||t[i].createPathProxy(),t[i].path.setScale(e[0],e[1],t[i].segmentIgnoreThreshold)},buildPath:function(t,e){for(var i=e.paths||[],n=0;n<i.length;n++)i[n].buildPath(t,i[n].shape,!0)},afterBrush:function(){for(var t=this.shape.paths||[],e=0;e<t.length;e++)t[e].__dirtyPath=!1},getBoundingRect:function(){return this._updatePathDirty(),nr.prototype.getBoundingRect.call(this)}});Fr.prototype={constructor:Fr,addColorStop:function(t,e){this.colorStops.push({offset:t,color:e})}};function Wr(t,e,i,n,o,a){this.x=null==t?0:t,this.y=null==e?0:e,this.x2=null==i?1:i,this.y2=null==n?0:n,this.type="linear",this.global=a||!1,Fr.call(this,o)}Wr.prototype={constructor:Wr},w(Wr,Fr);oi=function(t,e,i,n,o){this.x=null==t?.5:t,this.y=null==e?.5:e,this.r=null==i?.5:i,this.type="radial",this.global=o||!1,Fr.call(this,n)};function Gr(t){Bn.call(this,t),this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.notClear=!0}oi.prototype={constructor:oi},w(oi,Fr),Gr.prototype.incremental=!0,Gr.prototype.clearDisplaybles=function(){this._displayables=[],this._temporaryDisplayables=[],this._cursor=0,this.dirty(),this.notClear=!1},Gr.prototype.addDisplayable=function(t,e){(e?this._temporaryDisplayables:this._displayables).push(t),this.dirty()},Gr.prototype.addDisplayables=function(t,e){e=e||!1;for(var i=0;i<t.length;i++)this.addDisplayable(t[i],e)},Gr.prototype.eachPendingDisplayable=function(t){for(var e=this._cursor;e<this._displayables.length;e++)t&&t(this._displayables[e]);for(e=0;e<this._temporaryDisplayables.length;e++)t&&t(this._temporaryDisplayables[e])},Gr.prototype.update=function(){this.updateTransform();for(var t=this._cursor;t<this._displayables.length;t++)(e=this._displayables[t]).parent=this,e.update(),e.parent=null;for(var e,t=0;t<this._temporaryDisplayables.length;t++)(e=this._temporaryDisplayables[t]).parent=this,e.update(),e.parent=null},Gr.prototype.brush=function(t,e){for(var i=this._cursor;i<this._displayables.length;i++)(n=this._displayables[i]).beforeBrush&&n.beforeBrush(t),n.brush(t,i===this._cursor?null:this._displayables[i-1]),n.afterBrush&&n.afterBrush(t);this._cursor=i;for(var n,i=0;i<this._temporaryDisplayables.length;i++)(n=this._temporaryDisplayables[i]).beforeBrush&&n.beforeBrush(t),n.brush(t,0===i?null:this._temporaryDisplayables[i-1]),n.afterBrush&&n.afterBrush(t);this._temporaryDisplayables=[],this.notClear=!0};var Zr=[];Gr.prototype.getBoundingRect=function(){if(!this._rect){for(var t=new vi(1/0,1/0,-1/0,-1/0),e=0;e<this._displayables.length;e++){var i=this._displayables[e],n=i.getBoundingRect().clone();i.needLocalTransform()&&n.applyTransform(i.getLocalTransform(Zr)),t.union(n)}this._rect=t}return this._rect},Gr.prototype.contain=function(t,e){var i=this.transformCoordToLocal(t,e);if(this.getBoundingRect().contain(i[0],i[1]))for(var n=0;n<this._displayables.length;n++)if(this._displayables[n].contain(t,e))return!0;return!1},w(Gr,Bn);var Xr=Math.max,Ur=Math.min,Yr={},qr=1,jr="emphasis",Kr="normal",$r=1,Qr={},Jr={};function ts(t){return nr.extend(t)}function es(t,e){Jr[t]=e}function is(t,e,i,n){e=_r(t,e);return i&&("center"===n&&(i=os(i,e.getBoundingRect())),rs(e,i)),e}function ns(t,e,i){var n=new Vn({style:{image:t,x:e.x,y:e.y,width:e.width,height:e.height},onload:function(t){"center"===i&&(t={width:t.width,height:t.height},n.setStyle(os(e,t)))}});return n}function os(t,e){var i=e.width/e.height,e=t.height*i,i=e<=t.width?t.height:(e=t.width)/i;return{x:t.x+t.width/2-e/2,y:t.y+t.height/2-i/2,width:e,height:i}}var as=function(t,e){for(var i=[],n=t.length,o=0;o<n;o++){var a=t[o];a.path||a.createPathProxy(),a.__dirtyPath&&a.buildPath(a.path,a.shape,!0),i.push(a.path)}return(e=new nr(e)).createPathProxy(),e.buildPath=function(t){t.appendPath(i);var e=t.getContext();e&&t.rebuildPath(e)},e};function rs(t,e){t.applyTransform&&(e=t.getBoundingRect().calculateTransform(e),t.applyTransform(e))}var ss=Or;function ls(t){return null!=t&&"none"!==t}var hs=Q(),us=0;function cs(t){var e,i,n,o,a=t.__hoverStl;a&&!t.__highlighted&&(e=t.__zr,i=t.useHoverLayer&&e&&"canvas"===e.painter.type,t.__highlighted=i?"layer":"plain",t.isGroup||!e&&t.useHoverLayer||(o=(n=t).style,i&&(o=(n=e.addHover(t)).style),Ls(o),i||function(t){if(t.__hoverStlDirty){t.__hoverStlDirty=!1;var e=t.__hoverStl;if(e){var i=t.__cachedNormalStl={};t.__cachedNormalZ2=t.z2;var n,o=t.style;for(n in e)null!=e[n]&&(i[n]=o[n]);i.fill=o.fill,i.stroke=o.stroke}else t.__cachedNormalStl=t.__cachedNormalZ2=null}}(n),o.extendFrom(a),ds(o,a,"fill"),ds(o,a,"stroke"),ks(o),i||(t.dirty(!1),t.z2+=qr)))}function ds(t,e,i){!ls(e[i])&&ls(t[i])&&(t[i]=function(t){if("string"!=typeof t)return t;var e=hs.get(t);return e||(e=Ee(t,-.1),us<1e4&&(hs.set(t,e),us++)),e}(t[i]))}function fs(t){var e,i=t.__highlighted;i&&(t.__highlighted=!1,t.isGroup||("layer"===i?t.__zr&&t.__zr.removeHover(t):(e=t.style,(i=t.__cachedNormalStl)&&(Ls(e),t.setStyle(i),ks(e)),null!=(e=t.__cachedNormalZ2)&&t.z2-e===qr&&(t.z2=e))))}function ps(t,e,i){var n,o=Kr,a=Kr;t.__highlighted&&(o=jr,n=!0),e(t,i),t.__highlighted&&(a=jr,n=!0),t.isGroup&&t.traverse(function(t){t.isGroup||e(t,i)}),n&&t.__highDownOnUpdate&&t.__highDownOnUpdate(o,a)}function gs(t,e){e=t.__hoverStl=!1!==e&&(t.hoverStyle||e||{}),t.__hoverStlDirty=!0,t.__highlighted&&(t.__cachedNormalStl=null,fs(t),cs(t))}function ms(t){_s(this,t)||this.__highByOuter||ps(this,cs)}function vs(t){_s(this,t)||this.__highByOuter||ps(this,fs)}function ys(t){this.__highByOuter|=1<<(t||0),ps(this,cs)}function xs(t){(this.__highByOuter&=~(1<<(t||0)))||ps(this,fs)}function _s(t,e){return t.__highDownSilentOnTouch&&e.zrByTouch}function ws(t,e){bs(t,!0),ps(t,gs,e)}function bs(t,e){var i=!1===e;t.__highDownSilentOnTouch=t.highDownSilentOnTouch,t.__highDownOnUpdate=t.highDownOnUpdate,i&&!t.__highDownDispatcher||(t[e=i?"off":"on"]("mouseover",ms)[e]("mouseout",vs),t[e]("emphasis",ys)[e]("normal",xs),t.__highByOuter=t.__highByOuter||0,t.__highDownDispatcher=!i)}function Ss(t){return!(!t||!t.__highDownDispatcher)}function Ms(t){var e=Qr[t];return null==e&&$r<=32&&(e=Qr[t]=$r++),e}function Is(t,e,i,n,o,a,r){var s=(o=o||Yr).labelFetcher,l=o.labelDataIndex,h=o.labelDimIndex,u=o.labelProp,c=i.getShallow("show"),d=n.getShallow("show");(c||d)&&(s&&(f=s.getFormattedLabel(l,"normal",null,h,u)),null==f&&(f=z(o.defaultText)?o.defaultText(l,o):o.defaultText));var c=c?f:null,f=d?W(s?s.getFormattedLabel(l,"emphasis",null,h,u):null,f):null;null==c&&null==f||(Ts(t,i,a,o),Ts(e,n,r,o,!0)),t.text=c,e.text=f}function Ts(t,e,i,n,o){return As(t,e,n,o),i&&C(t,i),t}function As(t,e,i,n){(i=i||Yr).isRectText&&(i.getTextPosition?r=i.getTextPosition(e,n):"outside"===(r=e.getShallow("position")||(n?null:"inside"))&&(r="top"),t.textPosition=r,t.textOffset=e.getShallow("offset"),null!=(r=e.getShallow("rotate"))&&(r*=Math.PI/180),t.textRotation=r,t.textDistance=W(e.getShallow("distance"),n?null:5));var o,a,r=e.ecModel,s=r&&r.option.textStyle,l=function(t){var e;for(;t&&t!==t.ecModel;){var i=(t.option||Yr).rich;if(i)for(var n in e=e||{},i)i.hasOwnProperty(n)&&(e[n]=1);t=t.parentModel}return e}(e);if(l)for(var h in o={},l)l.hasOwnProperty(h)&&(a=e.getModel(["rich",h]),Cs(o[h]={},a,s,i,n));return t.rich=o,Cs(t,e,s,i,n,!0),i.forceRich&&!i.textStyle&&(i.textStyle={}),t}function Cs(t,e,i,n,o,a){i=!o&&i||Yr,t.textFill=Ds(e.getShallow("color"),n)||i.color,t.textStroke=Ds(e.getShallow("textBorderColor"),n)||i.textBorderColor,t.textStrokeWidth=W(e.getShallow("textBorderWidth"),i.textBorderWidth),o||(a&&(t.insideRollbackOpt=n,ks(t)),null==t.textFill&&(t.textFill=n.autoColor)),t.fontStyle=e.getShallow("fontStyle")||i.fontStyle,t.fontWeight=e.getShallow("fontWeight")||i.fontWeight,t.fontSize=e.getShallow("fontSize")||i.fontSize,t.fontFamily=e.getShallow("fontFamily")||i.fontFamily,t.textAlign=e.getShallow("align"),t.textVerticalAlign=e.getShallow("verticalAlign")||e.getShallow("baseline"),t.textLineHeight=e.getShallow("lineHeight"),t.textWidth=e.getShallow("width"),t.textHeight=e.getShallow("height"),t.textTag=e.getShallow("tag"),a&&n.disableBox||(t.textBackgroundColor=Ds(e.getShallow("backgroundColor"),n),t.textPadding=e.getShallow("padding"),t.textBorderColor=Ds(e.getShallow("borderColor"),n),t.textBorderWidth=e.getShallow("borderWidth"),t.textBorderRadius=e.getShallow("borderRadius"),t.textBoxShadowColor=e.getShallow("shadowColor"),t.textBoxShadowBlur=e.getShallow("shadowBlur"),t.textBoxShadowOffsetX=e.getShallow("shadowOffsetX"),t.textBoxShadowOffsetY=e.getShallow("shadowOffsetY")),t.textShadowColor=e.getShallow("textShadowColor")||i.textShadowColor,t.textShadowBlur=e.getShallow("textShadowBlur")||i.textShadowBlur,t.textShadowOffsetX=e.getShallow("textShadowOffsetX")||i.textShadowOffsetX,t.textShadowOffsetY=e.getShallow("textShadowOffsetY")||i.textShadowOffsetY}function Ds(t,e){return"auto"!==t?t:e&&e.autoColor?e.autoColor:null}function ks(t){var e,i,n,o=t.textPosition,a=t.insideRollbackOpt;a&&null==t.textFill&&(i=a.autoColor,n=a.isRectText,o=!(n=!1!==(a=a.useInsideStyle)&&(!0===a||n&&o&&"string"==typeof o&&0<=o.indexOf("inside")))&&null!=i,(n||o)&&(e={textFill:t.textFill,textStroke:t.textStroke,textStrokeWidth:t.textStrokeWidth}),n&&(t.textFill="#fff",null==t.textStroke&&(t.textStroke=i,null==t.textStrokeWidth&&(t.textStrokeWidth=2))),o&&(t.textFill=i)),t.insideRollback=e}function Ls(t){var e=t.insideRollback;e&&(t.textFill=e.textFill,t.textStroke=e.textStroke,t.textStrokeWidth=e.textStrokeWidth,t.insideRollback=null)}function Ps(t,e){e=e&&e.getModel("textStyle");return Y([t.fontStyle||e&&e.getShallow("fontStyle")||"",t.fontWeight||e&&e.getShallow("fontWeight")||"",(t.fontSize||e&&e.getShallow("fontSize")||12)+"px",t.fontFamily||e&&e.getShallow("fontFamily")||"sans-serif"].join(" "))}function Os(t,e,i,n,o,a){var r,s;"function"==typeof o&&(a=o,o=null),n&&n.isAnimationEnabled()?(s=t?"Update":"",r=n.getShallow("animationDuration"+s),t=n.getShallow("animationEasing"+s),"function"==typeof(s=n.getShallow("animationDelay"+s))&&(s=s(o,n.getAnimationDelayParams?n.getAnimationDelayParams(e,o):null)),"function"==typeof r&&(r=r(o)),0<r?e.animateTo(i,r,s||0,t,a,!!a):(e.stopAnimation(),e.attr(i),a&&a())):(e.stopAnimation(),e.attr(i),a&&a())}function zs(t,e,i,n,o){Os(!0,t,e,i,n,o)}function Rs(t,e,i,n,o){Os(!1,t,e,i,n,o)}function Es(t,e){for(var i=te([]);t&&t!==e;)ie(i,t.getLocalTransform(),i),t=t.parent;return i}function Ns(t,e,i){return e&&!P(e)&&(e=ue.getLocalTransform(e)),i&&(e=re([],e)),yt([],t,e)}function Bs(t,e,i){var n=0===e[4]||0===e[5]||0===e[0]?1:Math.abs(2*e[4]/e[0]),o=0===e[4]||0===e[5]||0===e[2]?1:Math.abs(2*e[4]/e[2]),o=Ns(o=["left"===t?-n:"right"===t?n:0,"top"===t?-o:"bottom"===t?o:0],e,i);return Math.abs(o[0])>Math.abs(o[1])?0<o[0]?"right":"left":0<o[1]?"bottom":"top"}function Vs(t,e,n,i){var o,a;function r(t){var e={position:at(t.position),rotation:t.rotation};return t.shape&&(e.shape=C({},t.shape)),e}t&&e&&(a={},t.traverse(function(t){!t.isGroup&&t.anid&&(a[t.anid]=t)}),o=a,e.traverse(function(t){var e,i;t.isGroup||!t.anid||(e=o[t.anid])&&(i=r(t),t.attr(r(e)),zs(t,i,n,t.dataIndex))}))}function Fs(t,e,i){var n=(e=C({rectHover:!0},e)).style={strokeNoScale:!0};if(i=i||{x:-1,y:-1,width:2,height:2},t)return 0===t.indexOf("image://")?(n.image=t.slice(8),D(n,i),new Vn(e)):is(t.replace("path://",""),e,i,"center")}function Hs(t,e,i,n,o,a,r,s){var l=i-t,h=n-e,i=r-o,n=s-a,r=i*h-l*n;if((s=r)<=1e-6&&-1e-6<=s)return!1;o=t-o,a=e-a,l=(o*h-l*a)/r;if(l<0||1<l)return!1;r=(o*n-i*a)/r;return!(r<0||1<r)}es("circle",br),es("sector",Mr),es("ring",Ir),es("polygon",Cr),es("polyline",Dr),es("rect",Rr),es("line",Nr),es("bezierCurve",we),es("arc",Hr);var Ws=(Object.freeze||Object)({Z2_EMPHASIS_LIFT:qr,CACHED_LABEL_STYLE_PROPERTIES:{color:"textFill",textBorderColor:"textStroke",textBorderWidth:"textStrokeWidth"},extendShape:ts,extendPath:function(t,e){return nr.extend(xr(t,e))},registerShape:es,getShapeClass:function(t){if(Jr.hasOwnProperty(t))return Jr[t]},makePath:is,makeImage:ns,mergePath:as,resizePath:rs,subPixelOptimizeLine:function(t){return Lr(t.shape,t.shape,t.style),t},subPixelOptimizeRect:function(t){return Pr(t.shape,t.shape,t.style),t},subPixelOptimize:ss,setElementHoverStyle:gs,setHoverStyle:ws,setAsHighDownDispatcher:bs,isHighDownDispatcher:Ss,getHighlightDigit:Ms,setLabelStyle:Is,modifyLabelStyle:function(t,e,i){var n=t.style;e&&(Ls(n),t.setStyle(e),ks(n)),n=t.__hoverStl,i&&n&&(Ls(n),C(n,i),ks(n))},setTextStyle:Ts,setText:function(t,e,i){var n,o={isRectText:!0};!1===i?n=!0:o.autoColor=i,As(t,e,o,n)},getFont:Ps,updateProps:zs,initProps:Rs,getTransform:Es,applyTransform:Ns,transformDirection:Bs,groupTransition:Vs,clipPointsByRect:function(t,i){return S(t,function(t){var e=t[0],e=Xr(e,i.x);e=Ur(e,i.x+i.width);t=t[1],t=Xr(t,i.y);return[e,t=Ur(t,i.y+i.height)]})},clipRectByRect:function(t,e){var i=Xr(t.x,e.x),n=Ur(t.x+t.width,e.x+e.width),o=Xr(t.y,e.y),e=Ur(t.y+t.height,e.y+e.height);if(i<=n&&o<=e)return{x:i,y:o,width:n-i,height:e-o}},createIcon:Fs,linePolygonIntersect:function(t,e,i,n,o){for(var a=0,r=o[o.length-1];a<o.length;a++){var s=o[a];if(Hs(t,e,i,n,s[0],s[1],r[0],r[1]))return!0;r=s}},lineLineIntersect:Hs,Group:yi,Image:Vn,Text:wr,Circle:br,Sector:Mr,Ring:Ir,Polygon:Cr,Polyline:Dr,Rect:Rr,Line:Nr,BezierCurve:we,Arc:Hr,IncrementalDisplayable:Gr,CompoundPath:ii,LinearGradient:Wr,RadialGradient:oi,BoundingRect:vi}),Gs=["textStyle","color"],_e={getTextColor:function(t){var e=this.ecModel;return this.getShallow("color")||(!t&&e?e.get(Gs):null)},getFont:function(){return Ps({fontStyle:this.getShallow("fontStyle"),fontWeight:this.getShallow("fontWeight"),fontSize:this.getShallow("fontSize"),fontFamily:this.getShallow("fontFamily")},this.ecModel)},getTextRect:function(t){return nn(t,this.getFont(),this.getShallow("align"),this.getShallow("verticalAlign")||this.getShallow("baseline"),this.getShallow("padding"),this.getShallow("lineHeight"),this.getShallow("rich"),this.getShallow("truncateText"))}},Zs=Uo([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"],["textPosition"],["textAlign"]]),Nn={getItemStyle:function(t,e){t=Zs(this,t,e),e=this.getBorderLineDash();return e&&(t.lineDash=e),t},getBorderLineDash:function(){var t=this.get("borderType");return"solid"===t||null==t?null:"dashed"===t?[5,5]:[1,1]}},Xs=b,Us=Lo();function Ys(t,e,i){this.parentModel=e,this.ecModel=i,this.option=t}function qs(t,e,i){for(var n=0;n<e.length&&(!e[n]||null!=(t=t&&"object"==typeof t?t[e[n]]:null));n++);return null==t&&i&&(t=i.get(e)),t}function js(t,e){var i=Us(t).getParent;return i?i.call(t,e):t.parentModel}Ys.prototype={constructor:Ys,init:null,mergeOption:function(t){g(this.option,t,!0)},get:function(t,e){return null==t?this.option:qs(this.option,this.parsePath(t),!e&&js(this,t))},getShallow:function(t,e){var i=this.option,i=null==i?i:i[t],e=!e&&js(this,t);return null==i&&e&&(i=e.getShallow(t)),i},getModel:function(t,e){var i;return new Ys(null==t?this.option:qs(this.option,t=this.parsePath(t)),e=e||(i=js(this,t))&&i.getModel(t),this.ecModel)},isEmpty:function(){return null==this.option},restoreData:function(){},clone:function(){return new this.constructor(A(this.option))},setReadOnly:function(t){},parsePath:function(t){return"string"==typeof t&&(t=t.split(".")),t},customizeGetParent:function(t){Us(this).getParent=t},isAnimationEnabled:function(){if(!v.node)return null!=this.option.animation?!!this.option.animation:this.parentModel?this.parentModel.isAnimationEnabled():void 0}},Fo(Ys),Wo(Ys),Xs(Ys,n),Xs(Ys,ce),Xs(Ys,_e),Xs(Ys,Nn);var Ks=0;function $s(t){return[t||"",Ks++,Math.random().toFixed(5)].join("_")}var Qs=1e-4;function Js(t,e,i,n){var o=e[1]-e[0],a=i[1]-i[0];if(0==o)return 0==a?i[0]:(i[0]+i[1])/2;if(n)if(0<o){if(t<=e[0])return i[0];if(t>=e[1])return i[1]}else{if(t>=e[0])return i[0];if(t<=e[1])return i[1]}else{if(t===e[0])return i[0];if(t===e[1])return i[1]}return(t-e[0])/o*a+i[0]}function tl(t,e){switch(t){case"center":case"middle":t="50%";break;case"left":case"top":t="0%";break;case"right":case"bottom":t="100%"}return"string"==typeof t?t.replace(/^\s+|\s+$/g,"").match(/%$/)?parseFloat(t)/100*e:parseFloat(t):null==t?NaN:+t}function el(t,e,i){return null==e&&(e=10),e=Math.min(Math.max(0,e),20),t=(+t).toFixed(e),i?t:+t}function il(t){return t.sort(function(t,e){return t-e}),t}function nl(t){if(t=+t,isNaN(t))return 0;for(var e=1,i=0;Math.round(t*e)/e!==t;)e*=10,i++;return i}function ol(t){var e=t.toString(),t=e.indexOf("e");if(0<t){var i=+e.slice(t+1);return i<0?-i:0}i=e.indexOf(".");return i<0?0:e.length-1-i}function al(t,e){var i=Math.log,n=Math.LN10,t=Math.floor(i(t[1]-t[0])/n),n=Math.round(i(Math.abs(e[1]-e[0]))/n),n=Math.min(Math.max(-t+n,0),20);return isFinite(n)?n:20}function rl(t,e,i){if(!t[e])return 0;var n=M(t,function(t,e){return t+(isNaN(e)?0:e)},0);if(0===n)return 0;for(var o=Math.pow(10,i),t=S(t,function(t){return(isNaN(t)?0:t)/n*o*100}),a=100*o,r=S(t,function(t){return Math.floor(t)}),s=M(r,function(t,e){return t+e},0),l=S(t,function(t,e){return t-r[e]});s<a;){for(var h=Number.NEGATIVE_INFINITY,u=null,c=0,d=l.length;c<d;++c)l[c]>h&&(h=l[c],u=c);++r[u],l[u]=0,++s}return r[e]/o}function sl(t){var e=2*Math.PI;return(t%e+e)%e}function ll(t){return-Qs<t&&t<Qs}var hl=/^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/;function ul(t){if(t instanceof Date)return t;if("string"!=typeof t)return null==t?new Date(NaN):new Date(Math.round(t));var e=hl.exec(t);if(!e)return new Date(NaN);if(e[8]){t=+e[4]||0;return"Z"!==e[8].toUpperCase()&&(t-=e[8].slice(0,3)),new Date(Date.UTC(+e[1],+(e[2]||1)-1,+e[3]||1,t,+(e[5]||0),+e[6]||0,+e[7]||0))}return new Date(+e[1],+(e[2]||1)-1,+e[3]||1,+e[4]||0,+(e[5]||0),+e[6]||0,+e[7]||0)}function cl(t){return Math.pow(10,dl(t))}function dl(t){if(0===t)return 0;var e=Math.floor(Math.log(t)/Math.LN10);return 10<=t/Math.pow(10,e)&&e++,e}function fl(t,e){var i=dl(t),n=Math.pow(10,i),o=t/n,o=e?o<1.5?1:o<2.5?2:o<4?3:o<7?5:10:o<1?1:o<2?2:o<3?3:o<5?5:10;return t=o*n,-20<=i?+t.toFixed(i<0?-i:0):t}function pl(t){t.sort(function(t,e){return function t(e,i,n){return e.interval[n]<i.interval[n]||e.interval[n]===i.interval[n]&&(e.close[n]-i.close[n]==(n?-1:1)||!n&&t(e,i,1))}(t,e,0)?-1:1});for(var e=-1/0,i=1,n=0;n<t.length;){for(var o=t[n].interval,a=t[n].close,r=0;r<2;r++)o[r]<=e&&(o[r]=e,a[r]=r?1:1-i),e=o[r],i=a[r];o[0]===o[1]&&a[0]*a[1]!=1?t.splice(n,1):n++}return t}eo=(Object.freeze||Object)({linearMap:Js,parsePercent:tl,round:el,asc:il,getPrecision:nl,getPrecisionSafe:ol,getPixelPrecision:al,getPercentWithPrecision:rl,MAX_SAFE_INTEGER:9007199254740991,remRadian:sl,isRadianAroundZero:ll,parseDate:ul,quantity:cl,quantityExponent:dl,nice:fl,quantile:function(t,e){var i=(t.length-1)*e+1,n=Math.floor(i),e=+t[n-1];return(i=i-n)?e+i*(t[n]-e):e},reformIntervals:pl,isNumeric:function(t){return 0<=t-parseFloat(t)}});function gl(t){return isNaN(t)?"-":(t=(t+"").split("."))[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g,"$1,")+(1<t.length?"."+t[1]:"")}function ml(t,e){return t=(t||"").toLowerCase().replace(/-(.)/g,function(t,e){return e.toUpperCase()}),e&&t&&(t=t.charAt(0).toUpperCase()+t.slice(1)),t}var vl=X,yl=/([&<>"'])/g,xl={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"};function _l(t){return null==t?"":(t+"").replace(yl,function(t,e){return xl[e]})}function wl(t,e){return"{"+t+(null==e?"":e)+"}"}var bl=["a","b","c","d","e","f","g"];function Sl(t,e,i){O(e)||(e=[e]);var n=e.length;if(!n)return"";for(var o=e[0].$vars||[],a=0;a<o.length;a++){var r=bl[a];t=t.replace(wl(r),wl(r,0))}for(var s=0;s<n;s++)for(var l=0;l<o.length;l++){var h=e[s][o[l]];t=t.replace(wl(bl[l],s),i?_l(h):h)}return t}function Ml(t,e){var i=(t=R(t)?{color:t,extraCssText:e}:t||{}).color,n=t.type,e=t.extraCssText,o=t.renderMode||"html",t=t.markerId||"X";return i?"html"===o?"subItem"===n?'<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:'+_l(i)+";"+(e||"")+'"></span>':'<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:'+_l(i)+";"+(e||"")+'"></span>':{renderMode:o,content:"{marker"+t+"|}  ",style:{color:i}}:""}function Il(t,e){return"0000".substr(0,e-(t+="").length)+t}function Tl(t,e,i){"week"!==t&&"month"!==t&&"quarter"!==t&&"half-year"!==t&&"year"!==t||(t="MM-dd\nyyyy");var n=ul(e),o=i?"UTC":"",a=n["get"+o+"FullYear"](),r=n["get"+o+"Month"]()+1,s=n["get"+o+"Date"](),l=n["get"+o+"Hours"](),e=n["get"+o+"Minutes"](),i=n["get"+o+"Seconds"](),o=n["get"+o+"Milliseconds"]();return t=t.replace("MM",Il(r,2)).replace("M",r).replace("yyyy",a).replace("yy",a%100).replace("dd",Il(s,2)).replace("d",s).replace("hh",Il(l,2)).replace("h",l).replace("mm",Il(e,2)).replace("m",e).replace("ss",Il(i,2)).replace("s",i).replace("SSS",Il(o,3))}function Al(t){return t&&t.charAt(0).toUpperCase()+t.substr(1)}var Cl=sn;function Dl(t,e){var i;"_blank"===e||"blank"===e?((i=window.open()).opener=null,i.location=t):window.open(t,e)}var co=(Object.freeze||Object)({addCommas:gl,toCamelCase:ml,normalizeCssArray:vl,encodeHTML:_l,formatTpl:Sl,formatTplSimple:function(i,t,n){return L(t,function(t,e){i=i.replace("{"+e+"}",n?_l(t):t)}),i},getTooltipMarker:Ml,formatTime:Tl,capitalFirst:Al,truncateText:Cl,getTextBoundingRect:function(t){return nn(t.text,t.font,t.textAlign,t.textVerticalAlign,t.textPadding,t.textLineHeight,t.rich,t.truncate)},getTextRect:function(t,e,i,n,o,a,r,s){return nn(t,e,i,n,o,s,a,r)},windowOpen:Dl}),kl=L,Ll=["left","right","top","bottom","width","height"],Pl=[["width","left","right"],["height","top","bottom"]];function Ol(s,l,h,u,c){var d=0,f=0;null==u&&(u=1/0),null==c&&(c=1/0);var p=0;l.eachChild(function(t,e){var i,n,o=t.position,a=t.getBoundingRect(),r=l.childAt(e+1),e=r&&r.getBoundingRect();p="horizontal"===s?(r=a.width+(e?-e.x+a.x:0),u<(i=d+r)||t.newline?(d=0,i=r,f+=p+h,a.height):Math.max(p,a.height)):(e=a.height+(e?-e.y+a.y:0),c<(n=f+e)||t.newline?(d+=p+h,f=0,n=e,a.width):Math.max(p,a.width)),t.newline||(o[0]=d,o[1]=f,"horizontal"===s?d=i+h:f=n+h)})}var zl=Ol;k(Ol,"vertical"),k(Ol,"horizontal");function Rl(t,e,i){i=vl(i||0);var n=e.width,o=e.height,a=tl(t.left,n),r=tl(t.top,o),s=tl(t.right,n),l=tl(t.bottom,o),h=tl(t.width,n),u=tl(t.height,o),c=i[2]+i[0],d=i[1]+i[3],e=t.aspect;switch(isNaN(h)&&(h=n-s-d-a),isNaN(u)&&(u=o-l-c-r),null!=e&&(isNaN(h)&&isNaN(u)&&(n/o<e?h=.8*n:u=.8*o),isNaN(h)&&(h=e*u),isNaN(u)&&(u=h/e)),isNaN(a)&&(a=n-s-h-d),isNaN(r)&&(r=o-l-u-c),t.left||t.right){case"center":a=n/2-h/2-i[3];break;case"right":a=n-h-d}switch(t.top||t.bottom){case"middle":case"center":r=o/2-u/2-i[0];break;case"bottom":r=o-u-c}a=a||0,r=r||0,isNaN(h)&&(h=n-d-a-(s||0)),isNaN(u)&&(u=o-c-r-(l||0));l=new vi(a+i[3],r+i[0],h,u);return l.margin=i,l}function El(l,h,t){E(t)||(t={});var u=t.ignoreSize;O(u)||(u=[u,u]);var e=i(Pl[0],0),t=i(Pl[1],1);function i(t,e){var i={},n=0,o={},a=0;if(kl(t,function(t){o[t]=l[t]}),kl(t,function(t){c(h,t)&&(i[t]=o[t]=h[t]),d(i,t)&&n++,d(o,t)&&a++}),u[e])return d(h,t[1])?o[t[2]]=null:d(h,t[2])&&(o[t[1]]=null),o;if(2!==a&&n){if(2<=n)return i;for(var r=0;r<t.length;r++){var s=t[r];if(!c(i,s)&&c(l,s)){i[s]=l[s];break}}return i}return o}function c(t,e){return t.hasOwnProperty(e)}function d(t,e){return null!=t[e]&&"auto"!==t[e]}function n(t,e,i){kl(t,function(t){e[t]=i[t]})}n(Pl[0],l,e),n(Pl[1],l,t)}function Nl(t){return e={},(i=t)&&e&&kl(Ll,function(t){i.hasOwnProperty(t)&&(e[t]=i[t])}),e;var e,i}var Bl,Vl,Fl,Hl=Lo(),Wl=Ys.extend({type:"component",id:"",name:"",mainType:"",subType:"",componentIndex:0,defaultOption:null,ecModel:null,dependentModels:[],uid:null,layoutMode:null,$constructor:function(t,e,i,n){Ys.call(this,t,e,i,n),this.uid=$s("ec_cpt_model")},init:function(t,e,i,n){this.mergeDefaultAndTheme(t,i)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,n=i?Nl(t):{};g(t,e.getTheme().get(this.mainType)),g(t,this.getDefaultOption()),i&&El(t,n,i)},mergeOption:function(t,e){g(this.option,t,!0);var i=this.layoutMode;i&&El(this.option,t,i)},optionUpdated:function(t,e){},getDefaultOption:function(){var t=Hl(this);if(!t.defaultOption){for(var e=[],i=this.constructor;i;){var n=i.prototype.defaultOption;n&&e.push(n),i=i.superClass}for(var o={},a=e.length-1;0<=a;a--)o=g(o,e[a],!0);t.defaultOption=o}return t.defaultOption},getReferringComponents:function(t){return this.ecModel.queryComponents({mainType:t,index:this.get(t+"Index",!0),id:this.get(t+"Id",!0)})}});function Gl(t,e){return t[e]||(t[e]={predecessor:[],successor:[]}),t[e]}Xo(Wl,{registerWhenExtend:!0}),Vl={},(Bl=Wl).registerSubTypeDefaulter=function(t,e){t=Vo(t),Vl[t.main]=e},Bl.determineSubType=function(t,e){var i,n=e.type;return n||(i=Vo(t).main,Bl.hasSubTypes(t)&&Vl[i]&&(n=Vl[i](e))),n},Fl=function(t){var e=[];L(Wl.getClassesByMainType(t),function(t){e=e.concat(t.prototype.dependencies||[])}),e=S(e,function(t){return Vo(t).main}),"dataset"!==t&&_(e,"dataset")<=0&&e.unshift("dataset");return e},Wl.topologicalTravel=function(t,e,i,n){if(t.length){var a,r,s,e=(r={},s=[],L(a=e,function(i){var e,n,o=Gl(r,i),t=o.originalDeps=Fl(i),t=(e=a,n=[],L(t,function(t){0<=_(e,t)&&n.push(t)}),n);o.entryCount=t.length,0===o.entryCount&&s.push(i),L(t,function(t){_(o.predecessor,t)<0&&o.predecessor.push(t);var e=Gl(r,t);_(e.successor,t)<0&&e.successor.push(i)})}),{graph:r,noEntryList:s}),o=e.graph,l=e.noEntryList,h={};for(L(t,function(t){h[t]=!0});l.length;){var u=l.pop(),c=o[u],d=!!h[u];d&&(i.call(n,u,c.originalDeps.slice()),delete h[u]),L(c.successor,d?p:f)}L(h,function(){throw new Error("Circle dependency may exists")})}function f(t){o[t].entryCount--,0===o[t].entryCount&&l.push(t)}function p(t){h[t]=!0,f(t)}},b(Wl,{getBoxLayoutParams:function(){return{left:this.get("left"),top:this.get("top"),right:this.get("right"),bottom:this.get("bottom"),width:this.get("width"),height:this.get("height")}}});Zn="";"undefined"!=typeof navigator&&(Zn=navigator.platform||"");var Zl={color:["#c23531","#2f4554","#61a0a8","#d48265","#91c7ae","#749f83","#ca8622","#bda29a","#6e7074","#546570","#c4ccd3"],gradientColor:["#f6efa6","#d88273","#bf444c"],textStyle:{fontFamily:Zn.match(/^Win/)?"Microsoft YaHei":"sans-serif",fontSize:12,fontStyle:"normal",fontWeight:"normal"},blendMode:null,animation:"auto",animationDuration:1e3,animationDurationUpdate:300,animationEasing:"exponentialOut",animationEasingUpdate:"cubicOut",animationThreshold:2e3,progressiveThreshold:3e3,progressive:400,hoverLayerThreshold:3e3,useUTC:!1},Xl=Lo();var Ul={clearColorPalette:function(){Xl(this).colorIdx=0,Xl(this).colorNameMap={}},getColorFromPalette:function(t,e,i){var n=Xl(e=e||this),o=n.colorIdx||0,a=n.colorNameMap=n.colorNameMap||{};if(a.hasOwnProperty(t))return a[t];var r=So(this.get("color",!0)),e=this.get("colorLayer",!0),i=null!=i&&e?function(t,e){for(var i=t.length,n=0;n<i;n++)if(t[n].length>e)return t[n];return t[i-1]}(e,i):r;if((i=i||r)&&i.length){r=i[o];return t&&(a[t]=r),n.colorIdx=(o+1)%i.length,r}}},Yl="original",ql="arrayRows",jl="objectRows",Kl="keyedColumns",$l="unknown",Ql="typedArray",Jl="column",th="row";function eh(t){this.fromDataset=t.fromDataset,this.data=t.data||(t.sourceFormat===Kl?{}:[]),this.sourceFormat=t.sourceFormat||$l,this.seriesLayoutBy=t.seriesLayoutBy||Jl,this.dimensionsDefine=t.dimensionsDefine,this.encodeDefine=t.encodeDefine&&Q(t.encodeDefine),this.startIndex=t.startIndex||0,this.dimensionsDetectCount=t.dimensionsDetectCount}eh.seriesDataToSource=function(t){return new eh({data:t,sourceFormat:B(t)?Ql:Yl,fromDataset:!1})},Wo(eh);var ih={Must:1,Might:2,Not:3},nh=Lo();function oh(t){var e,i=t.option,n=i.data,o=B(n)?Ql:Yl,a=!1,r=i.seriesLayoutBy,s=i.sourceHeader,l=i.dimensions,h=hh(t);h&&(n=(e=h.option).source,o=nh(h).sourceFormat,a=!0,r=r||e.seriesLayoutBy,null==s&&(s=e.sourceHeader),l=l||e.dimensions);l=function(t,e,i,n,o){if(!t)return{dimensionsDefine:ah(o)};var a,r;e===ql?("auto"===n||null==n?rh(function(t){null!=t&&"-"!==t&&(R(t)?null==r&&(r=1):r=0)},i,t,10):r=n?1:0,o||1!==r||(o=[],rh(function(t,e){o[e]=null!=t?t:""},i,t)),a=o?o.length:i===th?t.length:t[0]?t[0].length:null):e===jl?o=o||function(t){var e,i=0;for(;i<t.length&&!(e=t[i++]););if(e){var n=[];return L(e,function(t,e){n.push(e)}),n}}(t):e===Kl?o||(o=[],L(t,function(t,e){o.push(e)})):e===Yl&&(t=To(t[0]),a=O(t)&&t.length||1);return{startIndex:r,dimensionsDefine:ah(o),dimensionsDetectCount:a}}(n,o,r,s,l);nh(t).source=new eh({data:n,fromDataset:a,seriesLayoutBy:r,sourceFormat:o,dimensionsDefine:l.dimensionsDefine,startIndex:l.startIndex,dimensionsDetectCount:l.dimensionsDetectCount,encodeDefine:i.encode})}function ah(t){if(t){var n=Q();return S(t,function(t,e){if(null==(t=C({},E(t)?t:{name:t})).name)return t;t.name+="",null==t.displayName&&(t.displayName=t.name);var i=n.get(t.name);return i?t.name+="-"+i.count++:n.set(t.name,{count:1}),t})}}function rh(t,e,i,n){if(null==n&&(n=1/0),e===th)for(var o=0;o<i.length&&o<n;o++)t(i[o]?i[o][0]:null,o);else for(var a=i[0]||[],o=0;o<a.length&&o<n;o++)t(a[o],o)}function sh(i,t,e){var o={},n=hh(t);if(!n||!i)return o;var a,r,s=[],l=[],t=t.ecModel,t=nh(t).datasetMap,e=n.uid+"_"+e.seriesLayoutBy;L(i=i.slice(),function(t,e){E(t)||(i[e]={name:t}),"ordinal"===t.type&&null==a&&(r=c(i[a=e])),o[t.name]=[]});var h=t.get(e)||t.set(e,{categoryWayDim:r,valueWayDim:0});function u(t,e,i){for(var n=0;n<i;n++)t.push(e+n)}function c(t){t=t.dimsDef;return t?t.length:1}return L(i,function(t,e){var i,n=t.name,t=c(t);null==a?(i=h.valueWayDim,u(o[n],i,t),u(l,i,t),h.valueWayDim+=t):a===e?(u(o[n],0,t),u(s,0,t)):(i=h.categoryWayDim,u(o[n],i,t),u(l,i,t),h.categoryWayDim+=t)}),s.length&&(o.itemName=s),l.length&&(o.seriesName=l),o}function lh(t,l,h){var e={};if(!hh(t))return e;var u,c=l.sourceFormat,d=l.dimensionsDefine;c!==jl&&c!==Kl||L(d,function(t,e){"name"===(E(t)?t.name:t)&&(u=e)});t=function(){for(var t={},e={},i=[],n=0,o=Math.min(5,h);n<o;n++){var a=uh(l.data,c,l.seriesLayoutBy,d,l.startIndex,n);i.push(a);var r=a===ih.Not;if(r&&null==t.v&&n!==u&&(t.v=n),null!=t.n&&t.n!==t.v&&(r||i[t.n]!==ih.Not)||(t.n=n),s(t)&&i[t.n]!==ih.Not)return t;r||(a===ih.Might&&null==e.v&&n!==u&&(e.v=n),null!=e.n&&e.n!==e.v||(e.n=n))}function s(t){return null!=t.v&&null!=t.n}return s(t)?t:s(e)?e:null}();return t&&(e.value=t.v,t=null!=u?u:t.n,e.itemName=[t],e.seriesName=[t]),e}function hh(t){var e=t.option;if(!e.data)return t.ecModel.getComponent("dataset",e.datasetIndex||0)}function uh(t,e,i,n,o,a){var r,s,l;if(B(t))return ih.Not;if(n&&(E(n=n[a])?(s=n.name,l=n.type):R(n)&&(s=n)),null!=l)return"ordinal"===l?ih.Must:ih.Not;if(e===ql)if(i===th){for(var h=t[a],u=0;u<(h||[]).length&&u<5;u++)if(null!=(r=p(h[o+u])))return r}else for(u=0;u<t.length&&u<5;u++){var c=t[o+u];if(c&&null!=(r=p(c[a])))return r}else if(e===jl){if(!s)return ih.Not;for(u=0;u<t.length&&u<5;u++)if((d=t[u])&&null!=(r=p(d[s])))return r}else if(e===Kl){if(!s)return ih.Not;if(!(h=t[s])||B(h))return ih.Not;for(u=0;u<h.length&&u<5;u++)if(null!=(r=p(h[u])))return r}else if(e===Yl)for(u=0;u<t.length&&u<5;u++){var d,f=To(d=t[u]);if(!O(f))return ih.Not;if(null!=(r=p(f[a])))return r}function p(t){var e=R(t);return null!=t&&isFinite(t)&&""!==t?e?ih.Might:ih.Not:e&&"-"!==t?ih.Must:void 0}return ih.Not}var ch="\0_ec_inner",dh=Ys.extend({init:function(t,e,i,n){i=i||{},this.option=null,this._theme=new Ys(i),this._optionManager=n},setOption:function(t,e){U(!(ch in t),"please use chart.getOption()"),this._optionManager.setOption(t,e),this.resetOption(null)},resetOption:function(t){var e,i=!1,n=this._optionManager;return t&&"recreate"!==t||(e=n.mountOption("recreate"===t),this.option&&"recreate"!==t?(this.restoreData(),this.mergeOption(e)):function(t){this.option={},this.option[ch]=1,this._componentsMap=Q({series:[]}),this._seriesIndices,this._seriesIndicesMap,function(i,t){var n=i.color&&!i.colorLayer;L(t,function(t,e){"colorLayer"===e&&n||Wl.hasClass(e)||("object"==typeof t?i[e]=i[e]?g(i[e],t,!1):A(t):null==i[e]&&(i[e]=t))})}(t,this._theme.option),g(t,Zl,!1),this.mergeOption(t)}.call(this,e),i=!0),"timeline"!==t&&"media"!==t||this.restoreData(),t&&"recreate"!==t&&"timeline"!==t||(e=n.getTimelineOption(this))&&(this.mergeOption(e),i=!0),t&&"recreate"!==t&&"media"!==t||(n=n.getMediaOption(this,this._api)).length&&L(n,function(t){this.mergeOption(t,i=!0)},this),i},mergeOption:function(i){var s=this.option,l=this._componentsMap,n=[];nh(this).datasetMap=Q(),L(i,function(t,e){null!=t&&(Wl.hasClass(e)?e&&n.push(e):s[e]=null==s[e]?A(t):g(s[e],t,!0))}),Wl.topologicalTravel(n,Wl.getAllClassMainTypes(),function(a,t){var e=So(i[a]),e=Ao(l.get(a),e);(function(t){var r=Q();xo(t,function(t,e){var i=t.exist;i&&r.set(i.id,t)}),xo(t,function(t,e){var i=t.option;U(!i||null==i.id||!r.get(i.id)||r.get(i.id)===t,"id duplicates: "+(i&&i.id)),i&&null!=i.id&&r.set(i.id,t),t.keyInfo||(t.keyInfo={})}),xo(t,function(t,e){var i=t.exist,n=t.option,o=t.keyInfo;if(_o(n)){if(o.name=null!=n.name?n.name+"":i?i.name:bo+e,i)o.id=i.id;else if(null!=n.id)o.id=n.id+"";else for(var a=0;o.id="\0"+o.name+"\0"+a++,r.get(o.id););r.set(o.id,t)}})})(e),L(e,function(t,e){var i,n=t.option;E(n)&&(t.keyInfo.mainType=a,t.keyInfo.subType=(i=a,n=n,t=t.exist,n.type||(t?t.subType:Wl.determineSubType(i,n))))});var r=function(e,t){O(t)||(t=t?[t]:[]);var i={};return L(t,function(t){i[t]=(e.get(t)||[]).slice()}),i}(l,t);s[a]=[],l.set(a,[]),L(e,function(t,e){var i,n=t.exist,o=t.option;U(E(o)||n,"Empty component definition"),o?(i=Wl.getClass(a,t.keyInfo.subType,!0),n&&n.constructor===i?(n.name=t.keyInfo.name,n.mergeOption(o,this),n.optionUpdated(o,!1)):(t=C({dependentModels:r,componentIndex:e},t.keyInfo),C(n=new i(o,this,this,t),t),n.init(o,this,this,t),n.optionUpdated(null,!0))):(n.mergeOption({},this),n.optionUpdated({},!1)),l.get(a)[e]=n,s[a][e]=n.option},this),"series"===a&&fh(this,l.get("series"))},this),this._seriesIndicesMap=Q(this._seriesIndices=this._seriesIndices||[])},getOption:function(){var n=A(this.option);return L(n,function(t,e){if(Wl.hasClass(e)){for(var i=(t=So(t)).length-1;0<=i;i--)Do(t[i])&&t.splice(i,1);n[e]=t}}),delete n[ch],n},getTheme:function(){return this._theme},getComponent:function(t,e){t=this._componentsMap.get(t);if(t)return t[e||0]},queryComponents:function(t){var e=t.mainType;if(!e)return[];var i,n,o=t.index,a=t.id,r=t.name,s=this._componentsMap.get(e);return s&&s.length?ph(null!=o?(O(o)||(o=[o]),I(S(o,function(t){return s[t]}),function(t){return!!t})):null!=a?(i=O(a),I(s,function(t){return i&&0<=_(a,t.id)||!i&&t.id===a})):null!=r?(n=O(r),I(s,function(t){return n&&0<=_(r,t.name)||!n&&t.name===r})):s.slice(),t):[]},findComponents:function(t){var e,i,n,o,a,r=t.query,s=t.mainType,l=(i=s+"Index",n=s+"Id",o=s+"Name",!(e=r)||null==e[i]&&null==e[n]&&null==e[o]?null:{mainType:s,index:e[i],id:e[n],name:e[o]}),l=l?this.queryComponents(l):this._componentsMap.get(s);return a=ph(l,t),t.filter?I(a,t.filter):a},eachComponent:function(t,n,o){var e=this._componentsMap;"function"==typeof t?(o=n,n=t,e.each(function(t,i){L(t,function(t,e){n.call(o,i,t,e)})})):R(t)?L(e.get(t),n,o):E(t)&&L(this.findComponents(t),n,o)},getSeriesByName:function(e){return I(this._componentsMap.get("series"),function(t){return t.name===e})},getSeriesByIndex:function(t){return this._componentsMap.get("series")[t]},getSeriesByType:function(e){return I(this._componentsMap.get("series"),function(t){return t.subType===e})},getSeries:function(){return this._componentsMap.get("series").slice()},getSeriesCount:function(){return this._componentsMap.get("series").length},eachSeries:function(i,n){L(this._seriesIndices,function(t){var e=this._componentsMap.get("series")[t];i.call(n,e,t)},this)},eachRawSeries:function(t,e){L(this._componentsMap.get("series"),t,e)},eachSeriesByType:function(i,n,o){L(this._seriesIndices,function(t){var e=this._componentsMap.get("series")[t];e.subType===i&&n.call(o,e,t)},this)},eachRawSeriesByType:function(t,e,i){return L(this.getSeriesByType(t),e,i)},isSeriesFiltered:function(t){return null==this._seriesIndicesMap.get(t.componentIndex)},getCurrentSeriesIndices:function(){return(this._seriesIndices||[]).slice()},filterSeries:function(t,e){e=I(this._componentsMap.get("series"),t,e);fh(this,e)},restoreData:function(i){var n=this._componentsMap;fh(this,n.get("series"));var o=[];n.each(function(t,e){o.push(e)}),Wl.topologicalTravel(o,Wl.getAllClassMainTypes(),function(e,t){L(n.get(e),function(t){"series"===e&&function(t,e){if(e){var i=e.seiresIndex,n=e.seriesId,e=e.seriesName;return null!=i&&t.componentIndex!==i||null!=n&&t.id!==n||null!=e&&t.name!==e}}(t,i)||t.restoreData()})})}});function fh(t,e){t._seriesIndicesMap=Q(t._seriesIndices=S(e,function(t){return t.componentIndex})||[])}function ph(t,e){return e.hasOwnProperty("subType")?I(t,function(t){return t.subType===e.subType}):t}b(dh,Ul);var gh=["getDom","getZr","getWidth","getHeight","getDevicePixelRatio","dispatchAction","isDisposed","on","off","getDataURL","getConnectedDataURL","getModel","getOption","getViewOfComponentModel","getViewOfSeriesModel"];function mh(e){L(gh,function(t){this[t]=T(e[t],e)},this)}var vh={};function yh(){this._coordinateSystems=[]}yh.prototype={constructor:yh,create:function(i,n){var o=[];L(vh,function(t,e){t=t.create(i,n);o=o.concat(t||[])}),this._coordinateSystems=o},update:function(e,i){L(this._coordinateSystems,function(t){t.update&&t.update(e,i)})},getCoordinateSystems:function(){return this._coordinateSystems.slice()}},yh.register=function(t,e){vh[t]=e},yh.get=function(t){return vh[t]};var xh=L,_h=A,wh=S,bh=g,Sh=/^(min|max)?(.+)$/;function Mh(t){this._api=t,this._timelineOptions=[],this._mediaList=[],this._mediaDefault,this._currentMediaIndices=[],this._optionBackup,this._newBaseOption}Mh.prototype={constructor:Mh,setOption:function(t,e){t&&L(So(t.series),function(t){t&&t.data&&B(t.data)&&j(t.data)}),t=_h(t);var o,i=this._optionBackup,t=function(t,i,n){var e,o,a=[],r=[],s=t.timeline;t.baseOption&&(o=t.baseOption);(s||t.options)&&(o=o||{},a=(t.options||[]).slice());{var l;t.media&&(o=o||{},l=t.media,xh(l,function(t){t&&t.option&&(t.query?r.push(t):e=e||t)}))}o=o||t;o.timeline||(o.timeline=s);return xh([o].concat(a).concat(S(r,function(t){return t.option})),function(e){xh(i,function(t){t(e,n)})}),{baseOption:o,timelineOptions:a,mediaDefault:e,mediaList:r}}.call(this,t,e,!i);this._newBaseOption=t.baseOption,i?(o=i.baseOption,e=t.baseOption,xh(e=e||{},function(t,e){var i,n;null!=t&&(i=o[e],Wl.hasClass(e)?(t=So(t),n=Ao(i=So(i),t),o[e]=wh(n,function(t){return t.option&&t.exist?bh(t.exist,t.option,!0):t.exist||t.option})):o[e]=bh(i,t,!0))}),t.timelineOptions.length&&(i.timelineOptions=t.timelineOptions),t.mediaList.length&&(i.mediaList=t.mediaList),t.mediaDefault&&(i.mediaDefault=t.mediaDefault)):this._optionBackup=t},mountOption:function(t){var e=this._optionBackup;return this._timelineOptions=wh(e.timelineOptions,_h),this._mediaList=wh(e.mediaList,_h),this._mediaDefault=_h(e.mediaDefault),this._currentMediaIndices=[],_h(t?e.baseOption:this._newBaseOption)},getTimelineOption:function(t){var e,i=this._timelineOptions;return!i.length||(t=t.getComponent("timeline"))&&(e=_h(i[t.getCurrentIndex()],!0)),e},getMediaOption:function(t){var e=this._api.getWidth(),i=this._api.getHeight(),n=this._mediaList,o=this._mediaDefault,a=[],r=[];if(!n.length&&!o)return r;for(var s,l,h=0,u=n.length;h<u;h++)!function(t,e,i){var n={width:e,height:i,aspectratio:e/i},o=!0;return L(t,function(t,e){var i=e.match(Sh);i&&i[1]&&i[2]&&(e=i[1],i=i[2].toLowerCase(),i=n[i],t=t,("min"===(e=e)?t<=i:"max"===e?i<=t:i===t)||(o=!1))}),o}(n[h].query,e,i)||a.push(h);return!a.length&&o&&(a=[-1]),a.length&&(s=a,l=this._currentMediaIndices,s.join(",")!==l.join(","))&&(r=wh(a,function(t){return _h((-1===t?o:n[t]).option)})),this._currentMediaIndices=a,r}};var Ih=L,Th=E,Ah=["areaStyle","lineStyle","nodeStyle","linkStyle","chordStyle","label","labelLine"];function Ch(t){var e=t&&t.itemStyle;if(e)for(var i=0,n=Ah.length;i<n;i++){var o=Ah[i],a=e.normal,r=e.emphasis;a&&a[o]&&(t[o]=t[o]||{},t[o].normal?g(t[o].normal,a[o]):t[o].normal=a[o],a[o]=null),r&&r[o]&&(t[o]=t[o]||{},t[o].emphasis?g(t[o].emphasis,r[o]):t[o].emphasis=r[o],r[o]=null)}}function Dh(t,e,i){var n,o;t&&t[e]&&(t[e].normal||t[e].emphasis)&&(n=t[e].normal,o=t[e].emphasis,n&&(i?(t[e].normal=t[e].emphasis=null,D(t[e],n)):t[e]=n),o&&(t.emphasis=t.emphasis||{},t.emphasis[e]=o))}function kh(t){Dh(t,"itemStyle"),Dh(t,"lineStyle"),Dh(t,"areaStyle"),Dh(t,"label"),Dh(t,"labelLine"),Dh(t,"upperLabel"),Dh(t,"edgeLabel")}function Lh(t,e){var i=Th(t)&&t[e],n=Th(i)&&i.textStyle;if(n)for(var o=0,a=Io.length;o<a;o++){e=Io[o];n.hasOwnProperty(e)&&(i[e]=n[e])}}function Ph(t){t&&(kh(t),Lh(t,"label"),t.emphasis&&Lh(t.emphasis,"label"))}function Oh(t){return O(t)?t:t?[t]:[]}function zh(t){return(O(t)?t[0]:t)||{}}function Rh(e,t){Ih(Oh(e.series),function(t){Th(t)&&function(t){if(Th(t)){Ch(t),kh(t),Lh(t,"label"),Lh(t,"upperLabel"),Lh(t,"edgeLabel"),t.emphasis&&(Lh(t.emphasis,"label"),Lh(t.emphasis,"upperLabel"),Lh(t.emphasis,"edgeLabel"));var e=t.markPoint;e&&(Ch(e),Ph(e));var i=t.markLine;i&&(Ch(i),Ph(i));var n=t.markArea;n&&Ph(n);var o=t.data;if("graph"===t.type){o=o||t.nodes;var a=t.links||t.edges;if(a&&!B(a))for(var r=0;r<a.length;r++)Ph(a[r]);L(t.categories,function(t){kh(t)})}if(o&&!B(o))for(r=0;r<o.length;r++)Ph(o[r]);if((e=t.markPoint)&&e.data)for(var s=e.data,r=0;r<s.length;r++)Ph(s[r]);if((i=t.markLine)&&i.data)for(var l=i.data,r=0;r<l.length;r++)O(l[r])?(Ph(l[r][0]),Ph(l[r][1])):Ph(l[r]);"gauge"===t.type?(Lh(t,"axisLabel"),Lh(t,"title"),Lh(t,"detail")):"treemap"===t.type?(Dh(t.breadcrumb,"itemStyle"),L(t.levels,function(t){kh(t)})):"tree"===t.type&&kh(t.leaves)}}(t)});var i=["xAxis","yAxis","radiusAxis","angleAxis","singleAxis","parallelAxis","radar"];t&&i.push("valueAxis","categoryAxis","logAxis","timeAxis"),Ih(i,function(t){Ih(Oh(e[t]),function(t){t&&(Lh(t,"axisLabel"),Lh(t.axisPointer,"label"))})}),Ih(Oh(e.parallel),function(t){t=t&&t.parallelAxisDefault;Lh(t,"axisLabel"),Lh(t&&t.axisPointer,"label")}),Ih(Oh(e.calendar),function(t){Dh(t,"itemStyle"),Lh(t,"dayLabel"),Lh(t,"monthLabel"),Lh(t,"yearLabel")}),Ih(Oh(e.radar),function(t){Lh(t,"name")}),Ih(Oh(e.geo),function(t){Th(t)&&(Ph(t),Ih(Oh(t.regions),function(t){Ph(t)}))}),Ih(Oh(e.timeline),function(t){Ph(t),Dh(t,"label"),Dh(t,"itemStyle"),Dh(t,"controlStyle",!0);t=t.data;O(t)&&L(t,function(t){E(t)&&(Dh(t,"label"),Dh(t,"itemStyle"))})}),Ih(Oh(e.toolbox),function(t){Dh(t,"iconStyle"),Ih(t.feature,function(t){Dh(t,"iconStyle")})}),Lh(zh(e.axisPointer),"label"),Lh(zh(e.tooltip).axisPointer,"label")}function Eh(e){L(Nh,function(t){t[0]in e&&!(t[1]in e)&&(e[t[1]]=e[t[0]])})}var Nh=[["x","left"],["y","top"],["x2","right"],["y2","bottom"]],Bh=["grid","geo","parallel","legend","toolbox","title","visualMap","dataZoom","timeline"],Vh=function(e,t){Rh(e,t),e.series=So(e.series),L(e.series,function(t){var e,i;E(t)&&("line"===(e=t.type)?null!=t.clipOverflow&&(t.clip=t.clipOverflow):"pie"===e||"gauge"===e?null!=t.clockWise&&(t.clockwise=t.clockWise):"gauge"===e&&null!=(i=function(t,e){e=e.split(",");for(var i=t,n=0;n<e.length&&null!=(i=i&&i[e[n]]);n++);return i}(t,"pointer.color"))&&function(t,e,i,n){e=e.split(",");for(var o,a=t,r=0;r<e.length-1;r++)null==a[o=e[r]]&&(a[o]={}),a=a[o];!n&&null!=a[e[r]]||(a[e[r]]=i)}(t,"itemStyle.color",i),Eh(t))}),e.dataRange&&(e.visualMap=e.dataRange),L(Bh,function(t){t=e[t];t&&(O(t)||(t=[t]),L(t,function(t){Eh(t)}))})};function Fh(g){L(g,function(h,u){var c=[],d=[NaN,NaN],t=[h.stackResultDimension,h.stackedOverDimension],f=h.data,p=h.isStackedByIndex,t=f.map(t,function(t,e,i){var n,o,a=f.get(h.stackedDimension,i);if(isNaN(a))return d;p?o=f.getRawIndex(i):n=f.get(h.stackedByDimension,i);for(var r=NaN,s=u-1;0<=s;s--){var l=g[s];if(p||(o=l.data.rawIndexOf(l.stackedByDimension,n)),0<=o){l=l.data.getByRawIndex(l.stackResultDimension,o);if(0<=a&&0<l||a<=0&&l<0){a+=l,r=l;break}}}return c[0]=a,c[1]=r,c});f.hostModel.setData(t),h.data=t})}function Hh(t,e){eh.isInstance(t)||(t=eh.seriesDataToSource(t)),this._source=t;var i=this._data=t.data,n=t.sourceFormat;n===Ql&&(this._offset=0,this._dimSize=e,this._data=i),C(this,Wh[n===ql?n+"_"+t.seriesLayoutBy:n])}ii=Hh.prototype;ii.pure=!1;var Wh={arrayRows_column:{pure:ii.persistent=!0,count:function(){return Math.max(0,this._data.length-this._source.startIndex)},getItem:function(t){return this._data[t+this._source.startIndex]},appendData:Xh},arrayRows_row:{pure:!0,count:function(){var t=this._data[0];return t?Math.max(0,t.length-this._source.startIndex):0},getItem:function(t){t+=this._source.startIndex;for(var e=[],i=this._data,n=0;n<i.length;n++){var o=i[n];e.push(o?o[t]:null)}return e},appendData:function(){throw new Error('Do not support appendData when set seriesLayoutBy: "row".')}},objectRows:{pure:!0,count:Gh,getItem:Zh,appendData:Xh},keyedColumns:{pure:!0,count:function(){var t=this._source.dimensionsDefine[0].name,t=this._data[t];return t?t.length:0},getItem:function(t){for(var e=[],i=this._source.dimensionsDefine,n=0;n<i.length;n++){var o=this._data[i[n].name];e.push(o?o[t]:null)}return e},appendData:function(t){var o=this._data;L(t,function(t,e){for(var i=o[e]||(o[e]=[]),n=0;n<(t||[]).length;n++)i.push(t[n])})}},original:{count:Gh,getItem:Zh,appendData:Xh},typedArray:{persistent:!(ii.getSource=function(){return this._source}),pure:!0,count:function(){return this._data?this._data.length/this._dimSize:0},getItem:function(t,e){t-=this._offset,e=e||[];for(var i=this._dimSize*t,n=0;n<this._dimSize;n++)e[n]=this._data[i+n];return e},appendData:function(t){this._data=t},clean:function(){this._offset+=this.count(),this._data=null}}};function Gh(){return this._data.length}function Zh(t){return this._data[t]}function Xh(t){for(var e=0;e<t.length;e++)this._data.push(t[e])}var Uh={arrayRows:Yh,objectRows:function(t,e,i,n){return null!=i?t[n]:t},keyedColumns:Yh,original:function(t,e,i,n){t=To(t);return null!=i&&t instanceof Array?t[i]:t},typedArray:Yh};function Yh(t,e,i,n){return null!=i?t[i]:t}var qh={arrayRows:jh,objectRows:function(t,e,i,n){return Kh(t[e],this._dimensionInfos[e])},keyedColumns:jh,original:function(t,e,i,n){var o=t&&(null==t.value?t:t.value);return this._rawData.pure||(!_o(t=t)||t instanceof Array)||(this.hasItemOption=!0),Kh(o instanceof Array?o[n]:o,this._dimensionInfos[e])},typedArray:function(t,e,i,n){return t[n]}};function jh(t,e,i,n){return Kh(t[n],this._dimensionInfos[e])}function Kh(t,e){var i=e&&e.type;if("ordinal"!==i)return"time"===i&&"number"!=typeof t&&null!=t&&"-"!==t&&(t=+ul(t)),null==t||""===t?NaN:+t;e=e&&e.ordinalMeta;return e?e.parseAndCollect(t):t}function $h(t,e,i){if(t){var n=t.getRawDataItem(e);if(null!=n){var o,a,r=t.getProvider().getSource().sourceFormat,i=t.getDimensionInfo(i);return i&&(o=i.name,a=i.index),Uh[r](n,e,a,o)}}}var Qh=/\{@(.+?)\}/g,oi={getDataParams:function(t,e){var i=this.getData(e),n=this.getRawValue(t,e),o=i.getRawIndex(t),a=i.getName(t),r=i.getRawDataItem(t),s=i.getItemVisual(t,"color"),l=i.getItemVisual(t,"borderColor"),h=this.ecModel.getComponent("tooltip"),u=Eo(h&&h.get("renderMode")),t=this.mainType,h="series"===t,i=i.userOutput;return{componentType:t,componentSubType:this.subType,componentIndex:this.componentIndex,seriesType:h?this.subType:null,seriesIndex:this.seriesIndex,seriesId:h?this.id:null,seriesName:h?this.name:null,name:a,dataIndex:o,data:r,dataType:e,value:n,color:s,borderColor:l,dimensionNames:i?i.dimensionNames:null,encode:i?i.encode:null,marker:Ml({color:s,renderMode:u}),$vars:["seriesName","name","value"]}},getFormattedLabel:function(n,t,e,i,o){t=t||"normal";var a=this.getData(e),r=a.getItemModel(n),e=this.getDataParams(n,e);null!=i&&e.value instanceof Array&&(e.value=e.value[i]);o=r.get("normal"===t?[o||"label","formatter"]:[t,o||"label","formatter"]);return"function"==typeof o?(e.status=t,e.dimensionIndex=i,o(e)):"string"==typeof o?Sl(o,e).replace(Qh,function(t,e){var i=e.length;return"["===e.charAt(0)&&"]"===e.charAt(i-1)&&(e=+e.slice(1,i-1)),$h(a,n,e)}):void 0},getRawValue:function(t,e){return $h(this.getData(e),t)},formatTooltip:function(){}};function Jh(t){return new tu(t)}function tu(t){t=t||{},this._reset=t.reset,this._plan=t.plan,this._count=t.count,this._onDirty=t.onDirty,this._dirty=!0,this.context}n=tu.prototype;n.perform=function(t){var e,i=this._upstream,n=t&&t.skip;this._dirty&&i&&((a=this.context).data=a.outputData=i.context.outputData),this.__pipeline&&(this.__pipeline.currentTask=this),this._plan&&!n&&(e=this._plan(this.context));var o=l(this._modBy),a=this._modDataCount||0,r=l(t&&t.modBy),s=t&&t.modDataCount||0;function l(t){return 1<=t||(t=1),t}o===r&&a===s||(e="reset"),!this._dirty&&"reset"!==e||(this._dirty=!1,f=function(t,e){var i,n;t._dueIndex=t._outputDueEnd=t._dueEnd=0,t._settedOutputEnd=null,!e&&t._reset&&((i=t._reset(t.context))&&i.progress&&(n=i.forceFirstProgress,i=i.progress),O(i)&&!i.length&&(i=null));t._progress=i,t._modBy=t._modDataCount=null;t=t._downstream;return t&&t.dirty(),n}(this,n)),this._modBy=r,this._modDataCount=s;t=t&&t.step;if(this._dueEnd=i?i._outputDueEnd:this._count?this._count(this.context):1/0,this._progress){var h=this._dueIndex,u=Math.min(null!=t?this._dueIndex+t:1/0,this._dueEnd);if(!n&&(f||h<u)){var c=this._progress;if(O(c))for(var d=0;d<c.length;d++)uu(this,c[d],h,u,r,s);else uu(this,c,h,u,r,s)}this._dueIndex=u;var f=null!=this._settedOutputEnd?this._settedOutputEnd:u;this._outputDueEnd=f}else this._dueIndex=this._outputDueEnd=null!=this._settedOutputEnd?this._settedOutputEnd:this._dueEnd;return this.unfinished()};var eu,iu,nu,ou,au,ru,su=ru={reset:function(t,e,i,n){iu=t,eu=e,nu=i,ou=n,au=Math.ceil(ou/nu),ru.next=1<nu&&0<ou?hu:lu}};function lu(){return iu<eu?iu++:null}function hu(){var t=iu%au*nu+Math.ceil(iu/au),t=eu<=iu?null:t<ou?t:iu;return iu++,t}function uu(t,e,i,n,o,a){su.reset(i,n,o,a),t._callingProgress=e,t._callingProgress({start:i,end:n,count:n-i,next:su.next},t.context)}n.dirty=function(){this._dirty=!0,this._onDirty&&this._onDirty(this.context)},n.unfinished=function(){return this._progress&&this._dueIndex<this._dueEnd},n.pipe=function(t){this._downstream===t&&!this._dirty||((this._downstream=t)._upstream=this,t.dirty())},n.dispose=function(){this._disposed||(this._upstream&&(this._upstream._downstream=null),this._downstream&&(this._downstream._upstream=null),this._dirty=!1,this._disposed=!0)},n.getUpstream=function(){return this._upstream},n.getDownstream=function(){return this._downstream},n.setOutputEnd=function(t){this._outputDueEnd=this._settedOutputEnd=t};var cu=Lo(),du=Wl.extend({type:"series.__base__",seriesIndex:0,coordinateSystem:null,defaultOption:null,legendVisualProvider:null,visualColorAccessPath:"itemStyle.color",visualBorderColorAccessPath:"itemStyle.borderColor",layoutMode:null,init:function(t,e,i,n){this.seriesIndex=this.componentIndex,this.dataTask=Jh({count:pu,reset:gu}),this.dataTask.context={model:this},this.mergeDefaultAndTheme(t,i),oh(this);i=this.getInitialData(t,i);vu(i,this),this.dataTask.context.data=i,cu(this).dataBeforeProcessed=i,fu(this)},mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,n=i?Nl(t):{},o=this.subType;Wl.hasClass(o),g(t,e.getTheme().get(this.subType)),g(t,this.getDefaultOption()),Mo(t,"label",["show"]),this.fillDataTextStyle(t.data),i&&El(t,n,i)},mergeOption:function(t,e){t=g(this.option,t,!0),this.fillDataTextStyle(t.data);var i=this.layoutMode;i&&El(this.option,t,i),oh(this);e=this.getInitialData(t,e);vu(e,this),this.dataTask.dirty(),this.dataTask.context.data=e,cu(this).dataBeforeProcessed=e,fu(this)},fillDataTextStyle:function(t){if(t&&!B(t))for(var e=["show"],i=0;i<t.length;i++)t[i]&&t[i].label&&Mo(t[i],"label",e)},getInitialData:function(){},appendData:function(t){this.getRawData().appendData(t.data)},getData:function(t){var e=xu(this);if(e){e=e.context.data;return null==t?e:e.getLinkedData(t)}return cu(this).data},setData:function(t){var e,i=xu(this);i&&((e=i.context).data!==t&&i.modifyOutputEnd&&i.setOutputEnd(t.count()),e.outputData=t,i!==this.dataTask&&(e.data=t)),cu(this).data=t},getSource:function(){return nh(this).source},getRawData:function(){return cu(this).dataBeforeProcessed},getBaseAxis:function(){var t=this.coordinateSystem;return t&&t.getBaseAxis&&t.getBaseAxis()},formatTooltip:function(e,a,t,r){var s=this,i="html"===(r=r||"html")?"<br/>":"\n",l="richText"===r,h={},u=0;function n(t){return{renderMode:r,content:_l(gl(t)),style:h}}var o,c,d,f=this.getData(),p=f.mapDimension("defaultedTooltip",!0),g=p.length,m=this.getRawValue(e),v=O(m),y=f.getItemVisual(e,"color");function x(t,e){var i,n,o=f.getDimensionInfo(e);o&&!1!==o.otherDims.tooltip&&(i=o.type,n="sub"+s.seriesIndex+"at"+u,e="string"==typeof(e=Ml({color:y,type:"subItem",renderMode:r,markerId:n}))?e:e.content,(t=(c?e+_l(o.displayName||"-")+": ":"")+_l("ordinal"===i?t+"":"time"===i?a?"":Tl("yyyy/MM/dd hh:mm:ss",t):gl(t)))&&d.push(t),l&&(h[n]=y,++u))}E(y)&&y.colorStops&&(y=(y.colorStops[0]||{}).color),y=y||"transparent";var _=(1<g||v&&!g?(c=M(o=m,function(t,e,i){i=f.getDimensionInfo(i);return t|(i&&!1!==i.tooltip&&null!=i.displayName)},0),d=[],p.length?L(p,function(t){x($h(f,e,t),t)}):L(o,x),o=c?l?"\n":"<br/>":"",o+=d.join(o||", "),{renderMode:r,content:o,style:h}):n(g?$h(f,e,p[0]):v?m[0]:m)).content,w=s.seriesIndex+"at"+u,g=Ml({color:y,type:"item",renderMode:r,markerId:w});h[w]=y,++u;v=f.getName(e),w=this.name;Co(this)||(w=""),w=w?_l(w)+(a?": ":i):"";g="string"==typeof g?g:g.content;return{html:a?g+w+_:w+g+(v?_l(v)+": "+_:_),markers:h}},isAnimationEnabled:function(){if(v.node)return!1;var t=this.getShallow("animation");return t&&this.getData().count()>this.getShallow("animationThreshold")&&(t=!1),t},restoreData:function(){this.dataTask.dirty()},getColorFromPalette:function(t,e,i){var n=this.ecModel;return Ul.getColorFromPalette.call(this,t,e,i)||n.getColorFromPalette(t,e,i)},coordDimToDataDim:function(t){return this.getRawData().mapDimension(t,!0)},getProgressive:function(){return this.get("progressive")},getProgressiveThreshold:function(){return this.get("progressiveThreshold")},getAxisTooltipData:null,getTooltipPosition:null,pipeTask:null,preventIncremental:null,pipelineContext:null});function fu(t){var e,i,n=t.name;Co(t)||(t.name=(t=(e=(t=t).getRawData()).mapDimension("seriesName",!0),i=[],L(t,function(t){t=e.getDimensionInfo(t);t.displayName&&i.push(t.displayName)}),i.join(" ")||n))}function pu(t){return t.model.getRawData().count()}function gu(t){t=t.model;return t.setData(t.getRawData().cloneShallow()),mu}function mu(t,e){e.outputData&&t.end>e.outputData.count()&&e.model.getRawData().cloneShallow(e.outputData)}function vu(e,i){L(e.CHANGABLE_METHODS,function(t){e.wrapMethod(t,k(yu,i))})}function yu(t){t=xu(t);t&&t.setOutputEnd(this.count())}function xu(t){var e=(t.ecModel||{}).scheduler,i=e&&e.getPipeline(t.uid);if(i){e=i.currentTask;return!e||(i=e.agentStubMap)&&(e=i.get(t.uid)),e}}b(du,oi),b(du,Ul);var _u=function(){this.group=new yi,this.uid=$s("viewComponent")};_u.prototype={constructor:_u,init:function(t,e){},render:function(t,e,i,n){},dispose:function(){},filterForExposedEvent:null};ce=_u.prototype;ce.updateView=ce.updateLayout=ce.updateVisual=function(t,e,i,n){},Fo(_u),Xo(_u,{registerWhenExtend:!0});function wu(){var a=Lo();return function(t){var e=a(t),i=t.pipelineContext,n=e.large,o=e.progressiveRender,t=e.large=i&&i.large,i=e.progressiveRender=i&&i.progressiveRender;return!!(n^t||o^i)&&"reset"}}var bu=Lo(),Su=wu();function Mu(){this.group=new yi,this.uid=$s("viewChart"),this.renderTask=Jh({plan:Au,reset:Cu}),this.renderTask.context={view:this}}_e=Mu.prototype={type:"chart",init:function(t,e){},render:function(t,e,i,n){},highlight:function(t,e,i,n){Tu(t.getData(),n,"emphasis")},downplay:function(t,e,i,n){Tu(t.getData(),n,"normal")},remove:function(t,e){this.group.removeAll()},dispose:function(){},incrementalPrepareRender:null,incrementalRender:null,updateTransform:null,filterForExposedEvent:null};function Iu(t,e,i){if(t&&(t.trigger(e,i),t.isGroup&&!Ss(t)))for(var n=0,o=t.childCount();n<o;n++)Iu(t.childAt(n),e,i)}function Tu(e,t,i){var n=ko(e,t),o=t&&null!=t.highlightKey?Ms(t.highlightKey):null;null!=n?L(So(n),function(t){Iu(e.getItemGraphicEl(t),i,o)}):e.eachItemGraphicEl(function(t){Iu(t,i,o)})}function Au(t){return Su(t.model)}function Cu(t){var e=t.model,i=t.ecModel,n=t.api,o=t.payload,a=e.pipelineContext.progressiveRender,r=t.view,t=o&&bu(o).updateMethod,t=a?"incrementalPrepareRender":t&&r[t]?t:"render";return"render"!==t&&r[t](e,i,n,o),Du[t]}_e.updateView=_e.updateLayout=_e.updateVisual=function(t,e,i,n){this.render(t,e,i,n)},Fo(Mu),Xo(Mu,{registerWhenExtend:!0}),Mu.markUpdateMethod=function(t,e){bu(t).updateMethod=e};var Du={incrementalPrepareRender:{progress:function(t,e){e.view.incrementalRender(t,e.model,e.ecModel,e.api,e.payload)}},render:{forceFirstProgress:!0,progress:function(t,e){e.view.render(e.model,e.ecModel,e.api,e.payload)}}},ku="\0__throttleOriginMethod",Lu="\0__throttleRate",Pu="\0__throttleType";function Ou(t,i,n){var o,a,r,s,l,h=0,u=0,c=null;function d(){u=(new Date).getTime(),c=null,t.apply(r,s||[])}i=i||0;function e(){o=(new Date).getTime(),r=this,s=arguments;var t=l||i,e=l||n;l=null,a=o-(e?h:u)-t,clearTimeout(c),e?c=setTimeout(d,t):0<=a?d():c=setTimeout(d,-a),h=o}return e.clear=function(){c&&(clearTimeout(c),c=null)},e.debounceNextCall=function(t){l=t},e}function zu(t,e,i,n){var o=t[e];if(o){var a=o[ku]||o,r=o[Pu];if(o[Lu]!==i||r!==n){if(null==i||!n)return t[e]=a;(o=t[e]=Ou(a,i,"debounce"===n))[ku]=a,o[Pu]=n,o[Lu]=i}return o}}function Ru(t,e){var i=t[e];i&&i[ku]&&(t[e]=i[ku])}var Xs={createOnAllSeries:!0,performRawSeries:!0,reset:function(e,t){var i=e.getData(),o=(e.visualColorAccessPath||"itemStyle.color").split("."),n=e.get(o),a=!z(n)||n instanceof Fr?null:n;n&&!a||(n=e.getColorFromPalette(e.name,null,t.getSeriesCount())),i.setVisual("color",n);var r=(e.visualBorderColorAccessPath||"itemStyle.borderColor").split("."),n=e.get(r);if(i.setVisual("borderColor",n),!t.isSeriesFiltered(e)){a&&i.each(function(t){i.setItemVisual(t,"color",a(e.getDataParams(t)))});return{dataEach:i.hasItemOption?function(t,e){var i=t.getItemModel(e),n=i.get(o,!0),i=i.get(r,!0);null!=n&&t.setItemVisual(e,"color",n),null!=i&&t.setItemVisual(e,"borderColor",i)}:null}}}},Eu={legend:{selector:{all:"全选",inverse:"反选"}},toolbox:{brush:{title:{rect:"矩形选择",polygon:"圈选",lineX:"横向选择",lineY:"纵向选择",keep:"保持选择",clear:"清除选择"}},dataView:{title:"数据视图",lang:["数据视图","关闭","刷新"]},dataZoom:{title:{zoom:"区域缩放",back:"区域缩放还原"}},magicType:{title:{line:"切换为折线图",bar:"切换为柱状图",stack:"切换为堆叠",tiled:"切换为平铺"}},restore:{title:"还原"},saveAsImage:{title:"保存为图片",lang:["右键另存为图片"]}},series:{typeNames:{pie:"饼图",bar:"柱状图",line:"折线图",scatter:"散点图",effectScatter:"涟漪散点图",radar:"雷达图",tree:"树图",treemap:"矩形树图",boxplot:"箱型图",candlestick:"K线图",k:"K线图",heatmap:"热力图",map:"地图",parallel:"平行坐标图",lines:"线图",graph:"关系图",sankey:"桑基图",funnel:"漏斗图",gauge:"仪表盘图",pictorialBar:"象形柱图",themeRiver:"主题河流图",sunburst:"旭日图"}},aria:{general:{withTitle:"这是一个关于“{title}”的图表。",withoutTitle:"这是一个图表，"},series:{single:{prefix:"",withName:"图表类型是{seriesType}，表示{seriesName}。",withoutName:"图表类型是{seriesType}。"},multiple:{prefix:"它由{seriesCount}个图表系列组成。",withName:"第{seriesId}个系列是一个表示{seriesName}的{seriesType}，",withoutName:"第{seriesId}个系列是一个{seriesType}，",separator:{middle:"；",end:"。"}}},data:{allData:"其数据是——",partialData:"其中，前{displayCnt}项是——",withName:"{name}的数据是{value}",withoutName:"{value}",separator:{middle:"，",end:""}}}},Nu=function(t,e){var l,h,u,i,c,a=e.getModel("aria");function d(t,e){if("string"!=typeof t)return t;var i=t;return L(e,function(t,e){i=i.replace(new RegExp("\\{\\s*"+e+"\\s*\\}","g"),t)}),i}function f(t){var e=a.get(t);if(null!=e)return e;for(var i=t.split("."),n=Eu.aria,o=0;o<i.length;++o)n=n[i[o]];return n}a.get("show")&&(a.get("description")?t.setAttribute("aria-label",a.get("description")):(l=0,e.eachSeries(function(t,e){++l},this),h=a.get("data.maxCount")||10,i=a.get("series.maxCount")||10,u=Math.min(l,i),l<1||(i=(i=function(){var t=e.getModel("title").option;t&&t.length&&(t=t[0]);return t&&t.text}())?d(f("general.withTitle"),{title:i}):f("general.withoutTitle"),c=[],i+=d(f(1<l?"series.multiple.prefix":"series.single.prefix"),{seriesCount:l}),e.eachSeries(function(t,e){if(e<u){var i=t.get("name"),e="series."+(1<l?"multiple":"single")+".",i=f(i?e+"withName":e+"withoutName");i=d(i,{seriesId:t.seriesIndex,seriesName:t.get("name"),seriesType:(e=t.subType,Eu.series.typeNames[e]||"自定义图")});var n=t.getData();(window.data=n).count()>h?i+=d(f("data.partialData"),{displayCnt:h}):i+=f("data.allData");for(var o,a,r=[],s=0;s<n.count();s++)s<h&&(o=n.getName(s),a=$h(n,s),r.push(d(f(o?"data.withName":"data.withoutName"),{name:o,value:a})));i+=r.join(f("data.separator.middle"))+f("data.separator.end"),c.push(i)}}),i+=c.join(f("series.multiple.separator.middle"))+f("series.multiple.separator.end"),t.setAttribute("aria-label",i))))},Bu=Math.PI;function Vu(t,e,i,n){this.ecInstance=t,this.api=e,this.unfinished;i=this._dataProcessorHandlers=i.slice(),n=this._visualHandlers=n.slice();this._allHandlers=i.concat(n),this._stageTaskMap=Q()}Nn=Vu.prototype;function Fu(s,t,l,h,u){var c;function d(t,e){return t.setDirty&&(!t.dirtyMap||t.dirtyMap.get(e.__pipeline.id))}u=u||{},L(t,function(n,t){var e,i,o,a,r;u.visualType&&u.visualType!==n.visualType||(e=(a=s._stageTaskMap.get(n.uid)).seriesTaskMap,(i=a.overallTask)?((a=i.agentStubMap).each(function(t){d(u,t)&&(t.dirty(),o=!0)}),o&&i.dirty(),Hu(i,h),r=s.getPerformArgs(i,u.block),a.each(function(t){t.perform(r)}),c|=i.perform(r)):e&&e.each(function(t,e){d(u,t)&&t.dirty();var i=s.getPerformArgs(t,u.block);i.skip=!n.performRawSeries&&l.isSeriesFiltered(t.context.model),Hu(t,h),c|=t.perform(i)}))}),s.unfinished|=c}Nn.restoreData=function(t,e){t.restoreData(e),this._stageTaskMap.each(function(t){t=t.overallTask;t&&t.dirty()})},Nn.getPerformArgs=function(t,e){if(t.__pipeline){var i=this._pipelineMap.get(t.__pipeline.id),n=i.context,i=!e&&i.progressiveEnabled&&(!n||n.progressiveRender)&&t.__idxInPipeline>i.blockIndex?i.step:null,n=n&&n.modDataCount;return{step:i,modBy:null!=n?Math.ceil(n/i):null,modDataCount:n}}},Nn.getPipeline=function(t){return this._pipelineMap.get(t)},Nn.updateStreamModes=function(t,e){var i=this._pipelineMap.get(t.uid),n=t.getData().count(),o=i.progressiveEnabled&&e.incrementalPrepareRender&&n>=i.threshold,e=t.get("large")&&n>=t.get("largeThreshold"),n="mod"===t.get("progressiveChunkMode")?n:null;t.pipelineContext=i.context={progressiveRender:o,modDataCount:n,large:e}},Nn.restorePipelines=function(t){var n=this,o=n._pipelineMap=Q();t.eachSeries(function(t){var e=t.getProgressive(),i=t.uid;o.set(i,{id:i,head:null,tail:null,threshold:t.getProgressiveThreshold(),progressiveEnabled:e&&!(t.preventIncremental&&t.preventIncremental()),blockIndex:-1,step:Math.round(e||700),count:0}),$u(n,t,t.dataTask)})},Nn.prepareStageTasks=function(){var i=this._stageTaskMap,n=this.ecInstance.getModel(),o=this.api;L(this._allHandlers,function(t){var e=i.get(t.uid)||i.set(t.uid,[]);t.reset&&function(i,n,t,o,a){var r=t.seriesTaskMap||(t.seriesTaskMap=Q()),e=n.seriesType,t=n.getTargetSeries;n.createOnAllSeries?o.eachRawSeries(s):e?o.eachRawSeriesByType(e,s):t&&t(o,a).each(s);function s(t){var e=t.uid,e=r.get(e)||r.set(e,Jh({plan:Uu,reset:Yu,count:Ku}));e.context={model:t,ecModel:o,api:a,useClearVisual:n.isVisual&&!n.isLayout,plan:n.plan,reset:n.reset,scheduler:i},$u(i,t,e)}var l=i._pipelineMap;r.each(function(t,e){l.get(e)||(t.dispose(),r.removeKey(e))})}(this,t,e,n,o),t.overallReset&&function(n,t,e,i,o){var a=e.overallTask=e.overallTask||Jh({reset:Wu});a.context={ecModel:i,api:o,overallReset:t.overallReset,scheduler:n};var r=a.agentStubMap=a.agentStubMap||Q(),s=t.seriesType,e=t.getTargetSeries,l=!0,h=t.modifyOutputEnd;s?i.eachRawSeriesByType(s,u):e?e(i,o).each(u):(l=!1,L(i.getSeries(),u));function u(t){var e=t.uid,i=r.get(e);i||(i=r.set(e,Jh({reset:Gu,onDirty:Xu})),a.dirty()),i.context={model:t,overallProgress:l,modifyOutputEnd:h},i.agent=a,i.__block=l,$u(n,t,i)}var c=n._pipelineMap;r.each(function(t,e){c.get(e)||(t.dispose(),a.dirty(),r.removeKey(e))})}(this,t,e,n,o)},this)},Nn.prepareView=function(t,e,i,n){var o=t.renderTask,a=o.context;a.model=e,a.ecModel=i,a.api=n,o.__block=!t.incrementalPrepareRender,$u(this,e,o)},Nn.performDataProcessorTasks=function(t,e){Fu(this,this._dataProcessorHandlers,t,e,{block:!0})},Nn.performVisualTasks=function(t,e,i){Fu(this,this._visualHandlers,t,e,i)},Nn.performSeriesTasks=function(t){var e;t.eachSeries(function(t){e|=t.dataTask.perform()}),this.unfinished|=e},Nn.plan=function(){this._pipelineMap.each(function(t){var e=t.tail;do{if(e.__block){t.blockIndex=e.__idxInPipeline;break}}while(e=e.getUpstream())})};var Hu=Nn.updatePayload=function(t,e){"remain"!==e&&(t.context.payload=e)};function Wu(t){t.overallReset(t.ecModel,t.api,t.payload)}function Gu(t,e){return t.overallProgress&&Zu}function Zu(){this.agent.dirty(),this.getDownstream().dirty()}function Xu(){this.agent&&this.agent.dirty()}function Uu(t){return t.plan&&t.plan(t.model,t.ecModel,t.api,t.payload)}function Yu(t){t.useClearVisual&&t.data.clearAllVisual();t=t.resetDefines=So(t.reset(t.model,t.ecModel,t.api,t.payload));return 1<t.length?S(t,function(t,e){return ju(e)}):qu}var qu=ju(0);function ju(a){return function(t,e){var i=e.data,n=e.resetDefines[a];if(n&&n.dataEach)for(var o=t.start;o<t.end;o++)n.dataEach(i,o);else n&&n.progress&&n.progress(t,i)}}function Ku(t){return t.data.count()}function $u(t,e,i){e=e.uid,e=t._pipelineMap.get(e);e.head||(e.head=i),e.tail&&e.tail.pipe(i),(e.tail=i).__idxInPipeline=e.count++,i.__pipeline=e}Vu.wrapStageHandler=function(t,e){return z(t)&&(t={overallReset:t,seriesType:function(t){Qu=null;try{t(Ju,tc)}catch(t){}return Qu}(t)}),t.uid=$s("stageHandler"),e&&(t.visualType=e),t};var Qu,Ju={},tc={};function ec(t,e){for(var i in e.prototype)t[i]=tt}ec(Ju,dh),ec(tc,mh),Ju.eachSeriesByType=Ju.eachRawSeriesByType=function(t){Qu=t},Ju.eachComponent=function(t){"series"===t.mainType&&t.subType&&(Qu=t.subType)};var Zn=["#37A2DA","#32C5E9","#67E0E3","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#E062AE","#E690D1","#e7bcf3","#9d96f5","#8378EA","#96BFFF"],ii={color:Zn,colorLayer:[["#37A2DA","#ffd85c","#fd7b5f"],["#37A2DA","#67E0E3","#FFDB5C","#ff9f7f","#E062AE","#9d96f5"],["#37A2DA","#32C5E9","#9FE6B8","#FFDB5C","#ff9f7f","#fb7293","#e7bcf3","#8378EA","#96BFFF"],Zn]},ic="#eee",n=function(){return{axisLine:{lineStyle:{color:ic}},axisTick:{lineStyle:{color:ic}},axisLabel:{textStyle:{color:ic}},splitLine:{lineStyle:{type:"dashed",color:"#aaa"}},splitArea:{areaStyle:{color:ic}}}},ce=["#dd6b66","#759aa0","#e69d87","#8dc1a9","#ea7e53","#eedd78","#73a373","#73b9bc","#7289ab","#91ca8c","#f49f42"],_e={color:ce,backgroundColor:"#333",tooltip:{axisPointer:{lineStyle:{color:ic},crossStyle:{color:ic},label:{color:"#000"}}},legend:{textStyle:{color:ic}},textStyle:{color:ic},title:{textStyle:{color:ic}},toolbox:{iconStyle:{normal:{borderColor:ic}}},dataZoom:{textStyle:{color:ic}},visualMap:{textStyle:{color:ic}},timeline:{lineStyle:{color:ic},itemStyle:{normal:{color:ce[1]}},label:{normal:{textStyle:{color:ic}}},controlStyle:{normal:{color:ic,borderColor:ic}}},timeAxis:n(),logAxis:n(),valueAxis:n(),categoryAxis:n(),line:{symbol:"circle"},graph:{color:ce},gauge:{title:{textStyle:{color:ic}}},candlestick:{itemStyle:{normal:{color:"#FD1050",color0:"#0CF49B",borderColor:"#FD1050",borderColor0:"#0CF49B"}}}};_e.categoryAxis.splitLine.show=!1,Wl.extend({type:"dataset",defaultOption:{seriesLayoutBy:Jl,sourceHeader:null,dimensions:null,source:null},optionUpdated:function(){!function(t){var e=t.option.source,i=$l;if(B(e))i=Ql;else if(O(e)){0===e.length&&(i=ql);for(var n=0,o=e.length;n<o;n++){var a=e[n];if(null!=a){if(O(a)){i=ql;break}if(E(a)){i=jl;break}}}}else if(E(e)){for(var r in e)if(e.hasOwnProperty(r)&&P(e[r])){i=Kl;break}}else if(null!=e)throw new Error("Invalid data");nh(t).sourceFormat=i}(this)}}),_u.extend({type:"dataset"});nr.extend({type:"ellipse",shape:{cx:0,cy:0,rx:0,ry:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=e.rx,a=e.ry,r=.5522848*o,e=.5522848*a;t.moveTo(i-o,n),t.bezierCurveTo(i-o,n-e,i-r,n-a,i,n-a),t.bezierCurveTo(i+r,n-a,i+o,n-e,i+o,n),t.bezierCurveTo(i+o,n+e,i+r,n+a,i,n+a),t.bezierCurveTo(i-r,n+a,i-o,n+e,i-o,n),t.closePath()}});function nc(t){for(R(t)&&(t=(new DOMParser).parseFromString(t,"text/xml")),9===t.nodeType&&(t=t.firstChild);"svg"!==t.nodeName.toLowerCase()||1!==t.nodeType;)t=t.nextSibling;return t}var oc=Q(),ac=function(t,e,i){i=O(e)?e:e.svg?[{type:"svg",source:e.svg,specialAreas:e.specialAreas}]:(e.geoJson&&!e.features&&(i=e.specialAreas,e=e.geoJson),[{type:"geoJSON",source:e,specialAreas:i}]);return L(i,function(t){var e=t.type;"geoJson"===e&&(e=t.type="geoJSON"),(0,sc[e])(t)}),oc.set(t,i)},rc=function(t){return oc.get(t)},sc={geoJSON:function(t){var e=t.source;t.geoJSON=R(e)?"undefined"!=typeof JSON&&JSON.parse?JSON.parse(e):new Function("return ("+e+");")():e},svg:function(t){t.svgXML=nc(t.source)}},lc=U,hc=L,uc=z,cc=E,dc=Wl.parseClassType,Nn={PROCESSOR:{FILTER:1e3,SERIES_FILTER:800,STATISTIC:5e3},VISUAL:{LAYOUT:1e3,PROGRESSIVE_LAYOUT:1100,GLOBAL:2e3,CHART:3e3,POST_CHART_LAYOUT:3500,COMPONENT:4e3,BRUSH:5e3}},fc="__flagInMainProcess",pc="__optionUpdated",gc=/^[a-zA-Z0-9_]+$/;function mc(n,o){return function(t,e,i){!o&&this._disposed||(t=t&&t.toLowerCase(),It.prototype[n].call(this,t,e,i))}}function vc(){It.call(this)}function yc(t,e,i){i=i||{},"string"==typeof e&&(e=Hc[e]),this.id,this.group,this._dom=t;i=this._zr=mo(t,{renderer:i.renderer||"canvas",devicePixelRatio:i.devicePixelRatio,width:i.width,height:i.height});this._throttledZrFlush=Ou(T(i.flush,i),17),(e=A(e))&&Vh(e,!0),this._theme=e,this._chartsViews=[],this._chartsMap={},this._componentsViews=[],this._componentsMap={},this._coordSysMgr=new yh;var n,o,a,e=this._api=(e=(n=this)._coordSysMgr,C(new mh(n),{getCoordinateSystems:T(e.getCoordinateSystems,e),getComponentByElement:function(t){for(;t;){var e=t.__ecComponentInfo;if(null!=e)return n._model.getComponent(e.mainType,e.index);t=t.parent}}}));function r(t,e){return t.__prio-e.__prio}Ti(Fc,r),Ti(Nc,r),this._scheduler=new Vu(this,e,Nc,Fc),It.call(this,this._ecEventProcessor=new zc),this._messageCenter=new vc,this._initEvents(),this.resize=T(this.resize,this),this._pendingActions=[],i.animation.on("frame",this._onframe,this),a=this,(o=i).on("rendered",function(){a.trigger("rendered"),!o.animation.isFinished()||a[pc]||a._scheduler.unfinished||a._pendingActions.length||a.trigger("finished")}),j(this)}vc.prototype.on=mc("on",!0),vc.prototype.off=mc("off",!0),vc.prototype.one=mc("one",!0),b(vc,It);Zn=yc.prototype;function xc(t,e,i){if(!this._disposed){var n,o=this._model,a=this._coordSysMgr.getCoordinateSystems();e=Oo(o,e);for(var r=0;r<a.length;r++){var s=a[r];if(s[t]&&null!=(n=s[t](o,e,i)))return n}}}Zn._onframe=function(){if(!this._disposed){var t=this._scheduler;if(this[pc]){var e=this[pc].silent;this[fc]=!0,wc(this),_c.update.call(this),this[fc]=!1,this[pc]=!1,Ic.call(this,e),Tc.call(this,e)}else if(t.unfinished){var i=1,n=this._model,o=this._api;t.unfinished=!1;do{var a=+new Date}while(t.performSeriesTasks(n),t.performDataProcessorTasks(n),Sc(this,n),t.performVisualTasks(n),kc(this,this._model,0,"remain"),0<(i-=+new Date-a)&&t.unfinished);t.unfinished||this._zr.flush()}}},Zn.getDom=function(){return this._dom},Zn.getZr=function(){return this._zr},Zn.setOption=function(t,e,i){var n,o,a;this._disposed||(cc(e)&&(i=e.lazyUpdate,n=e.silent,e=e.notMerge),this[fc]=!0,this._model&&!e||(o=new Mh(this._api),a=this._theme,(e=this._model=new dh).scheduler=this._scheduler,e.init(null,null,a,o)),this._model.setOption(t,Bc),i?(this[pc]={silent:n},this[fc]=!1):(wc(this),_c.update.call(this),this._zr.flush(),this[pc]=!1,this[fc]=!1,Ic.call(this,n),Tc.call(this,n)))},Zn.setTheme=function(){console.error("ECharts#setTheme() is DEPRECATED in ECharts 3.0")},Zn.getModel=function(){return this._model},Zn.getOption=function(){return this._model&&this._model.getOption()},Zn.getWidth=function(){return this._zr.getWidth()},Zn.getHeight=function(){return this._zr.getHeight()},Zn.getDevicePixelRatio=function(){return this._zr.painter.dpr||window.devicePixelRatio||1},Zn.getRenderedCanvas=function(t){if(v.canvasSupported)return(t=t||{}).pixelRatio=t.pixelRatio||1,t.backgroundColor=t.backgroundColor||this._model.get("backgroundColor"),this._zr.painter.getRenderedCanvas(t)},Zn.getSvgDataURL=function(){if(v.svgSupported){var t=this._zr;return L(t.storage.getDisplayList(),function(t){t.stopAnimation(!0)}),t.painter.toDataURL()}},Zn.getDataURL=function(t){if(!this._disposed){var e=(t=t||{}).excludeComponents,i=this._model,n=[],o=this;hc(e,function(t){i.eachComponent({mainType:t},function(t){t=o._componentsMap[t.__viewId];t.group.ignore||(n.push(t),t.group.ignore=!0)})});t="svg"===this._zr.painter.getType()?this.getSvgDataURL():this.getRenderedCanvas(t).toDataURL("image/"+(t&&t.type||"png"));return hc(n,function(t){t.group.ignore=!1}),t}},Zn.getConnectedDataURL=function(n){if(!this._disposed&&v.canvasSupported){var o="svg"===n.type,a=this.group,r=Math.min,s=Math.max;if(Zc[a]){var l=1/0,h=1/0,u=-1/0,c=-1/0,d=[],e=n&&n.pixelRatio||1;L(Gc,function(t,e){var i;t.group===a&&(i=o?t.getZr().painter.getSvgDom().innerHTML:t.getRenderedCanvas(A(n)),t=t.getDom().getBoundingClientRect(),l=r(t.left,l),h=r(t.top,h),u=s(t.right,u),c=s(t.bottom,c),d.push({dom:i,left:t.left,top:t.top}))});var t=(u*=e)-(l*=e),i=(c*=e)-(h*=e),f=m(),p=mo(f,{renderer:o?"svg":"canvas"});if(p.resize({width:t,height:i}),o){var g="";return hc(d,function(t){var e=t.left-l,i=t.top-h;g+='<g transform="translate('+e+","+i+')">'+t.dom+"</g>"}),p.painter.getSvgRoot().innerHTML=g,n.connectedBackgroundColor&&p.painter.setBackgroundColor(n.connectedBackgroundColor),p.refreshImmediately(),p.painter.toDataURL()}return n.connectedBackgroundColor&&p.add(new Rr({shape:{x:0,y:0,width:t,height:i},style:{fill:n.connectedBackgroundColor}})),hc(d,function(t){t=new Vn({style:{x:t.left*e-l,y:t.top*e-h,image:t.dom}});p.add(t)}),p.refreshImmediately(),f.toDataURL("image/"+(n&&n.type||"png"))}return this.getDataURL(n)}},Zn.convertToPixel=k(xc,"convertToPixel"),Zn.convertFromPixel=k(xc,"convertFromPixel"),Zn.containPixel=function(t,n){var o;if(!this._disposed)return L(t=Oo(this._model,t),function(t,i){0<=i.indexOf("Models")&&L(t,function(t){var e=t.coordinateSystem;e&&e.containPoint?o|=!!e.containPoint(n):"seriesModels"!==i||(e=this._chartsMap[t.__viewId])&&e.containPoint&&(o|=e.containPoint(n,t))},this)},this),!!o},Zn.getVisual=function(t,e){var i=(t=Oo(this._model,t,{defaultMainType:"series"})).seriesModel.getData(),t=t.hasOwnProperty("dataIndexInside")?t.dataIndexInside:t.hasOwnProperty("dataIndex")?i.indexOfRawIndex(t.dataIndex):null;return null!=t?i.getItemVisual(t,e):i.getVisual(e)},Zn.getViewOfComponentModel=function(t){return this._componentsMap[t.__viewId]},Zn.getViewOfSeriesModel=function(t){return this._chartsMap[t.__viewId]};var _c={prepareAndUpdate:function(t){wc(this),_c.update.call(this,t)},update:function(t){var e=this._model,i=this._api,n=this._zr,o=this._coordSysMgr,a=this._scheduler;e&&(a.restoreData(e,t),a.performSeriesTasks(e),o.create(e,i),a.performDataProcessorTasks(e,t),Sc(this,e),o.update(e,i),Cc(e),a.performVisualTasks(e,t),Dc(this,e,i,t),t=e.get("backgroundColor")||"transparent",v.canvasSupported?n.setBackgroundColor(t):(t=We(n=ze(t),"rgb"),0===n[3]&&(t="transparent")),Lc(e,i))},updateTransform:function(n){var o,i,a=this._model,r=this,s=this._api;a&&(o=[],a.eachComponent(function(t,e){var i=r.getViewOfComponentModel(e);i&&i.__alive&&(!i.updateTransform||(e=i.updateTransform(e,a,s,n))&&e.update)&&o.push(i)}),i=Q(),a.eachSeries(function(t){var e=r._chartsMap[t.__viewId];(!e.updateTransform||(e=e.updateTransform(t,a,s,n))&&e.update)&&i.set(t.uid,1)}),Cc(a),this._scheduler.performVisualTasks(a,n,{setDirty:!0,dirtyMap:i}),kc(r,a,0,n,i),Lc(a,this._api))},updateView:function(t){var e=this._model;e&&(Mu.markUpdateMethod(t,"updateView"),Cc(e),this._scheduler.performVisualTasks(e,t,{setDirty:!0}),Dc(this,this._model,this._api,t),Lc(e,this._api))},updateVisual:function(t){_c.update.call(this,t)},updateLayout:function(t){_c.update.call(this,t)}};function wc(t){var e=t._model,i=t._scheduler;i.restorePipelines(e),i.prepareStageTasks(),Ac(t,"component",e,i),Ac(t,"chart",e,i),i.plan()}function bc(e,i,n,o,t){var a,r,s=e._model;function l(t){t&&t.__alive&&t[i]&&t[i](t.__model,s,e._api,n)}o?((a={})[o+"Id"]=n[o+"Id"],a[o+"Index"]=n[o+"Index"],a[o+"Name"]=n[o+"Name"],a={mainType:o,query:a},t&&(a.subType=t),null!=(r=n.excludeSeriesId)&&(r=Q(So(r))),s&&s.eachComponent(a,function(t){r&&null!=r.get(t.id)||l(e["series"===o?"_chartsMap":"_componentsMap"][t.__viewId])},e)):hc(e._componentsViews.concat(e._chartsViews),l)}function Sc(t,e){var i=t._chartsMap,n=t._scheduler;e.eachSeries(function(t){n.updateStreamModes(t,i[t.__viewId])})}function Mc(e,t){var i=e.type,n=e.escapeConnect,o=Rc[i],a=o.actionInfo,r=(s=(a.update||"update").split(":")).pop(),s=null!=s[0]&&dc(s[0]);this[fc]=!0;var l=[e],h=!1;e.batch&&(h=!0,l=S(e.batch,function(t){return(t=D(C({},t),e)).batch=null,t}));var u,c=[],d="highlight"===i||"downplay"===i;hc(l,function(t){(u=(u=o.action(t,this._model,this._api))||C({},t)).type=a.event||u.type,c.push(u),d?bc(this,r,t,"series"):s&&bc(this,r,t,s.main,s.sub)},this),"none"===r||d||s||(this[pc]?(wc(this),_c.update.call(this,e),this[pc]=!1):_c[r].call(this,e)),u=h?{type:a.event||i,escapeConnect:n,batch:c}:c[0],this[fc]=!1,t||this._messageCenter.trigger(u.type,u)}function Ic(t){for(var e=this._pendingActions;e.length;){var i=e.shift();Mc.call(this,i,t)}}function Tc(t){t||this.trigger("updated")}function Ac(t,e,o,a){for(var r="component"===e,s=r?t._componentsViews:t._chartsViews,l=r?t._componentsMap:t._chartsMap,h=t._zr,u=t._api,i=0;i<s.length;i++)s[i].__alive=!1;function n(t){var e,i="_ec_"+t.id+"_"+t.type,n=l[i];n||(e=dc(t.type),(n=new(r?_u.getClass(e.main,e.sub):Mu.getClass(e.sub))).init(o,u),l[i]=n,s.push(n),h.add(n.group)),t.__viewId=n.__id=i,n.__alive=!0,n.__model=t,n.group.__ecComponentInfo={mainType:t.mainType,index:t.componentIndex},r||a.prepareView(n,t,o,u)}r?o.eachComponent(function(t,e){"series"!==t&&n(e)}):o.eachSeries(n);for(i=0;i<s.length;){var c=s[i];c.__alive?i++:(r||c.renderTask.dispose(),h.remove(c.group),c.dispose(o,u),s.splice(i,1),delete l[c.__id],c.__id=c.group.__ecComponentInfo=null)}}function Cc(t){t.clearColorPalette(),t.eachSeries(function(t){t.clearColorPalette()})}function Dc(t,e,i,n){var o,a,r,s,l;o=t,a=e,r=i,s=n,hc(l||o._componentsViews,function(t){var e=t.__model;t.render(e,a,r,s),Oc(e,t)}),hc(t._chartsViews,function(t){t.__alive=!1}),kc(t,e,0,n),hc(t._chartsViews,function(t){t.__alive||t.remove(e,i)})}function kc(o,t,e,a,r){var s,i,n,l,h,u=o._scheduler;t.eachSeries(function(t){var e=o._chartsMap[t.__viewId];e.__alive=!0;var i,n=e.renderTask;u.updatePayload(n,a),r&&r.get(t.uid)&&n.dirty(),s|=n.perform(u.getPerformArgs(n)),e.group.silent=!!t.get("silent"),Oc(t,e),e=e,i=t.get("blendMode")||null,e.group.traverse(function(t){t.isGroup||t.style.blend!==i&&t.setStyle("blend",i),t.eachPendingDisplayable&&t.eachPendingDisplayable(function(t){t.setStyle("blend",i)})})}),u.unfinished|=s,n=t,l=(i=o)._zr.storage,h=0,l.traverse(function(t){h++}),h>n.get("hoverLayerThreshold")&&!v.node&&n.eachSeries(function(t){t.preventUsingHoverLayer||(t=i._chartsMap[t.__viewId]).__alive&&t.group.traverse(function(t){t.useHoverLayer=!0})}),Nu(o._zr.dom,t)}function Lc(e,i){hc(Vc,function(t){t(e,i)})}Zn.resize=function(t){var e;this._disposed||(this._zr.resize(t),e=this._model,this._loadingFX&&this._loadingFX.resize(),e&&(e=e.resetOption("media"),t=t&&t.silent,this[fc]=!0,e&&wc(this),_c.update.call(this),this[fc]=!1,Ic.call(this,t),Tc.call(this,t)))},Zn.showLoading=function(t,e){this._disposed||(cc(t)&&(e=t,t=""),t=t||"default",this.hideLoading(),Wc[t]&&(t=Wc[t](this._api,e),e=this._zr,this._loadingFX=t,e.add(t)))},Zn.hideLoading=function(){this._disposed||(this._loadingFX&&this._zr.remove(this._loadingFX),this._loadingFX=null)},Zn.makeActionFromEvent=function(t){var e=C({},t);return e.type=Ec[t.type],e},Zn.dispatchAction=function(t,e){this._disposed||(cc(e)||(e={silent:!!e}),Rc[t.type]&&this._model&&(this[fc]?this._pendingActions.push(t):(Mc.call(this,t,e.silent),e.flush?this._zr.flush(!0):!1!==e.flush&&v.browser.weChat&&this._throttledZrFlush(),Ic.call(this,e.silent),Tc.call(this,e.silent))))},Zn.appendData=function(t){var e;this._disposed||(e=t.seriesIndex,this.getModel().getSeriesByIndex(e).appendData(t),this._scheduler.unfinished=!0)},Zn.on=mc("on",!1),Zn.off=mc("off",!1),Zn.one=mc("one",!1);var Pc=["click","dblclick","mouseover","mouseout","mousemove","mousedown","mouseup","globalout","contextmenu"];function Oc(t,e){var i=t.get("z"),n=t.get("zlevel");e.group.traverse(function(t){"group"!==t.type&&(null!=i&&(t.z=i),null!=n&&(t.zlevel=n))})}function zc(){this.eventInfo}Zn._initEvents=function(){hc(Pc,function(r){function t(t){var e,i,n,o=this.getModel(),a=t.target;"globalout"===r?e={}:a&&null!=a.dataIndex?e=(n=a.dataModel||o.getSeriesByIndex(a.seriesIndex))&&n.getDataParams(a.dataIndex,a.dataType,a)||{}:a&&a.eventData&&(e=C({},a.eventData)),e&&(i=e.componentType,n=e.componentIndex,"markLine"!==i&&"markPoint"!==i&&"markArea"!==i||(i="series",n=e.seriesIndex),n=(i=i&&null!=n&&o.getComponent(i,n))&&this["series"===i.mainType?"_chartsMap":"_componentsMap"][i.__viewId],e.event=t,e.type=r,this._ecEventProcessor.eventInfo={targetEl:a,packedEvent:e,model:i,view:n},this.trigger(r,e))}t.zrEventfulCallAtLast=!0,this._zr.on(r,t,this)},this),hc(Ec,function(t,e){this._messageCenter.on(e,function(t){this.trigger(e,t)},this)},this)},Zn.isDisposed=function(){return this._disposed},Zn.clear=function(){this._disposed||this.setOption({series:[]},!0)},Zn.dispose=function(){var e,i;this._disposed||(this._disposed=!0,Ro(this.getDom(),Yc,""),e=this._api,i=this._model,hc(this._componentsViews,function(t){t.dispose(i,e)}),hc(this._chartsViews,function(t){t.dispose(i,e)}),this._zr.dispose(),delete Gc[this.id])},b(yc,It),zc.prototype={constructor:zc,normalizeQuery:function(t){var e,r,s,l={},h={},u={};return R(t)?(e=dc(t),l.mainType=e.main||null,l.subType=e.sub||null):(r=["Index","Name","Id"],s={name:1,dataIndex:1,dataType:1},L(t,function(t,e){for(var i=!1,n=0;n<r.length;n++){var o=r[n],a=e.lastIndexOf(o);0<a&&a===e.length-o.length&&("data"!==(a=e.slice(0,a))&&(l.mainType=a,l[o.toLowerCase()]=t,i=!0))}s.hasOwnProperty(e)&&(h[e]=t,i=!0),i||(u[e]=t)})),{cptQuery:l,dataQuery:h,otherQuery:u}},filter:function(t,e,i){var n=this.eventInfo;if(!n)return!0;var o=n.targetEl,a=n.packedEvent,r=n.model,s=n.view;if(!r||!s)return!0;var l=e.cptQuery,n=e.dataQuery;return h(l,r,"mainType")&&h(l,r,"subType")&&h(l,r,"index","componentIndex")&&h(l,r,"name")&&h(l,r,"id")&&h(n,a,"name")&&h(n,a,"dataIndex")&&h(n,a,"dataType")&&(!s.filterForExposedEvent||s.filterForExposedEvent(t,e.otherQuery,o,a));function h(t,e,i,n){return null==t[i]||e[n||i]===t[i]}},afterTrigger:function(){this.eventInfo=null}};var Rc={},Ec={},Nc=[],Bc=[],Vc=[],Fc=[],Hc={},Wc={},Gc={},Zc={},Xc=+new Date,Uc=+new Date,Yc="_echarts_instance_";function qc(t){Zc[t]=!1}n=qc;function jc(t){return Gc[e=Yc,(t=t).getAttribute?t.getAttribute(e):t[e]];var e}function Kc(t,e){Hc[t]=e}function $c(t){Bc.push(t)}function Qc(t,e){id(Nc,t,e,1e3)}function Jc(t,e,i){"function"==typeof e&&(i=e,e="");var n=cc(t)?t.type:[t,t={event:e}][0];t.event=(t.event||n).toLowerCase(),e=t.event,lc(gc.test(n)&&gc.test(e)),Rc[n]||(Rc[n]={action:i,actionInfo:t}),Ec[e]=n}function td(t,e){id(Fc,t,e,1e3,"layout")}function ed(t,e){id(Fc,t,e,3e3,"visual")}function id(t,e,i,n,o){(uc(e)||cc(e))&&(i=e,e=n);o=Vu.wrapStageHandler(i,o);return o.__prio=e,o.__raw=i,t.push(o),o}function nd(t,e){Wc[t]=e}function od(t){return Wl.extend(t)}function ad(t){return _u.extend(t)}function rd(t){return du.extend(t)}function sd(t){return Mu.extend(t)}ed(2e3,Xs),$c(Vh),Qc(900,function(t){var n=Q();t.eachSeries(function(t){var e,i=t.get("stack");i&&(e=n.get(i)||n.set(i,[]),(t={stackResultDimension:(i=t.getData()).getCalculationInfo("stackResultDimension"),stackedOverDimension:i.getCalculationInfo("stackedOverDimension"),stackedDimension:i.getCalculationInfo("stackedDimension"),stackedByDimension:i.getCalculationInfo("stackedByDimension"),isStackedByIndex:i.getCalculationInfo("isStackedByIndex"),data:i,seriesModel:t}).stackedDimension&&(t.isStackedByIndex||t.stackedByDimension)&&(e.length&&i.setCalculationInfo("stackedOnSeries",e[e.length-1].seriesModel),e.push(t)))}),n.each(Fh)}),nd("default",function(n,o){D(o=o||{},{text:"loading",textColor:"#000",fontSize:"12px",maskColor:"rgba(255, 255, 255, 0.8)",showSpinner:!0,color:"#c23531",spinnerRadius:10,lineWidth:5,zlevel:0});var t=new yi,a=new Rr({style:{fill:o.maskColor},zlevel:o.zlevel,z:1e4});t.add(a);var r,s=o.fontSize+" sans-serif",l=new Rr({style:{fill:"none",text:o.text,font:s,textPosition:"right",textDistance:10,textFill:o.textColor},zlevel:o.zlevel,z:10001});return t.add(l),o.showSpinner&&((r=new Hr({shape:{startAngle:-Bu/2,endAngle:-Bu/2+.1,r:o.spinnerRadius},style:{stroke:o.color,lineCap:"round",lineWidth:o.lineWidth},zlevel:o.zlevel,z:10001})).animateShape(!0).when(1e3,{endAngle:3*Bu/2}).start("circularInOut"),r.animateShape(!0).when(1e3,{startAngle:3*Bu/2}).delay(300).start("circularInOut"),t.add(r)),t.resize=function(){var t=en(o.text,s),e=o.showSpinner?o.spinnerRadius:0,i=(n.getWidth()-2*e-(o.showSpinner&&t?10:0)-t)/2-(o.showSpinner?0:t/2),t=n.getHeight()/2;o.showSpinner&&r.setShape({cx:i,cy:t}),l.setShape({x:i-e,y:t-e,width:2*e,height:2*e}),a.setShape({x:0,y:0,width:n.getWidth(),height:n.getHeight()})},t.resize(),t}),Jc({type:"highlight",event:"highlight",update:"highlight"},tt),Jc({type:"downplay",event:"downplay",update:"downplay"},tt),Kc("light",ii),Kc("dark",_e);function ld(t){return t}function hd(t,e,i,n,o){this._old=t,this._new=e,this._oldKeyGetter=i||ld,this._newKeyGetter=n||ld,this.context=o}function ud(t,e,i,n,o){for(var a=0;a<t.length;a++){var r="_ec_"+o[n](t[a],a),s=e[r];null==s?(i.push(r),e[r]=a):(s.length||(e[r]=s=[s]),s.push(a))}}hd.prototype={constructor:hd,add:function(t){return this._add=t,this},update:function(t){return this._update=t,this},remove:function(t){return this._remove=t,this},execute:function(){var t=this._old,e=this._new,i={},n=[],o=[];for(ud(t,{},n,"_oldKeyGetter",this),ud(e,i,o,"_newKeyGetter",this),a=0;a<t.length;a++)null!=(r=i[s=n[a]])?((h=r.length)?(1===h&&(i[s]=null),r=r.shift()):i[s]=null,this._update&&this._update(r,a)):this._remove&&this._remove(a);for(var a=0;a<o.length;a++){var r,s=o[a];if(i.hasOwnProperty(s))if(null!=(r=i[s]))if(r.length)for(var l=0,h=r.length;l<h;l++)this._add&&this._add(r[l]);else this._add&&this._add(r)}}};var cd=Q(["tooltip","label","itemName","itemId","seriesName"]);function dd(a){var t={},r=t.encode={},s=Q(),l=[],h=[],u=t.userOutput={dimensionNames:a.dimensions.slice(),encode:{}};L(a.dimensions,function(t){var e,i,n=a.getDimensionInfo(t),o=n.coordDim;o&&(e=n.coordDimIndex,fd(r,o)[e]=t,n.isExtraCoord||(s.set(o,1),"ordinal"===(i=n.type)||"time"===i||(l[0]=t),fd(u.encode,o)[e]=n.index),n.defaultTooltip&&h.push(t)),cd.each(function(t,e){var i=fd(r,e),e=n.otherDims[e];null!=e&&!1!==e&&(i[e]=n.name)})});var n=[],o={};s.each(function(t,e){var i=r[e];o[e]=i[0],n=n.concat(i)}),t.dataDimsOnCoord=n,t.encodeFirstDimNotExtra=o;var e=r.label;e&&e.length&&(l=e.slice());e=r.tooltip;return e&&e.length?h=e.slice():h.length||(h=l.slice()),r.defaultedLabel=l,r.defaultedTooltip=h,t}function fd(t,e){return t.hasOwnProperty(e)||(t[e]=[]),t[e]}function pd(t){return"category"===t?"ordinal":"time"===t?"time":"float"}function gd(t){null!=t&&C(this,t),this.otherDims={}}var md=E,ce="undefined",vd={float:typeof Float64Array==ce?Array:Float64Array,int:typeof Int32Array==ce?Array:Int32Array,ordinal:Array,number:Array,time:Array},yd=typeof Uint32Array==ce?Array:Uint32Array,xd=typeof Int32Array==ce?Array:Int32Array,_d=typeof Uint16Array==ce?Array:Uint16Array;function wd(t){return 65535<t._rawCount?yd:_d}var bd=["hasItemOption","_nameList","_idList","_invertedIndicesMap","_rawData","_chunkSize","_chunkCount","_dimValueGetter","_count","_rawCount","_nameDimIdx","_idDimIdx"],Sd=["_extent","_approximateExtent","_rawExtent"];function Md(e,i){L(bd.concat(i.__wrappedMethods||[]),function(t){i.hasOwnProperty(t)&&(e[t]=i[t])}),e.__wrappedMethods=i.__wrappedMethods,L(Sd,function(t){e[t]=A(i[t])}),e._calculationInfo=C(i._calculationInfo)}var Id=function(t,e){t=t||["x","y"];for(var i={},n=[],o={},a=0;a<t.length;a++){var r=t[a];R(r)?r=new gd({name:r}):r instanceof gd||(r=new gd(r));var s=r.name;r.type=r.type||"float",r.coordDim||(r.coordDim=s,r.coordDimIndex=0),r.otherDims=r.otherDims||{},n.push(s),(i[s]=r).index=a,r.createInvertedIndices&&(o[s]=[])}this.dimensions=n,this._dimensionInfos=i,this.hostModel=e,this.dataType,this._indices=null,this._count=0,this._rawCount=0,this._storage={},this._nameList=[],this._idList=[],this._optionModels=[],this._visual={},this._layout={},this._itemVisuals=[],this.hasItemVisual={},this._itemLayouts=[],this._graphicEls=[],this._chunkSize=1e5,this._chunkCount=0,this._rawData,this._rawExtent={},this._extent={},this._approximateExtent={},this._dimensionsSummary=dd(this),this._invertedIndicesMap=o,this._calculationInfo={},this.userOutput=this._dimensionsSummary.userOutput},Zn=Id.prototype;function Td(t,e,i,n,o){var a=vd[e.type],r=n-1,s=e.name,l=t[s][r];if(l&&l.length<i){for(var h=new a(Math.min(o-r*i,i)),u=0;u<l.length;u++)h[u]=l[u];t[s][r]=h}for(var c=n*i;c<o;c+=i)t[s].push(new a(Math.min(o-c,i)))}function Ad(o){var a=o._invertedIndicesMap;L(a,function(t,e){var i=o._dimensionInfos[e].ordinalMeta;if(i){t=a[e]=new xd(i.categories.length);for(var n=0;n<t.length;n++)t[n]=-1;for(n=0;n<o._count;n++)t[o.get(e,n)]=n}})}function Cd(t,e,i){var n,o,a;return null!=e&&(o=t._chunkSize,a=Math.floor(i/o),o=i%o,e=t.dimensions[e],(a=t._storage[e][a])&&(n=a[o],(e=t._dimensionInfos[e].ordinalMeta)&&e.categories.length&&(n=e.categories[n]))),n}function Dd(t){return t}function kd(t){return t<this._count&&0<=t?this._indices[t]:-1}function Ld(t,e){var i=t._idList[e];return null==i&&(i=Cd(t,t._idDimIdx,e)),null==i&&(i="e\0\0"+e),i}function Pd(t){return O(t)||(t=[t]),t}function Od(t,e){var i=t.dimensions,n=new Id(S(i,t.getDimensionInfo,t),t.hostModel);Md(n,t);for(var o=n._storage={},a=t._storage,r=0;r<i.length;r++){var s=i[r];a[s]&&(0<=_(e,s)?(o[s]=function(t){for(var e=new Array(t.length),i=0;i<t.length;i++)e[i]=function(t){var e=t.constructor;return e===Array?t.slice():new e(t)}(t[i]);return e}(a[s]),n._rawExtent[s]=zd(),n._extent[s]=null):o[s]=a[s])}return n}function zd(){return[1/0,-1/0]}Zn.type="list",Zn.hasItemOption=!0,Zn.getDimension=function(t){return"number"!=typeof t&&(isNaN(t)||this._dimensionInfos.hasOwnProperty(t))||(t=this.dimensions[t]),t},Zn.getDimensionInfo=function(t){return this._dimensionInfos[this.getDimension(t)]},Zn.getDimensionsOnCoord=function(){return this._dimensionsSummary.dataDimsOnCoord.slice()},Zn.mapDimension=function(t,e){var i=this._dimensionsSummary;if(null==e)return i.encodeFirstDimNotExtra[t];t=i.encode[t];return!0===e?(t||[]).slice():t&&t[e]},Zn.initData=function(t,e,i){(eh.isInstance(t)||P(t))&&(t=new Hh(t,this.dimensions.length)),this._rawData=t,this._storage={},this._indices=null,this._nameList=e||[],this._idList=[],this._nameRepeatCount={},i||(this.hasItemOption=!1),this.defaultDimValueGetter=qh[this._rawData.getSource().sourceFormat],this._dimValueGetter=i=i||this.defaultDimValueGetter,this._dimValueGetterArrayRows=qh.arrayRows,this._rawExtent={},this._initDataFromProvider(0,t.count()),t.pure&&(this.hasItemOption=!1)},Zn.getProvider=function(){return this._rawData},Zn.appendData=function(t){var e=this._rawData,i=this.count();e.appendData(t);t=e.count();e.persistent||(t+=i),this._initDataFromProvider(i,t)},Zn.appendValues=function(t,e){for(var i=this._chunkSize,n=this._storage,o=this.dimensions,a=o.length,r=this._rawExtent,s=this.count(),l=s+Math.max(t.length,e?e.length:0),h=this._chunkCount,u=0;u<a;u++)r[v=o[u]]||(r[v]=zd()),n[v]||(n[v]=[]),Td(n,this._dimensionInfos[v],i,h,l),this._chunkCount=n[v].length;for(var c=new Array(a),d=s;d<l;d++){for(var f=d-s,p=Math.floor(d/i),g=d%i,m=0;m<a;m++){var v=o[m],y=this._dimValueGetterArrayRows(t[f]||c,v,f,m);n[v][p][g]=y;var x=r[v];y<x[0]&&(x[0]=y),y>x[1]&&(x[1]=y)}e&&(this._nameList[d]=e[f])}this._rawCount=this._count=l,this._extent={},Ad(this)},Zn._initDataFromProvider=function(t,e){if(!(e<=t)){for(var i,n=this._chunkSize,o=this._rawData,a=this._storage,r=this.dimensions,s=r.length,l=this._dimensionInfos,h=this._nameList,u=this._idList,c=this._rawExtent,d=this._nameRepeatCount={},f=this._chunkCount,p=0;p<s;p++){c[I=r[p]]||(c[I]=zd());var g=l[I];0===g.otherDims.itemName&&(i=this._nameDimIdx=p),0===g.otherDims.itemId&&(this._idDimIdx=p),a[I]||(a[I]=[]),Td(a,g,n,f,e),this._chunkCount=a[I].length}for(var m=new Array(s),v=t;v<e;v++){m=o.getItem(v,m);for(var y,x,_,w,b=Math.floor(v/n),S=v%n,M=0;M<s;M++){var I,T=a[I=r[M]][b],A=this._dimValueGetter(m,I,v,M);T[S]=A;T=c[I];A<T[0]&&(T[0]=A),A>T[1]&&(T[1]=A)}o.pure||(y=h[v],m&&null==y&&(null!=m.name?h[v]=y=m.name:null==i||(_=a[x=r[i]][b])&&(y=_[S],(w=l[x].ordinalMeta)&&w.categories.length&&(y=w.categories[y]))),null==(w=null==m?null:m.id)&&null!=y&&(d[y]=d[y]||0,0<d[w=y]&&(w+="__ec__"+d[y]),d[y]++),null!=w&&(u[v]=w))}!o.persistent&&o.clean&&o.clean(),this._rawCount=this._count=e,this._extent={},Ad(this)}},Zn.count=function(){return this._count},Zn.getIndices=function(){var t=this._indices;if(t){var e=t.constructor,i=this._count;if(e===Array){o=new e(i);for(var n=0;n<i;n++)o[n]=t[n]}else o=new e(t.buffer,0,i)}else for(var o=new(e=wd(this))(this.count()),n=0;n<o.length;n++)o[n]=n;return o},Zn.get=function(t,e){if(!(0<=e&&e<this._count))return NaN;var i=this._storage;if(!i[t])return NaN;e=this.getRawIndex(e);var n=Math.floor(e/this._chunkSize),e=e%this._chunkSize;return i[t][n][e]},Zn.getByRawIndex=function(t,e){if(!(0<=e&&e<this._rawCount))return NaN;var i=this._storage[t];if(!i)return NaN;t=Math.floor(e/this._chunkSize),e%=this._chunkSize;return i[t][e]},Zn._getFast=function(t,e){var i=Math.floor(e/this._chunkSize),e=e%this._chunkSize;return this._storage[t][i][e]},Zn.getValues=function(t,e){var i=[];O(t)||(e=t,t=this.dimensions);for(var n=0,o=t.length;n<o;n++)i.push(this.get(t[n],e));return i},Zn.hasValue=function(t){for(var e=this._dimensionsSummary.dataDimsOnCoord,i=0,n=e.length;i<n;i++)if(isNaN(this.get(e[i],t)))return!1;return!0},Zn.getDataExtent=function(t){t=this.getDimension(t);var e=this._storage[t],i=zd();if(!e)return i;var n=this.count();if(!this._indices)return this._rawExtent[t].slice();if(e=this._extent[t])return e.slice();for(var o=(e=i)[0],a=e[1],r=0;r<n;r++){var s=this._getFast(t,this.getRawIndex(r));s<o&&(o=s),a<s&&(a=s)}return e=[o,a],this._extent[t]=e},Zn.getApproximateExtent=function(t){return t=this.getDimension(t),this._approximateExtent[t]||this.getDataExtent(t)},Zn.setApproximateExtent=function(t,e){e=this.getDimension(e),this._approximateExtent[e]=t.slice()},Zn.getCalculationInfo=function(t){return this._calculationInfo[t]},Zn.setCalculationInfo=function(t,e){md(t)?C(this._calculationInfo,t):this._calculationInfo[t]=e},Zn.getSum=function(t){var e=0;if(this._storage[t])for(var i=0,n=this.count();i<n;i++){var o=this.get(t,i);isNaN(o)||(e+=o)}return e},Zn.getMedian=function(t){var i=[];this.each(t,function(t,e){isNaN(t)||i.push(t)});var e=[].concat(i).sort(function(t,e){return t-e}),t=this.count();return 0===t?0:t%2==1?e[(t-1)/2]:(e[t/2]+e[t/2-1])/2},Zn.rawIndexOf=function(t,e){e=(t&&this._invertedIndicesMap[t])[e];return null==e||isNaN(e)?-1:e},Zn.indexOfName=function(t){for(var e=0,i=this.count();e<i;e++)if(this.getName(e)===t)return e;return-1},Zn.indexOfRawIndex=function(t){if(t>=this._rawCount||t<0)return-1;if(!this._indices)return t;var e=this._indices,i=e[t];if(null!=i&&i<this._count&&i===t)return t;for(var n=0,o=this._count-1;n<=o;){var a=(n+o)/2|0;if(e[a]<t)n=1+a;else{if(!(e[a]>t))return a;o=a-1}}return-1},Zn.indicesOfNearest=function(t,e,i){var n=[];if(!this._storage[t])return n;null==i&&(i=1/0);for(var o=1/0,a=-1,r=0,s=0,l=this.count();s<l;s++){var h=e-this.get(t,s),u=Math.abs(h);u<=i&&((u<o||u===o&&0<=h&&a<0)&&(o=u,a=h,r=0),h===a&&(n[r++]=s))}return n.length=r,n},Zn.getRawIndex=Dd,Zn.getRawDataItem=function(t){if(this._rawData.persistent)return this._rawData.getItem(this.getRawIndex(t));for(var e=[],i=0;i<this.dimensions.length;i++){var n=this.dimensions[i];e.push(this.get(n,t))}return e},Zn.getName=function(t){t=this.getRawIndex(t);return this._nameList[t]||Cd(this,this._nameDimIdx,t)||""},Zn.getId=function(t){return Ld(this,this.getRawIndex(t))},Zn.each=function(t,e,i,n){if(this._count){"function"==typeof t&&(n=i,i=e,e=t,t=[]),i=i||n||this;for(var o=(t=S(Pd(t),this.getDimension,this)).length,a=0;a<this.count();a++)switch(o){case 0:e.call(i,a);break;case 1:e.call(i,this.get(t[0],a),a);break;case 2:e.call(i,this.get(t[0],a),this.get(t[1],a),a);break;default:for(var r=0,s=[];r<o;r++)s[r]=this.get(t[r],a);s[r]=a,e.apply(i,s)}}},Zn.filterSelf=function(t,e,i,n){if(this._count){"function"==typeof t&&(n=i,i=e,e=t,t=[]),i=i||n||this,t=S(Pd(t),this.getDimension,this);for(var o=this.count(),a=new(wd(this))(o),r=[],s=t.length,l=0,h=t[0],u=0;u<o;u++){var c=this.getRawIndex(u);if(0===s)f=e.call(i,u);else if(1===s)var d=this._getFast(h,c),f=e.call(i,d,u);else{for(var p=0;p<s;p++)r[p]=this._getFast(h,c);r[p]=u,f=e.apply(i,r)}f&&(a[l++]=c)}return l<o&&(this._indices=a),this._count=l,this._extent={},this.getRawIndex=this._indices?kd:Dd,this}},Zn.selectRange=function(t){if(this._count){var e,i=[];for(e in t)t.hasOwnProperty(e)&&i.push(e);var n=i.length;if(n){var o=this.count(),a=new(wd(this))(o),r=0,s=i[0],l=t[s][0],h=t[s][1],u=!1;if(!this._indices){var c=0;if(1===n){for(var d=this._storage[i[0]],f=0;f<this._chunkCount;f++)for(var p=d[f],g=Math.min(this._count-f*this._chunkSize,this._chunkSize),m=0;m<g;m++)(l<=(w=p[m])&&w<=h||isNaN(w))&&(a[r++]=c),c++;u=!0}else if(2===n){for(var d=this._storage[s],v=this._storage[i[1]],y=t[i[1]][0],x=t[i[1]][1],f=0;f<this._chunkCount;f++)for(var p=d[f],_=v[f],g=Math.min(this._count-f*this._chunkSize,this._chunkSize),m=0;m<g;m++){var w=p[m],b=_[m];(l<=w&&w<=h||isNaN(w))&&(y<=b&&b<=x||isNaN(b))&&(a[r++]=c),c++}u=!0}}if(!u)if(1===n)for(m=0;m<o;m++){var S=this.getRawIndex(m);(l<=(w=this._getFast(s,S))&&w<=h||isNaN(w))&&(a[r++]=S)}else for(m=0;m<o;m++){for(var M=!0,S=this.getRawIndex(m),f=0;f<n;f++){var I=i[f];((w=this._getFast(e,S))<t[I][0]||w>t[I][1])&&(M=!1)}M&&(a[r++]=this.getRawIndex(m))}return r<o&&(this._indices=a),this._count=r,this._extent={},this.getRawIndex=this._indices?kd:Dd,this}}},Zn.mapArray=function(t,e,i,n){"function"==typeof t&&(n=i,i=e,e=t,t=[]),i=i||n||this;var o=[];return this.each(t,function(){o.push(e&&e.apply(this,arguments))},i),o},Zn.map=function(t,e,i,n){i=i||n||this;n=Od(this,t=S(Pd(t),this.getDimension,this));n._indices=this._indices,n.getRawIndex=n._indices?kd:Dd;for(var o=n._storage,a=[],r=this._chunkSize,s=t.length,l=this.count(),h=[],u=n._rawExtent,c=0;c<l;c++){for(var d=0;d<s;d++)h[d]=this.get(t[d],c);h[s]=c;var f=e&&e.apply(i,h);if(null!=f){"object"!=typeof f&&(a[0]=f,f=a);for(var p=this.getRawIndex(c),g=Math.floor(p/r),m=p%r,v=0;v<f.length;v++){var y=t[v],x=f[v],_=u[y],y=o[y];y&&(y[g][m]=x),x<_[0]&&(_[0]=x),x>_[1]&&(_[1]=x)}}}return n},Zn.downSample=function(t,e,i,n){for(var o=Od(this,[t]),a=o._storage,r=[],s=Math.floor(1/e),l=a[t],h=this.count(),u=this._chunkSize,c=o._rawExtent[t],d=new(wd(this))(h),f=0,p=0;p<h;p+=s){h-p<s&&(s=h-p,r.length=s);for(var g=0;g<s;g++){var m=this.getRawIndex(p+g),v=Math.floor(m/u),m=m%u;r[g]=l[v][m]}var y=i(r),x=this.getRawIndex(Math.min(p+n(r,y)||0,h-1)),_=x%u;(l[Math.floor(x/u)][_]=y)<c[0]&&(c[0]=y),y>c[1]&&(c[1]=y),d[f++]=x}return o._count=f,o._indices=d,o.getRawIndex=kd,o},Zn.getItemModel=function(t){var e=this.hostModel;return new Ys(this.getRawDataItem(t),e,e&&e.ecModel)},Zn.diff=function(e){var i=this;return new hd(e?e.getIndices():[],this.getIndices(),function(t){return Ld(e,t)},function(t){return Ld(i,t)})},Zn.getVisual=function(t){var e=this._visual;return e&&e[t]},Zn.setVisual=function(t,e){if(md(t))for(var i in t)t.hasOwnProperty(i)&&this.setVisual(i,t[i]);else this._visual=this._visual||{},this._visual[t]=e},Zn.setLayout=function(t,e){if(md(t))for(var i in t)t.hasOwnProperty(i)&&this.setLayout(i,t[i]);else this._layout[t]=e},Zn.getLayout=function(t){return this._layout[t]},Zn.getItemLayout=function(t){return this._itemLayouts[t]},Zn.setItemLayout=function(t,e,i){this._itemLayouts[t]=i?C(this._itemLayouts[t]||{},e):e},Zn.clearItemLayouts=function(){this._itemLayouts.length=0},Zn.getItemVisual=function(t,e,i){t=this._itemVisuals[t],t=t&&t[e];return null!=t||i?t:this.getVisual(e)},Zn.setItemVisual=function(t,e,i){var n=this._itemVisuals[t]||{},o=this.hasItemVisual;if(this._itemVisuals[t]=n,md(e))for(var a in e)e.hasOwnProperty(a)&&(n[a]=e[a],o[a]=!0);else n[e]=i,o[e]=!0},Zn.clearAllVisual=function(){this._visual={},this._itemVisuals=[],this.hasItemVisual={}};function Rd(t){t.seriesIndex=this.seriesIndex,t.dataIndex=this.dataIndex,t.dataType=this.dataType}function Ed(t,e,i){eh.isInstance(e)||(e=eh.seriesDataToSource(e)),i=i||{},t=(t||[]).slice();for(var n,o,a,r,s,l=(i.dimsDef||[]).slice(),h=Q(),u=Q(),c=[],d=(n=e,o=t,a=l,r=i.dimCount,s=Math.max(n.dimensionsDetectCount||1,o.length,a.length,r||0),L(o,function(t){t=t.dimsDef;t&&(s=Math.max(s,t.length))}),s),f=0;f<d;f++){var p=l[f]=C({},E(l[f])?l[f]:{name:l[f]}),g=p.name,m=c[f]=new gd;null!=g&&null==h.get(g)&&(m.name=m.displayName=g,h.set(g,f)),null!=p.type&&(m.type=p.type),null!=p.displayName&&(m.displayName=p.displayName)}var v=i.encodeDef;!v&&i.encodeDefaulter&&(v=i.encodeDefaulter(e,d)),(v=Q(v)).each(function(t,i){var n;1===(t=So(t).slice()).length&&!R(t[0])&&t[0]<0?v.set(i,!1):(n=v.set(i,[]),L(t,function(t,e){R(t)&&(t=h.get(t)),null!=t&&t<d&&(n[e]=t,x(c[t],i,e))}))});var y=0;function x(t,e,i){null!=cd.get(e)?t.otherDims[e]=i:(t.coordDim=e,t.coordDimIndex=i,u.set(e,!0))}L(t,function(i,t){var n,o,a,e;R(i)?(n=i,i={}):(n=i.name,e=i.ordinalMeta,i.ordinalMeta=null,(i=A(i)).ordinalMeta=e,o=i.dimsDef,a=i.otherDims,i.name=i.coordDim=i.coordDimIndex=i.dimsDef=i.otherDims=null);var r=v.get(n);if(!1!==r){if(!(r=So(r)).length)for(var s=0;s<(o&&o.length||1);s++){for(;y<c.length&&null!=c[y].coordDim;)y++;y<c.length&&r.push(y++)}L(r,function(t,e){t=c[t];x(D(t,i),n,e),null==t.name&&o&&(E(e=o[e])||(e={name:e}),t.name=t.displayName=e.name,t.defaultTooltip=e.defaultTooltip),a&&D(t.otherDims,a)})}});for(var _,w,b=i.generateCoord,S=null!=(M=i.generateCoordCount),M=b?M||1:0,I=b||"value",T=0;T<d;T++)null==(m=c[T]=c[T]||new gd).coordDim&&(m.coordDim=Nd(I,u,S),m.coordDimIndex=0,(!b||M<=0)&&(m.isExtraCoord=!0),M--),null==m.name&&(m.name=Nd(m.coordDim,h)),null==m.type&&(_=e,w=T,m.name,uh(_.data,_.sourceFormat,_.seriesLayoutBy,_.dimensionsDefine,_.startIndex,w)===ih.Must||m.isExtraCoord&&(null!=m.otherDims.itemName||null!=m.otherDims.seriesName))&&(m.type="ordinal");return c}function Nd(t,e,i){if(i||null!=e.get(t)){for(var n=0;null!=e.get(t+n);)n++;t+=n}return e.set(t,!0),t}Zn.setItemGraphicEl=function(t,e){var i=this.hostModel;e&&(e.dataIndex=t,e.dataType=this.dataType,e.seriesIndex=i&&i.seriesIndex,"group"===e.type&&e.traverse(Rd,e)),this._graphicEls[t]=e},Zn.getItemGraphicEl=function(t){return this._graphicEls[t]},Zn.eachItemGraphicEl=function(i,n){L(this._graphicEls,function(t,e){t&&i&&i.call(n,t,e)})},Zn.cloneShallow=function(t){var e;return t||(e=S(this.dimensions,this.getDimensionInfo,this),t=new Id(e,this.hostModel)),t._storage=this._storage,Md(t,this),this._indices?(e=this._indices.constructor,t._indices=new e(this._indices)):t._indices=null,t.getRawIndex=t._indices?kd:Dd,t},Zn.wrapMethod=function(t,e){var i=this[t];"function"==typeof i&&(this.__wrappedMethods=this.__wrappedMethods||[],this.__wrappedMethods.push(t),this[t]=function(){var t=i.apply(this,arguments);return e.apply(this,[t].concat(Z(arguments)))})},Zn.TRANSFERABLE_METHODS=["cloneShallow","downSample","map"],Zn.CHANGABLE_METHODS=["filterSelf","selectRange"];var Bd=function(t,e){return Ed((e=e||{}).coordDimensions||[],t,{dimsDef:e.dimensionsDefine||t.dimensionsDefine,encodeDef:e.encodeDefine||t.encodeDefine,dimCount:e.dimensionsCount,encodeDefaulter:e.encodeDefaulter,generateCoord:e.generateCoord,generateCoordCount:e.generateCoordCount})};function Vd(t){this.coordSysName=t,this.coordSysDims=[],this.axisMap=Q(),this.categoryAxisMap=Q(),this.firstCategoryDimIndex=null}var Fd={cartesian2d:function(t,e,i,n){var o=t.getReferringComponents("xAxis")[0],t=t.getReferringComponents("yAxis")[0];e.coordSysDims=["x","y"],i.set("x",o),i.set("y",t),Hd(o)&&(n.set("x",o),e.firstCategoryDimIndex=0),Hd(t)&&(n.set("y",t),e.firstCategoryDimIndex,e.firstCategoryDimIndex=1)},singleAxis:function(t,e,i,n){t=t.getReferringComponents("singleAxis")[0];e.coordSysDims=["single"],i.set("single",t),Hd(t)&&(n.set("single",t),e.firstCategoryDimIndex=0)},polar:function(t,e,i,n){var o=t.getReferringComponents("polar")[0],t=o.findAxisModel("radiusAxis"),o=o.findAxisModel("angleAxis");e.coordSysDims=["radius","angle"],i.set("radius",t),i.set("angle",o),Hd(t)&&(n.set("radius",t),e.firstCategoryDimIndex=0),Hd(o)&&(n.set("angle",o),null==e.firstCategoryDimIndex&&(e.firstCategoryDimIndex=1))},geo:function(t,e,i,n){e.coordSysDims=["lng","lat"]},parallel:function(t,n,o,a){var r=t.ecModel,t=r.getComponent("parallel",t.get("parallelIndex")),s=n.coordSysDims=t.dimensions.slice();L(t.parallelAxisIndex,function(t,e){var i=r.getComponent("parallelAxis",t),t=s[e];o.set(t,i),Hd(i)&&null==n.firstCategoryDimIndex&&(a.set(t,i),n.firstCategoryDimIndex=e)})}};function Hd(t){return"category"===t.get("type")}function Wd(t,i,e){var n,o,a,r,s,l,h=(e=e||{}).byIndex,u=e.stackedCoordDimension,c=!(!t||!t.get("stack"));return L(i,function(t,e){R(t)&&(i[e]=t={name:t}),c&&!t.isExtraCoord&&(h||n||!t.ordinalMeta||(n=t),o||"ordinal"===t.type||"time"===t.type||u&&u!==t.coordDim||(o=t))}),!o||h||n||(h=!0),o&&(a="__\0ecstackresult",r="__\0ecstackedover",n&&(n.createInvertedIndices=!0),s=o.coordDim,t=o.type,l=0,L(i,function(t){t.coordDim===s&&l++}),i.push({name:a,coordDim:s,coordDimIndex:l,type:t,isExtraCoord:!0,isCalculationCoord:!0}),l++,i.push({name:r,coordDim:r,coordDimIndex:l,type:t,isExtraCoord:!0,isCalculationCoord:!0})),{stackedDimension:o&&o.name,stackedByDimension:n&&n.name,isStackedByIndex:h,stackedOverDimension:r,stackResultDimension:a}}function Gd(t,e){return!!e&&e===t.getCalculationInfo("stackedDimension")}function Zd(t,e){return Gd(t,e)?t.getCalculationInfo("stackResultDimension"):e}function Xd(t,e,i){i=i||{},eh.isInstance(t)||(t=eh.seriesDataToSource(t));var n=e.get("coordinateSystem"),n=yh.get(n),o=function(t){var e=t.get("coordinateSystem"),i=new Vd(e);if(e=Fd[e])return e(t,i,i.axisMap,i.categoryAxisMap),i}(e);o&&(s=S(o.coordSysDims,function(t){var e={name:t},t=o.axisMap.get(t);return t&&(t=t.get("type"),e.type=pd(t)),e})),s=s||(n&&(n.getDimensionsInfo?n.getDimensionsInfo():n.dimensions.slice())||["x","y"]);var a,r,i=Bd(t,{coordDimensions:s,generateCoord:i.generateCoord,encodeDefaulter:i.useEncodeDefaulter?k(sh,s,e):null});o&&L(i,function(t,e){var i=t.coordDim,i=o.categoryAxisMap.get(i);i&&(null==a&&(a=e),t.ordinalMeta=i.getOrdinalMeta()),null!=t.otherDims.itemName&&(r=!0)}),r||null==a||(i[a].otherDims.itemName=0);var s=Wd(e,i),e=new Id(i,e);e.setCalculationInfo(s);s=null!=a&&function(t){if(t.sourceFormat===Yl){t=function(t){var e=0;for(;e<t.length&&null==t[e];)e++;return t[e]}(t.data||[]);return null!=t&&!O(To(t))}}(t)?function(t,e,i,n){return n===a?i:this.defaultDimValueGetter(t,e,i,n)}:null;return e.hasItemOption=!1,e.initData(t,null,s),e}function Ud(t){this._setting=t||{},this._extent=[1/0,-1/0],this._interval=0,this.init&&this.init.apply(this,arguments)}function Yd(t){this.categories=t.categories||[],this._needCollect=t.needCollect,this._deduplication=t.deduplication,this._map}Ud.prototype.parse=function(t){return t},Ud.prototype.getSetting=function(t){return this._setting[t]},Ud.prototype.contain=function(t){var e=this._extent;return t>=e[0]&&t<=e[1]},Ud.prototype.normalize=function(t){var e=this._extent;return e[1]===e[0]?.5:(t-e[0])/(e[1]-e[0])},Ud.prototype.scale=function(t){var e=this._extent;return t*(e[1]-e[0])+e[0]},Ud.prototype.unionExtent=function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1])},Ud.prototype.unionExtentFromData=function(t,e){this.unionExtent(t.getApproximateExtent(e))},Ud.prototype.getExtent=function(){return this._extent.slice()},Ud.prototype.setExtent=function(t,e){var i=this._extent;isNaN(t)||(i[0]=t),isNaN(e)||(i[1]=e)},Ud.prototype.isBlank=function(){return this._isBlank},Ud.prototype.setBlank=function(t){this._isBlank=t},Ud.prototype.getLabel=null,Fo(Ud),Xo(Ud,{registerWhenExtend:!0}),Yd.createByAxisModel=function(t){var e=t.option,t=e.data,t=t&&S(t,jd);return new Yd({categories:t,needCollect:!t,deduplication:!1!==e.dedplication})};Xs=Yd.prototype;function qd(t){return t._map||(t._map=Q(t.categories))}function jd(t){return E(t)&&null!=t.value?t.value:t+""}Xs.getOrdinal=function(t){return qd(this).get(t)},Xs.parseAndCollect=function(t){var e=this._needCollect;if("string"!=typeof t&&!e)return t;if(e&&!this._deduplication)return i=this.categories.length,this.categories[i]=t,i;var i,n=qd(this);return null==(i=n.get(t))&&(e?(i=this.categories.length,this.categories[i]=t,n.set(t,i)):i=NaN),i};var Kd=Ud.prototype,$d=Ud.extend({type:"ordinal",init:function(t,e){t&&!O(t)||(t=new Yd({categories:t})),this._ordinalMeta=t,this._extent=e||[0,t.categories.length-1]},parse:function(t){return"string"==typeof t?this._ordinalMeta.getOrdinal(t):Math.round(t)},contain:function(t){return t=this.parse(t),Kd.contain.call(this,t)&&null!=this._ordinalMeta.categories[t]},normalize:function(t){return Kd.normalize.call(this,this.parse(t))},scale:function(t){return Math.round(Kd.scale.call(this,t))},getTicks:function(){for(var t=[],e=this._extent,i=e[0];i<=e[1];)t.push(i),i++;return t},getLabel:function(t){if(!this.isBlank())return this._ordinalMeta.categories[t]},count:function(){return this._extent[1]-this._extent[0]+1},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},getOrdinalMeta:function(){return this._ordinalMeta},niceTicks:tt,niceExtent:tt});$d.create=function(){return new $d};var Qd=el;function Jd(t){return ol(t)+2}function tf(t,e,i){t[e]=Math.max(Math.min(t[e],i[1]),i[0])}function ef(t,e){isFinite(t[0])||(t[0]=e[0]),isFinite(t[1])||(t[1]=e[1]),tf(t,0,e),tf(t,1,e),t[0]>t[1]&&(t[0]=t[1])}var nf=el,of=Ud.extend({type:"interval",_interval:0,_intervalPrecision:2,setExtent:function(t,e){var i=this._extent;isNaN(t)||(i[0]=parseFloat(t)),isNaN(e)||(i[1]=parseFloat(e))},unionExtent:function(t){var e=this._extent;t[0]<e[0]&&(e[0]=t[0]),t[1]>e[1]&&(e[1]=t[1]),of.prototype.setExtent.call(this,e[0],e[1])},getInterval:function(){return this._interval},setInterval:function(t){this._interval=t,this._niceExtent=this._extent.slice(),this._intervalPrecision=Jd(t)},getTicks:function(t){var e=this._interval,i=this._extent,n=this._niceExtent,o=this._intervalPrecision,a=[];if(!e)return a;i[0]<n[0]&&(t?a.push(nf(n[0]-e,o)):a.push(i[0]));for(var r=n[0];r<=n[1]&&(a.push(r),(r=nf(r+e,o))!==a[a.length-1]);)if(1e4<a.length)return[];var s=a.length?a[a.length-1]:n[1];return i[1]>s&&(t?a.push(nf(s+e,o)):a.push(i[1])),a},getMinorTicks:function(t){for(var e=this.getTicks(!0),i=[],n=this.getExtent(),o=1;o<e.length;o++){for(var a=e[o],r=e[o-1],s=0,l=[],h=(a-r)/t;s<t-1;){var u=el(r+(s+1)*h);u>n[0]&&u<n[1]&&l.push(u),s++}i.push(l)}return i},getLabel:function(t,e){if(null==t)return"";e=e&&e.precision;return null==e?e=ol(t)||0:"auto"===e&&(e=this._intervalPrecision),gl(t=nf(t,e,!0))},niceTicks:function(t,e,i){t=t||5;var n,o=this._extent,a=o[1]-o[0];isFinite(a)&&(a<0&&(a=-a,o.reverse()),n=t,a=e,t=i,e={},o=(i=o)[1]-i[0],n=e.interval=fl(o/n,!0),null!=a&&n<a&&(n=e.interval=a),null!=t&&t<n&&(n=e.interval=t),t=e.intervalPrecision=Jd(n),ef(e.niceTickExtent=[Qd(Math.ceil(i[0]/n)*n,t),Qd(Math.floor(i[1]/n)*n,t)],i),e=e,this._intervalPrecision=e.intervalPrecision,this._interval=e.interval,this._niceExtent=e.niceTickExtent)},niceExtent:function(t){var e=this._extent;e[0]===e[1]&&(0!==e[0]?(i=e[0],t.fixMax||(e[1]+=i/2),e[0]-=i/2):e[1]=1);var i=e[1]-e[0];isFinite(i)||(e[0]=0,e[1]=1),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);i=this._interval;t.fixMin||(e[0]=nf(Math.floor(e[0]/i)*i)),t.fixMax||(e[1]=nf(Math.ceil(e[1]/i)*i))}});of.create=function(){return new of};var af="__ec_stack_",rf="undefined"!=typeof Float32Array?Float32Array:Array;function sf(t){return t.get("stack")||af+t.seriesIndex}function lf(t){return t.dim+t.index}function hf(t,e){var i=[];return e.eachSeriesByType(t,function(t){df(t)&&!ff(t)&&i.push(t)}),i}function uf(t){var l=function(t){var l={};L(t,function(t){var e=t.coordinateSystem.getBaseAxis();if("time"===e.type||"value"===e.type)for(var i=t.getData(),n=e.dim+"_"+e.index,o=i.mapDimension(e.dim),a=0,r=i.count();a<r;++a){var s=i.get(o,a);l[n]?l[n].push(s):l[n]=[s]}});var e,i=[];for(e in l)if(l.hasOwnProperty(e)){var n=l[e];if(n){n.sort(function(t,e){return t-e});for(var o=null,a=1;a<n.length;++a){var r=n[a]-n[a-1];0<r&&(o=null===o?r:Math.min(o,r))}i[e]=o}}return i}(t),h=[];return L(t,function(t){var e,i=t.coordinateSystem.getBaseAxis(),n=i.getExtent();e="category"===i.type?i.getBandWidth():"value"===i.type||"time"===i.type?(o=i.dim+"_"+i.index,a=l[o],r=Math.abs(n[1]-n[0]),e=i.scale.getExtent(),o=Math.abs(e[1]-e[0]),a?r/o*a:r):(s=t.getData(),Math.abs(n[1]-n[0])/s.count());var o=tl(t.get("barWidth"),e),a=tl(t.get("barMaxWidth"),e),r=tl(t.get("barMinWidth")||1,e),n=t.get("barGap"),s=t.get("barCategoryGap");h.push({bandWidth:e,barWidth:o,barMaxWidth:a,barMinWidth:r,barGap:n,barCategoryGap:s,axisKey:lf(i),stackId:sf(t)})}),function(t){var r={};L(t,function(t,e){var i=t.axisKey,n=t.bandWidth,o=r[i]||{bandWidth:n,remainedWidth:n,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},a=o.stacks;r[i]=o;n=t.stackId;a[n]||o.autoWidthCount++,a[n]=a[n]||{width:0,maxWidth:0};i=t.barWidth;i&&!a[n].width&&(a[n].width=i,i=Math.min(o.remainedWidth,i),o.remainedWidth-=i);i=t.barMaxWidth;i&&(a[n].maxWidth=i);i=t.barMinWidth;i&&(a[n].minWidth=i);i=t.barGap;null!=i&&(o.gap=i);t=t.barCategoryGap;null!=t&&(o.categoryGap=t)});var d={};return L(r,function(t,i){d[i]={};var e=t.stacks,n=t.bandWidth,o=tl(t.categoryGap,n),a=tl(t.gap,1),r=t.remainedWidth,s=t.autoWidthCount,l=(r-o)/(s+(s-1)*a),l=Math.max(l,0);L(e,function(t){var e,i=t.maxWidth,n=t.minWidth;t.width?(e=t.width,i&&(e=Math.min(e,i)),n&&(e=Math.max(e,n)),t.width=e,r-=e+a*e,s--):(e=l,i&&i<e&&(e=Math.min(i,r)),n&&e<n&&(e=n),e!==l&&(t.width=e,r-=e+a*e,s--))}),l=(r-o)/(s+(s-1)*a),l=Math.max(l,0);var h,u=0;L(e,function(t,e){t.width||(t.width=l),u+=(h=t).width*(1+a)}),h&&(u-=h.width*a);var c=-u/2;L(e,function(t,e){d[i][e]=d[i][e]||{bandWidth:n,offset:c,width:t.width},c+=t.width*(1+a)})}),d}(h)}function cf(t,e,i){if(t&&e){e=t[lf(e)];return null!=e&&null!=i&&(e=e[sf(i)]),e}}ii={seriesType:"bar",plan:wu(),reset:function(t){if(df(t)&&ff(t)){var e=t.getData(),c=t.coordinateSystem,d=c.grid.getRect(),i=c.getBaseAxis(),f=c.getOtherAxis(i),p=e.mapDimension(f.dim),g=e.mapDimension(i.dim),m=f.isHorizontal(),v=m?0:1,y=cf(uf([t]),i,t).width;return.5<y||(y=.5),{progress:function(t,e){var i,n=t.count,o=new rf(2*n),a=new rf(2*n),r=new rf(n),s=[],l=[],h=0,u=0;for(;null!=(i=t.next());)l[v]=e.get(p,i),l[1-v]=e.get(g,i),s=c.dataToPoint(l,null,s),a[h]=m?d.x+d.width:s[0],o[h++]=s[0],a[h]=m?s[1]:d.y+d.height,o[h++]=s[1],r[u++]=i;e.setLayout({largePoints:o,largeDataIndices:r,largeBackgroundPoints:a,barWidth:y,valueAxisStart:pf(0,f),backgroundStart:m?d.x:d.y,valueAxisHorizontal:m})}}}}};function df(t){return t.coordinateSystem&&"cartesian2d"===t.coordinateSystem.type}function ff(t){return t.pipelineContext&&t.pipelineContext.large}function pf(t,e){return e.toGlobalCoord(e.dataToCoord("log"===e.type?1:0))}var gf=of.prototype,mf=Math.ceil,vf=Math.floor,_e=36e5,yf=864e5,xf=of.extend({type:"time",getLabel:function(t){var e=this._stepLvl,t=new Date(t);return Tl(e[0],t,this.getSetting("useUTC"))},niceExtent:function(t){var e=this._extent;e[0]===e[1]&&(e[0]-=yf,e[1]+=yf),e[1]===-1/0&&e[0]===1/0&&(i=new Date,e[1]=+new Date(i.getFullYear(),i.getMonth(),i.getDate()),e[0]=e[1]-yf),this.niceTicks(t.splitNumber,t.minInterval,t.maxInterval);var i=this._interval;t.fixMin||(e[0]=el(vf(e[0]/i)*i)),t.fixMax||(e[1]=el(mf(e[1]/i)*i))},niceTicks:function(t,e,i){t=t||10;var n=this._extent,o=n[1]-n[0],a=o/t;null!=e&&a<e&&(a=e),null!=i&&i<a&&(a=i);i=_f.length,a=function(t,e,i,n){for(;i<n;){var o=i+n>>>1;t[o][1]<e?i=1+o:n=o}return i}(_f,a,0,i),a=_f[Math.min(a,i-1)],i=a[1];"year"===a[0]&&(i*=fl(o/i/t,!0));t=this.getSetting("useUTC")?0:60*new Date(+n[0]||+n[1]).getTimezoneOffset()*1e3,t=[Math.round(mf((n[0]-t)/i)*i+t),Math.round(vf((n[1]-t)/i)*i+t)];ef(t,n),this._stepLvl=a,this._interval=i,this._niceExtent=t},parse:function(t){return+ul(t)}});L(["contain","normalize"],function(e){xf.prototype[e]=function(t){return gf[e].call(this,this.parse(t))}});var _f=[["hh:mm:ss",1e3],["hh:mm:ss",5e3],["hh:mm:ss",1e4],["hh:mm:ss",15e3],["hh:mm:ss",3e4],["hh:mm\nMM-dd",6e4],["hh:mm\nMM-dd",3e5],["hh:mm\nMM-dd",6e5],["hh:mm\nMM-dd",9e5],["hh:mm\nMM-dd",18e5],["hh:mm\nMM-dd",_e],["hh:mm\nMM-dd",72e5],["hh:mm\nMM-dd",6*_e],["hh:mm\nMM-dd",432e5],["MM-dd\nyyyy",yf],["MM-dd\nyyyy",2*yf],["MM-dd\nyyyy",3*yf],["MM-dd\nyyyy",4*yf],["MM-dd\nyyyy",5*yf],["MM-dd\nyyyy",6*yf],["week",7*yf],["MM-dd\nyyyy",864e6],["week",14*yf],["week",21*yf],["month",31*yf],["week",42*yf],["month",62*yf],["week",70*yf],["quarter",95*yf],["month",31*yf*4],["month",13392e6],["half-year",16416e6],["month",31*yf*8],["month",26784e6],["year",380*yf]];xf.create=function(t){return new xf({useUTC:t.ecModel.get("useUTC")})};var wf=Ud.prototype,bf=of.prototype,Sf=ol,Mf=el,If=Math.floor,Tf=Math.ceil,Af=Math.pow,Cf=Math.log,Df=Ud.extend({type:"log",base:10,$constructor:function(){Ud.apply(this,arguments),this._originalScale=new of},getTicks:function(t){var i=this._originalScale,n=this._extent,o=i.getExtent();return S(bf.getTicks.call(this,t),function(t){var e=el(Af(this.base,t)),e=t===n[0]&&i.__fixMin?kf(e,o[0]):e;return e=t===n[1]&&i.__fixMax?kf(e,o[1]):e},this)},getMinorTicks:bf.getMinorTicks,getLabel:bf.getLabel,scale:function(t){return t=wf.scale.call(this,t),Af(this.base,t)},setExtent:function(t,e){var i=this.base;t=Cf(t)/Cf(i),e=Cf(e)/Cf(i),bf.setExtent.call(this,t,e)},getExtent:function(){var t=this.base,e=wf.getExtent.call(this);e[0]=Af(t,e[0]),e[1]=Af(t,e[1]);var i=this._originalScale,t=i.getExtent();return i.__fixMin&&(e[0]=kf(e[0],t[0])),i.__fixMax&&(e[1]=kf(e[1],t[1])),e},unionExtent:function(t){this._originalScale.unionExtent(t);var e=this.base;t[0]=Cf(t[0])/Cf(e),t[1]=Cf(t[1])/Cf(e),wf.unionExtent.call(this,t)},unionExtentFromData:function(t,e){this.unionExtent(t.getApproximateExtent(e))},niceTicks:function(t){t=t||10;var e=this._extent,i=e[1]-e[0];if(!(i==1/0||i<=0)){var n=cl(i);for(t/i*n<=.5&&(n*=10);!isNaN(n)&&Math.abs(n)<1&&0<Math.abs(n);)n*=10;e=[el(Tf(e[0]/n)*n),el(If(e[1]/n)*n)];this._interval=n,this._niceExtent=e}},niceExtent:function(t){bf.niceExtent.call(this,t);var e=this._originalScale;e.__fixMin=t.fixMin,e.__fixMax=t.fixMax}});function kf(t,e){return Mf(t,Sf(e))}function Lf(t,e){var i,n,o,a=t.type,r=e.getMin(),s=e.getMax(),l=t.getExtent();"ordinal"===a?i=e.getCategories().length:(O(n=e.get("boundaryGap"))||(n=[n||0,n||0]),"boolean"==typeof n[0]&&(n=[0,0]),n[0]=tl(n[0],1),n[1]=tl(n[1],1),o=l[1]-l[0]||Math.abs(l[0])),"dataMin"===r?r=l[0]:"function"==typeof r&&(r=r({min:l[0],max:l[1]})),"dataMax"===s?s=l[1]:"function"==typeof s&&(s=s({min:l[0],max:l[1]}));var h=null!=r,u=null!=s;null==r&&(r="ordinal"===a?i?0:NaN:l[0]-n[0]*o),null==s&&(s="ordinal"===a?i?i-1:NaN:l[1]+n[1]*o),null!=r&&isFinite(r)||(r=NaN),null!=s&&isFinite(s)||(s=NaN),t.setBlank(F(r)||F(s)||"ordinal"===a&&!t.getOrdinalMeta().categories.length),e.getNeedCrossZero()&&(0<r&&0<s&&!h&&(r=0),r<0&&s<0&&!u&&(s=0));var c,t=e.ecModel;return t&&"time"===a&&(L(t=hf("bar",t),function(t){c|=t.getBaseAxis()===e.axis}),c&&(t=uf(t),r=(t=function(t,e,i,n){var o=i.axis.getExtent(),o=o[1]-o[0],n=cf(n,i.axis);if(void 0===n)return{min:t,max:e};var a=1/0;L(n,function(t){a=Math.min(t.offset,a)});var r=-1/0;L(n,function(t){r=Math.max(t.offset+t.width,r)}),a=Math.abs(a),r=Math.abs(r);i=a+r,n=e-t,n=n/(1-(a+r)/o)-n;return{min:t-=a/i*n,max:e+=r/i*n}}(r,s,e,t)).min,s=t.max)),{extent:[r,s],fixMin:h,fixMax:u}}function Pf(t,e){var i=Lf(t,e),n=i.extent,o=e.get("splitNumber");"log"===t.type&&(t.base=e.get("logBase"));var a=t.type;t.setExtent(n[0],n[1]),t.niceExtent({splitNumber:o,fixMin:i.fixMin,fixMax:i.fixMax,minInterval:"interval"===a||"time"===a?e.get("minInterval"):null,maxInterval:"interval"===a||"time"===a?e.get("maxInterval"):null});e=e.get("interval");null!=e&&t.setInterval&&t.setInterval(e)}function Of(t,e){if(e=e||t.get("type"))switch(e){case"category":return new $d(t.getOrdinalMeta?t.getOrdinalMeta():t.getCategories(),[1/0,-1/0]);case"value":return new of;default:return(Ud.getClass(e)||of).create(t)}}function zf(i){var e,n=i.getLabelModel().get("formatter"),o="category"===i.type?i.scale.getExtent()[0]:null;return"string"==typeof n?(e=n,n=function(t){return t=i.scale.getLabel(t),e.replace("{value}",null!=t?t:"")}):"function"==typeof n?function(t,e){return null!=o&&(e=t-o),n(Rf(i,t),e)}:function(t){return i.scale.getLabel(t)}}function Rf(t,e){return"category"===t.type?t.scale.getLabel(e):e}function Ef(t){var e=t.model,i=t.scale;if(e.get("axisLabel.show")&&!i.isBlank()){var n,o,e="category"===t.type,a=i.getExtent(),r=e?i.count():(n=i.getTicks()).length,s=t.getLabelModel(),l=zf(t),h=1;40<r&&(h=Math.ceil(r/40));for(var u,c,d=0;d<r;d+=h){var f=l(n?n[d]:a[0]+d),p=s.getTextRect(f),g=(u=p,c=s.get("rotate")||0,g=p=f=g=void 0,g=c*Math.PI/180,f=u.plain(),p=f.width,c=f.height,u=p*Math.abs(Math.cos(g))+Math.abs(c*Math.sin(g)),g=p*Math.abs(Math.sin(g))+Math.abs(c*Math.cos(g)),new vi(f.x,f.y,u,g));o?o.union(g):o=g}return o}}function Nf(t){t=t.get("interval");return null==t?"auto":t}function Bf(t){return"category"===t.type&&0===Nf(t.getLabelModel())}L(["contain","normalize"],function(e){Df.prototype[e]=function(t){return t=Cf(t)/Cf(this.base),wf[e].call(this,t)}}),Df.create=function(){return new Df};var Vf={getMin:function(t){var e=this.option,e=t||null==e.rangeStart?e.min:e.rangeStart;return this.axis&&null!=e&&"dataMin"!==e&&"function"!=typeof e&&!F(e)&&(e=this.axis.scale.parse(e)),e},getMax:function(t){var e=this.option,e=t||null==e.rangeEnd?e.max:e.rangeEnd;return this.axis&&null!=e&&"dataMax"!==e&&"function"!=typeof e&&!F(e)&&(e=this.axis.scale.parse(e)),e},getNeedCrossZero:function(){var t=this.option;return null==t.rangeStart&&null==t.rangeEnd&&!t.scale},getCoordSysModel:tt,setRange:function(t,e){this.option.rangeStart=t,this.option.rangeEnd=e},resetRange:function(){this.option.rangeStart=this.option.rangeEnd=null}},ce=ts({type:"triangle",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=e.width/2,e=e.height/2;t.moveTo(i,n-e),t.lineTo(i+o,n+e),t.lineTo(i-o,n+e),t.closePath()}}),Zn=ts({type:"diamond",shape:{cx:0,cy:0,width:0,height:0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=e.width/2,e=e.height/2;t.moveTo(i,n-e),t.lineTo(i+o,n),t.lineTo(i,n+e),t.lineTo(i-o,n),t.closePath()}}),Xs=ts({type:"pin",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.x,n=e.y,o=e.width/5*3,a=Math.max(o,e.height),r=o/2,s=r*r/(a-r),l=n-a+r+s,h=Math.asin(s/r),u=Math.cos(h)*r,c=Math.sin(h),e=Math.cos(h),o=.6*r,a=.7*r;t.moveTo(i-u,l+s),t.arc(i,l,r,Math.PI-h,2*Math.PI+h),t.bezierCurveTo(i+u-c*o,l+s+e*o,i,n-a,i,n),t.bezierCurveTo(i,n-a,i-u+c*o,l+s+e*o,i-u,l+s),t.closePath()}}),_e=ts({type:"arrow",shape:{x:0,y:0,width:0,height:0},buildPath:function(t,e){var i=e.height,n=e.width,o=e.x,e=e.y,n=n/3*2;t.moveTo(o,e),t.lineTo(o+n,e+i),t.lineTo(o,e+i/4*3),t.lineTo(o-n,e+i),t.lineTo(o,e),t.closePath()}}),Ff={line:function(t,e,i,n,o){o.x1=t,o.y1=e+n/2,o.x2=t+i,o.y2=e+n/2},rect:function(t,e,i,n,o){o.x=t,o.y=e,o.width=i,o.height=n},roundRect:function(t,e,i,n,o){o.x=t,o.y=e,o.width=i,o.height=n,o.r=Math.min(i,n)/4},square:function(t,e,i,n,o){n=Math.min(i,n);o.x=t,o.y=e,o.width=n,o.height=n},circle:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.r=Math.min(i,n)/2},diamond:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.width=i,o.height=n},pin:function(t,e,i,n,o){o.x=t+i/2,o.y=e+n/2,o.width=i,o.height=n},arrow:function(t,e,i,n,o){o.x=t+i/2,o.y=e+n/2,o.width=i,o.height=n},triangle:function(t,e,i,n,o){o.cx=t+i/2,o.cy=e+n/2,o.width=i,o.height=n}},Hf={};L({line:Nr,rect:Rr,roundRect:Rr,square:Rr,circle:br,diamond:Zn,pin:Xs,arrow:_e,triangle:ce},function(t,e){Hf[e]=new t});var Wf=ts({type:"symbol",shape:{symbolType:"",x:0,y:0,width:0,height:0},calculateTextPosition:function(t,e,i){var n=rn(t,e,i),t=this.shape;return t&&"pin"===t.symbolType&&"inside"===e.textPosition&&(n.y=i.y+.4*i.height),n},buildPath:function(t,e,i){var n,o=e.symbolType;"none"!==o&&(n=(n=Hf[o])||Hf[o="rect"],Ff[o](e.x,e.y,e.width,e.height,n.shape),n.buildPath(t,n.shape,i))}});function Gf(t,e){var i,n;"image"!==this.type&&(i=this.style,(n=this.shape)&&"line"===n.symbolType?i.stroke=t:this.__isEmptyBrush?(i.stroke=t,i.fill=e||"#fff"):(i.fill&&(i.fill=t),i.stroke&&(i.stroke=t)),this.dirty(!1))}function Zf(t,e,i,n,o,a,r){var s=0===t.indexOf("empty");return s&&(t=t.substr(5,1).toLowerCase()+t.substr(6)),(o=0===t.indexOf("image://")?ns(t.slice(8),new vi(e,i,n,o),r?"center":"cover"):0===t.indexOf("path://")?is(t.slice(7),{},new vi(e,i,n,o),r?"center":"cover"):new Wf({shape:{symbolType:t,x:e,y:i,width:n,height:o}})).__isEmptyBrush=s,o.setColor=Gf,o.setColor(a),o}Zn={isDimensionStacked:Gd,enableDataStack:Wd,getStackedDimension:Zd};var Xs=(Object.freeze||Object)({createList:function(t){return Xd(t.getSource(),t)},getLayoutRect:Rl,dataStack:Zn,createScale:function(t,e){var i=e;return Ys.isInstance(e)||b(i=new Ys(e),Vf),(e=Of(i)).setExtent(t[0],t[1]),Pf(e,i),e},mixinAxisModelCommonMethods:function(t){b(t,Vf)},completeDimensions:Ed,createDimensions:Bd,createSymbol:Zf}),Xf=1e-8;function Uf(t,e){return Math.abs(t-e)<Xf}function Yf(t,e,i){var n=0,o=t[0];if(o){for(var a=1;a<t.length;a++){var r=t[a];n+=Xa(o[0],o[1],r[0],r[1],e,i),o=r}var s=t[0];return Uf(o[0],s[0])&&Uf(o[1],s[1])||(n+=Xa(o[0],o[1],s[0],s[1],e,i)),0!==n}}function qf(t,e,i){this.name=t,this.geometries=e,i=i?[i[0],i[1]]:[(e=this.getBoundingRect()).x+e.width/2,e.y+e.height/2],this.center=i}function jf(t,e,i){for(var n=[],o=e[0],a=e[1],r=0;r<t.length;r+=2){var s=(s=t.charCodeAt(r)-64)>>1^-(1&s),l=(l=t.charCodeAt(r+1)-64)>>1^-(1&l),o=s+=o,a=l+=a;n.push([s/i,l/i])}return n}qf.prototype={constructor:qf,properties:null,getBoundingRect:function(){var t=this._rect;if(t)return t;for(var t=Number.MAX_VALUE,e=[t,t],i=[-t,-t],n=[],o=[],a=this.geometries,r=0;r<a.length;r++)"polygon"===a[r].type&&(ba(a[r].exterior,n,o),xt(e,e,n),_t(i,i,o));return 0===r&&(e[0]=e[1]=i[0]=i[1]=0),this._rect=new vi(e[0],e[1],i[0]-e[0],i[1]-e[1])},contain:function(t){var e=this.getBoundingRect(),i=this.geometries;if(!e.contain(t[0],t[1]))return!1;t:for(var n=0,o=i.length;n<o;n++)if("polygon"===i[n].type){var a=i[n].exterior,r=i[n].interiors;if(Yf(a,t[0],t[1])){for(var s=0;s<(r?r.length:0);s++)if(Yf(r[s]))continue t;return!0}}return!1},transformTo:function(t,e,i,n){var o=this.getBoundingRect(),a=o.width/o.height;i?n=n||i/a:i=a*n;for(var n=new vi(t,e,i,n),r=o.calculateTransform(n),s=this.geometries,l=0;l<s.length;l++)if("polygon"===s[l].type){for(var h=s[l].exterior,u=s[l].interiors,c=0;c<h.length;c++)yt(h[c],h[c],r);for(var d=0;d<(u?u.length:0);d++)for(c=0;c<u[d].length;c++)yt(u[d][c],u[d][c],r)}(o=this._rect).copy(n),this.center=[o.x+o.width/2,o.y+o.height/2]},cloneShallow:function(t){null==t&&(t=this.name);t=new qf(t,this.geometries,this.center);return t._rect=this._rect,t.transformTo=null,t}};var _e=function(t,o){return function(t){if(!t.UTF8Encoding)return;var e=t.UTF8Scale;null==e&&(e=1024);for(var i=t.features,n=0;n<i.length;n++)for(var o=i[n].geometry,a=o.coordinates,r=o.encodeOffsets,s=0;s<a.length;s++){var l=a[s];if("Polygon"===o.type)a[s]=jf(l,r[s],e);else if("MultiPolygon"===o.type)for(var h=0;h<l.length;h++){var u=l[h];l[h]=jf(u,r[s][h],e)}}t.UTF8Encoding=!1}(t),S(I(t.features,function(t){return t.geometry&&t.properties&&0<t.geometry.coordinates.length}),function(t){var e=t.properties,i=t.geometry,t=i.coordinates,n=[];"Polygon"===i.type&&n.push({type:"polygon",exterior:t[0],interiors:t.slice(1)}),"MultiPolygon"===i.type&&L(t,function(t){t[0]&&n.push({type:"polygon",exterior:t[0],interiors:t.slice(1)})});t=new qf(e[o||"name"],n,e.cp);return t.properties=e,t})},Kf=Lo();function $f(t){return"category"===t.type?(o=(e=t).getLabelModel(),a=Jf(e,o),!o.get("show")||e.scale.isBlank()?{labels:[],labelCategoryInterval:a.labelCategoryInterval}:a):(t=(i=t).scale.getTicks(),n=zf(i),{labels:S(t,function(t,e){return{formattedLabel:n(t,e),rawLabel:i.scale.getLabel(t),tickValue:t}})});var i,n,e,o,a}function Qf(t,e){return"category"===t.type?function(t,e){var i,n,o=tp(t,"ticks"),a=Nf(e),r=ep(o,a);if(r)return r;e.get("show")&&!t.scale.isBlank()||(i=[]);i=z(a)?op(t,a,!0):"auto"===a?(e=Jf(t,t.getLabelModel()),n=e.labelCategoryInterval,S(e.labels,function(t){return t.tickValue})):np(t,n=a,!0);return ip(o,a,{ticks:i,tickCategoryInterval:n})}(t,e):{ticks:t.scale.getTicks()}}function Jf(t,e){var i,n=tp(t,"labels"),o=Nf(e),e=ep(n,o);return e||ip(n,o,{labels:z(o)?op(t,o):np(t,i="auto"===o?null!=(t=Kf(i=t).autoInterval)?t:Kf(i).autoInterval=i.calculateCategoryInterval():o),labelCategoryInterval:i})}function tp(t,e){return Kf(t)[e]||(Kf(t)[e]=[])}function ep(t,e){for(var i=0;i<t.length;i++)if(t[i].key===e)return t[i].value}function ip(t,e,i){return t.push({key:e,value:i}),i}function np(t,e,i){var n=zf(t),o=t.scale,a=o.getExtent(),r=t.getLabelModel(),s=[],l=Math.max((e||0)+1,1),h=a[0],e=o.count();0!==h&&1<l&&2<e/l&&(h=Math.round(Math.ceil(h/l)*l));e=Bf(t),t=r.get("showMinLabel")||e,e=r.get("showMaxLabel")||e;t&&h!==a[0]&&c(a[0]);for(var u=h;u<=a[1];u+=l)c(u);function c(t){s.push(i?t:{formattedLabel:n(t),rawLabel:o.getLabel(t),tickValue:t})}return e&&u-l!==a[1]&&c(a[1]),s}function op(t,i,n){var o=t.scale,a=zf(t),r=[];return L(o.getTicks(),function(t){var e=o.getLabel(t);i(t,e)&&r.push(n?t:{formattedLabel:a(t),rawLabel:e,tickValue:t})}),r}function ap(t,e,i){this.dim=t,this.scale=e,this._extent=i||[0,0],this.inverse=!1,this.onBand=!1}var rp=[0,1];function sp(t,e){e=(t[1]-t[0])/e/2;t[0]+=e,t[1]-=e}ap.prototype={constructor:ap,contain:function(t){var e=this._extent,i=Math.min(e[0],e[1]),e=Math.max(e[0],e[1]);return i<=t&&t<=e},containData:function(t){return this.scale.contain(t)},getExtent:function(){return this._extent.slice()},getPixelPrecision:function(t){return al(t||this.scale.getExtent(),this._extent)},setExtent:function(t,e){var i=this._extent;i[0]=t,i[1]=e},dataToCoord:function(t,e){var i=this._extent,n=this.scale;return t=n.normalize(t),this.onBand&&"ordinal"===n.type&&sp(i=i.slice(),n.count()),Js(t,rp,i,e)},coordToData:function(t,e){var i=this._extent,n=this.scale;this.onBand&&"ordinal"===n.type&&sp(i=i.slice(),n.count());e=Js(t,i,rp,e);return this.scale.scale(e)},pointToData:function(t,e){},getTicksCoords:function(t){var e=(t=t||{}).tickModel||this.getTickModel(),i=S(Qf(this,e).ticks,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this);return function(t,e,i,n){var o=e.length;if(!t.onBand||i||!o)return;var a,r=t.getExtent();{var s;1===o?(e[0].coord=r[0],a=e[1]={coord:r[0]}):(i=e[o-1].tickValue-e[0].tickValue,s=(e[o-1].coord-e[0].coord)/i,L(e,function(t){t.coord-=s/2}),t=t.scale.getExtent(),t=1+t[1]-e[o-1].tickValue,a={coord:e[o-1].coord+s*t},e.push(a))}var l=r[0]>r[1];h(e[0].coord,r[0])&&(n?e[0].coord=r[0]:e.shift());n&&h(r[0],e[0].coord)&&e.unshift({coord:r[0]});h(r[1],a.coord)&&(n?a.coord=r[1]:e.pop());n&&h(a.coord,r[1])&&e.push({coord:r[1]});function h(t,e){return t=el(t),e=el(e),l?e<t:t<e}}(this,i,e.get("alignWithLabel"),t.clamp),i},getMinorTicksCoords:function(){if("ordinal"===this.scale.type)return[];var t=this.model.getModel("minorTick").get("splitNumber");return 0<t&&t<100||(t=5),S(this.scale.getMinorTicks(t),function(t){return S(t,function(t){return{coord:this.dataToCoord(t),tickValue:t}},this)},this)},getViewLabels:function(){return $f(this).labels},getLabelModel:function(){return this.model.getModel("axisLabel")},getTickModel:function(){return this.model.getModel("axisTick")},getBandWidth:function(){var t=this._extent,e=this.scale.getExtent(),e=e[1]-e[0]+(this.onBand?1:0);0===e&&(e=1);t=Math.abs(t[1]-t[0]);return Math.abs(t)/e},isHorizontal:null,getRotate:null,calculateCategoryInterval:function(){return function(t){var e=(h=(l=t).getLabelModel(),{axisRotate:l.getRotate?l.getRotate():l.isHorizontal&&!l.isHorizontal()?90:0,labelRotate:h.get("rotate")||0,font:h.getFont()}),i=zf(t),n=(e.axisRotate-e.labelRotate)/180*Math.PI,o=(u=t.scale).getExtent(),a=u.count();if(o[1]-o[0]<1)return 0;var r=1;40<a&&(r=Math.max(1,Math.floor(a/40)));for(var s=o[0],l=t.dataToCoord(s+1)-t.dataToCoord(s),h=Math.abs(l*Math.cos(n)),u=Math.abs(l*Math.sin(n)),c=0,d=0;s<=o[1];s+=r)var f=nn(i(s),e.font,"center","top"),p=1.3*f.width,f=1.3*f.height,c=Math.max(c,p,7),d=Math.max(d,f,7);return l=c/h,n=d/u,isNaN(l)&&(l=1/0),isNaN(n)&&(n=1/0),h=Math.max(0,Math.floor(Math.min(l,n))),u=Kf(t.model),l=t.getExtent(),n=u.lastAutoInterval,t=u.lastTickCount,null!=n&&null!=t&&Math.abs(n-h)<=1&&Math.abs(t-a)<=1&&h<n&&u.axisExtend0===l[0]&&u.axisExtend1===l[1]?h=n:(u.lastTickCount=a,u.lastAutoInterval=h,u.axisExtend0=l[0],u.axisExtend1=l[1]),h}(this)}};var ce=_e,lp={};L(["map","each","filter","indexOf","inherits","reduce","filter","bind","curry","isArray","isString","isObject","isFunction","extend","defaults","clone","merge"],function(t){lp[t]=et[t]});var hp={};function up(t,e){var i=t.mapDimension("defaultedLabel",!0),n=i.length;if(1===n)return $h(t,e,i[0]);if(n){for(var o=[],a=0;a<i.length;a++){var r=$h(t,e,i[a]);o.push(r)}return o.join(" ")}}function cp(t,e,i){yi.call(this),this.updateData(t,e,i)}L(["extendShape","extendPath","makePath","makeImage","mergePath","resizePath","createIcon","setHoverStyle","setLabelStyle","setTextStyle","setText","getFont","updateProps","initProps","getTransform","clipPointsByRect","clipRectByRect","registerShape","getShapeClass","Group","Image","Text","Circle","Sector","Ring","Polygon","Polyline","Rect","Line","BezierCurve","Arc","IncrementalDisplayable","CompoundPath","LinearGradient","RadialGradient","BoundingRect"],function(t){hp[t]=Ws[t]}),du.extend({type:"series.line",dependencies:["grid","polar"],getInitialData:function(t,e){return Xd(this.getSource(),this,{useEncodeDefaulter:!0})},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,clip:!0,label:{position:"top"},lineStyle:{width:2,type:"solid"},step:!1,smooth:!1,smoothMonotone:null,symbol:"emptyCircle",symbolSize:4,symbolRotate:null,showSymbol:!0,showAllSymbol:"auto",connectNulls:!1,sampling:"none",animationEasing:"linear",progressive:0,hoverLayerThreshold:1/0}});var Zn=cp.prototype,dp=cp.getSymbolSize=function(t,e){e=t.getItemVisual(e,"symbolSize");return e instanceof Array?e.slice():[+e,+e]};function fp(t){return[t[0]/2,t[1]/2]}function pp(t,e){this.parent.drift(t,e)}Zn._createSymbol=function(t,e,i,n,o){this.removeAll();o=Zf(t,-1,-1,2,2,e.getItemVisual(i,"color"),o);o.attr({z2:100,culling:!0,scale:fp(n)}),o.drift=pp,this._symbolType=t,this.add(o)},Zn.stopSymbolAnimation=function(t){this.childAt(0).stopAnimation(t)},Zn.getSymbolPath=function(){return this.childAt(0)},Zn.getScale=function(){return this.childAt(0).scale},Zn.highlight=function(){this.childAt(0).trigger("emphasis")},Zn.downplay=function(){this.childAt(0).trigger("normal")},Zn.setZ=function(t,e){var i=this.childAt(0);i.zlevel=t,i.z=e},Zn.setDraggable=function(t){var e=this.childAt(0);e.draggable=t,e.cursor=t?"move":e.cursor},Zn.updateData=function(t,e,i){this.silent=!1;var n,o,a=t.getItemVisual(e,"symbol")||"circle",r=t.hostModel,s=dp(t,e),l=a!==this._symbolType;l?(n=t.getItemVisual(e,"symbolKeepAspect"),this._createSymbol(a,t,e,s,n)):((o=this.childAt(0)).silent=!1,zs(o,{scale:fp(s)},r,e)),this._updateCommon(t,e,s,i),l&&(o=this.childAt(0),l=i&&i.fadeIn,i={scale:o.scale.slice()},l&&(i.style={opacity:o.style.opacity}),o.scale=[0,0],l&&(o.style.opacity=0),Rs(o,i,r,e)),this._seriesModel=r};var gp=["itemStyle"],mp=["emphasis","itemStyle"],vp=["label"],yp=["emphasis","label"];function xp(t,e){var i,n;this.incremental||this.useHoverLayer||("emphasis"===e?(n=(i=this.__symbolOriginalScale)[1]/i[0],n={scale:[Math.max(1.1*i[0],i[0]+3),Math.max(1.1*i[1],i[1]+3*n)]},this.animateTo(n,400,"elasticOut")):"normal"===e&&this.animateTo({scale:this.__symbolOriginalScale},400,"elasticOut"))}function _p(t){this.group=new yi,this._symbolCtor=t||cp}Zn._updateCommon=function(i,t,e,n){var o=this.childAt(0),a=i.hostModel,r=i.getItemVisual(t,"color");"image"!==o.type?o.useStyle({strokeNoScale:!0}):o.setStyle({opacity:1,shadowBlur:null,shadowOffsetX:null,shadowOffsetY:null,shadowColor:null});var s=n&&n.itemStyle,l=n&&n.hoverItemStyle,h=n&&n.symbolOffset,u=n&&n.labelModel,c=n&&n.hoverLabelModel,d=n&&n.hoverAnimation,f=n&&n.cursorStyle;!n||i.hasItemOption?(s=(g=n&&n.itemModel?n.itemModel:i.getItemModel(t)).getModel(gp).getItemStyle(["color"]),l=g.getModel(mp).getItemStyle(),h=g.getShallow("symbolOffset"),u=g.getModel(vp),c=g.getModel(yp),d=g.getShallow("hoverAnimation"),f=g.getShallow("cursor")):l=C({},l);var p=o.style,g=i.getItemVisual(t,"symbolRotate");o.attr("rotation",(g||0)*Math.PI/180||0),h&&o.attr("position",[tl(h[0],e[0]),tl(h[1],e[1])]),f&&o.attr("cursor",f),o.setColor(r,n&&n.symbolInnerColor),o.setStyle(s);f=i.getItemVisual(t,"opacity");null!=f&&(p.opacity=f);s=i.getItemVisual(t,"liftZ"),f=o.__z2Origin;null!=s?null==f&&(o.__z2Origin=o.z2,o.z2+=s):null!=f&&(o.z2=f,o.__z2Origin=null);var m=n&&n.useNameLabel;Is(p,l,u,c,{labelFetcher:a,labelDataIndex:t,defaultText:function(t,e){return m?i.getName(t):up(i,t)},isRectText:!0,autoColor:r}),o.__symbolOriginalScale=fp(e),o.hoverStyle=l,o.highDownOnUpdate=d&&a.isAnimationEnabled()?xp:null,ws(o)},Zn.fadeOut=function(t,e){var i=this.childAt(0);this.silent=i.silent=!0,e&&e.keepLabel||(i.style.text=null),zs(i,{style:{opacity:0},scale:[0,0]},this._seriesModel,this.dataIndex,t)},w(cp,yi);Zn=_p.prototype;function wp(t,e,i,n){return e&&!isNaN(e[0])&&!isNaN(e[1])&&(!n.isIgnore||!n.isIgnore(i))&&(!n.clipShape||n.clipShape.contain(e[0],e[1]))&&"none"!==t.getItemVisual(i,"symbol")}function bp(t){return null==t||E(t)||(t={isIgnore:t}),t||{}}function Sp(t){t=t.hostModel;return{itemStyle:t.getModel("itemStyle").getItemStyle(["color"]),hoverItemStyle:t.getModel("emphasis.itemStyle").getItemStyle(),symbolRotate:t.get("symbolRotate"),symbolOffset:t.get("symbolOffset"),hoverAnimation:t.get("hoverAnimation"),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label"),cursorStyle:t.get("cursor")}}function Mp(t,e,i){var n,o=t.getBaseAxis(),a=t.getOtherAxis(o),r=function(t,e){var i=0,t=t.scale.getExtent();"start"===e?i=t[0]:"end"===e?i=t[1]:0<t[0]?i=t[0]:t[1]<0&&(i=t[1]);return i}(a,i),s=o.dim,l=a.dim,h=e.mapDimension(l),i=e.mapDimension(s),o="x"===l||"radius"===l?1:0,a=S(t.dimensions,function(t){return e.mapDimension(t)}),t=e.getCalculationInfo("stackResultDimension");return(n|=Gd(e,a[0]))&&(a[0]=t),(n|=Gd(e,a[1]))&&(a[1]=t),{dataDimsForPoint:a,valueStart:r,valueAxisDim:l,baseAxisDim:s,stacked:!!n,valueDim:h,baseDim:i,baseDataOffset:o,stackedOverDimension:e.getCalculationInfo("stackedOverDimension")}}function Ip(t,e,i,n){var o=NaN;t.stacked&&(o=i.get(i.getCalculationInfo("stackedOverDimension"),n)),isNaN(o)&&(o=t.valueStart);var a=t.baseDataOffset,r=[];return r[a]=i.get(t.baseDim,n),r[1-a]=o,e.dataToPoint(r)}Zn.updateData=function(n,o){o=bp(o);var a=this.group,r=n.hostModel,s=this._data,l=this._symbolCtor,h=Sp(n);s||a.removeAll(),n.diff(s).add(function(t){var e,i=n.getItemLayout(t);wp(n,i,t,o)&&((e=new l(n,t,h)).attr("position",i),n.setItemGraphicEl(t,e),a.add(e))}).update(function(t,e){var i=s.getItemGraphicEl(e),e=n.getItemLayout(t);wp(n,e,t,o)?(i?(i.updateData(n,t,h),zs(i,{position:e},r)):(i=new l(n,t)).attr("position",e),a.add(i),n.setItemGraphicEl(t,i)):a.remove(i)}).remove(function(t){var e=s.getItemGraphicEl(t);e&&e.fadeOut(function(){a.remove(e)})}).execute(),this._data=n},Zn.isPersistent=function(){return!0},Zn.updateLayout=function(){var i=this._data;i&&i.eachItemGraphicEl(function(t,e){e=i.getItemLayout(e);t.attr("position",e)})},Zn.incrementalPrepareUpdate=function(t){this._seriesScope=Sp(t),this._data=null,this.group.removeAll()},Zn.incrementalUpdate=function(t,e,i){function n(t){t.isGroup||(t.incremental=t.useHoverLayer=!0)}i=bp(i);for(var o=t.start;o<t.end;o++){var a,r=e.getItemLayout(o);wp(e,r,o,i)&&((a=new this._symbolCtor(e,o,this._seriesScope)).traverse(n),a.attr("position",r),this.group.add(a),e.setItemGraphicEl(o,a))}},Zn.remove=function(t){var e=this.group,i=this._data;i&&t?i.eachItemGraphicEl(function(t){t.fadeOut(function(){e.remove(t)})}):e.removeAll()};var Tp=xt,Ap=_t,Cp=st,Dp=ot,kp=[],Lp=[],Pp=[];function Op(t){return isNaN(t[0])||isNaN(t[1])}function zp(t,e,i,n,o,a,r,s,l,h){return("none"!==h&&h?function(t,e,i,n,o,a,r,s,l,h,u){for(var c=0,d=i,f=0;f<n;f++){var p,g,m,v=e[d];if(o<=d||d<0)break;if(Op(v)){if(u){d+=a;continue}break}d===i?t[0<a?"moveTo":"lineTo"](v[0],v[1]):0<l?(p=e[c],m=(v[g="y"===h?1:0]-p[g])*l,Dp(Lp,p),Lp[g]=p[g]+m,Dp(Pp,v),Pp[g]=v[g]-m,t.bezierCurveTo(Lp[0],Lp[1],Pp[0],Pp[1],v[0],v[1])):t.lineTo(v[0],v[1]),c=d,d+=a}return f}:function(t,e,i,n,o,a,r,s,l,h,u){for(var c,d=0,f=i,p=0;p<n;p++){var g=e[f];if(o<=f||f<0)break;if(Op(g)){if(u){f+=a;continue}break}if(f===i)t[0<a?"moveTo":"lineTo"](g[0],g[1]),Dp(Lp,g);else if(0<l){var m=f+a,v=e[m];if(u)for(;v&&Op(e[m]);)v=e[m+=a];var y,x=.5,_=e[d];!(v=e[m])||Op(v)?Dp(Pp,g):(Op(v)&&!u&&(v=g),lt(kp,v,_),_="x"===h||"y"===h?(y="x"===h?0:1,c=Math.abs(g[y]-_[y]),Math.abs(g[y]-v[y])):(c=pt(g,_),pt(g,v)),Cp(Pp,g,kp,-l*(1-(x=_/(_+c))))),Tp(Lp,Lp,s),Ap(Lp,Lp,r),Tp(Pp,Pp,s),Ap(Pp,Pp,r),t.bezierCurveTo(Lp[0],Lp[1],Pp[0],Pp[1],g[0],g[1]),Cp(Lp,g,kp,l*x)}else t.lineTo(g[0],g[1]);d=f,f+=a}return p}).apply(this,arguments)}function Rp(t,e){var i=[1/0,1/0],n=[-1/0,-1/0];if(e)for(var o=0;o<t.length;o++){var a=t[o];a[0]<i[0]&&(i[0]=a[0]),a[1]<i[1]&&(i[1]=a[1]),a[0]>n[0]&&(n[0]=a[0]),a[1]>n[1]&&(n[1]=a[1])}return{min:e?i:n,max:e?n:i}}var Ep=nr.extend({type:"ec-polyline",shape:{points:[],smooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},style:{fill:null,stroke:"#000"},brush:ye(nr.prototype.brush),buildPath:function(t,e){var i=e.points,n=0,o=i.length,a=Rp(i,e.smoothConstraint);if(e.connectNulls){for(;0<o&&Op(i[o-1]);o--);for(;n<o&&Op(i[n]);n++);}for(;n<o;)n+=zp(t,i,n,o,o,1,a.min,a.max,e.smooth,e.smoothMonotone,e.connectNulls)+1}}),Np=nr.extend({type:"ec-polygon",shape:{points:[],stackedOnPoints:[],smooth:0,stackedOnSmooth:0,smoothConstraint:!0,smoothMonotone:null,connectNulls:!1},brush:ye(nr.prototype.brush),buildPath:function(t,e){var i=e.points,n=e.stackedOnPoints,o=0,a=i.length,r=e.smoothMonotone,s=Rp(i,e.smoothConstraint),l=Rp(n,e.smoothConstraint);if(e.connectNulls){for(;0<a&&Op(i[a-1]);a--);for(;o<a&&Op(i[o]);o++);}for(;o<a;){var h=zp(t,i,o,a,a,1,s.min,s.max,e.smooth,r,e.connectNulls);zp(t,n,o+h-1,h,a,-1,l.min,l.max,e.stackedOnSmooth,r,e.connectNulls),o+=h+1,t.closePath()}}});function Bp(t,e,i){var n=t.getArea(),o=t.getBaseAxis().isHorizontal(),a=n.x,r=n.y,s=n.width,t=n.height,n=i.get("lineStyle.width")||2;a-=n/2,r-=n/2,s+=n,t+=n,a=Math.floor(a),s=Math.round(s);r=new Rr({shape:{x:a,y:r,width:s,height:t}});return e&&(r.shape[o?"width":"height"]=0,Rs(r,{shape:{width:s,height:t}},i)),r}function Vp(t,e,i){var n=t.getArea(),t=new Mr({shape:{cx:el(t.cx,1),cy:el(t.cy,1),r0:el(n.r0,1),r:el(n.r,1),startAngle:n.startAngle,endAngle:n.endAngle,clockwise:n.clockwise}});return e&&(t.shape.endAngle=n.startAngle,Rs(t,{shape:{endAngle:n.endAngle}},i)),t}function Fp(t,e,i){return t?"polar"===t.type?Vp(t,e,i):"cartesian2d"===t.type?Bp(t,e,i):null:null}function Hp(t,e){if(t.length===e.length){for(var i=0;i<t.length;i++){var n=t[i],o=e[i];if(n[0]!==o[0]||n[1]!==o[1])return}return 1}}function Wp(t,e){var i=[],n=[],o=[],a=[];return ba(t,i,n),ba(e,o,a),Math.max(Math.abs(i[0]-o[0]),Math.abs(i[1]-o[1]),Math.abs(n[0]-a[0]),Math.abs(n[1]-a[1]))}function Gp(t){return"number"==typeof t?t:t?.5:0}function Zp(t,e,i){for(var e=e.getBaseAxis(),n="x"===e.dim||"radius"===e.dim?0:1,o=[],a=0;a<t.length-1;a++){var r=t[a+1],s=t[a];o.push(s);var l=[];switch(i){case"end":l[n]=r[n],l[1-n]=s[1-n],o.push(l);break;case"middle":var h=(s[n]+r[n])/2,u=[];l[n]=u[n]=h,l[1-n]=s[1-n],u[1-n]=r[1-n],o.push(l),o.push(u);break;default:l[n]=s[n],l[1-n]=r[1-n],o.push(l)}}return t[a]&&o.push(t[a]),o}function Xp(t,e,i){var n=t.get("showAllSymbol"),t="auto"===n;if(!n||t){i=i.getAxesByScale("ordinal")[0];if(i&&(!t||!function(t,e){var i=t.getExtent(),n=Math.abs(i[1]-i[0])/t.scale.count();isNaN(n)&&(n=0);for(var o=e.count(),a=Math.max(1,Math.round(o/5)),r=0;r<o;r+=a)if(1.5*cp.getSymbolSize(e,r)[t.isHorizontal()?1:0]>n)return!1;return!0}(i,e))){var o=e.mapDimension(i.dim),a={};return L(i.getViewLabels(),function(t){a[t.tickValue]=1}),function(t){return!a.hasOwnProperty(e.get(o,t))}}}}function Up(t,e,i){if("cartesian2d"!==t.type)return Vp(t,e,i);var n=t.getBaseAxis().isHorizontal(),t=Bp(t,e,i);return i.get("clip",!0)||(e=t.shape,i=Math.max(e.width,e.height),n?(e.y-=i,e.height+=2*i):(e.x-=i,e.width+=2*i)),t}Mu.extend({type:"line",init:function(){var t=new yi,e=new _p;this.group.add(e.group),this._symbolDraw=e,this._lineGroup=t},render:function(t,e,i){var n=t.coordinateSystem,o=this.group,a=t.getData(),r=t.getModel("lineStyle"),s=t.getModel("areaStyle"),l=a.mapArray(a.getItemLayout),h="polar"===n.type,u=this._coordSys,c=this._symbolDraw,d=this._polyline,f=this._polygon,p=this._lineGroup,g=t.get("animation"),m=!s.isEmpty(),v=s.get("origin"),y=function(t,e,i){if(!i.valueDim)return[];for(var n=[],o=0,a=e.count();o<a;o++)n.push(Ip(i,t,e,o));return n}(n,a,Mp(n,a,v)),x=t.get("showSymbol"),_=x&&!h&&Xp(t,a,n),w=this._data;w&&w.eachItemGraphicEl(function(t,e){t.__temp&&(o.remove(t),w.setItemGraphicEl(e,null))}),x||c.remove(),o.add(p);var b,h=!h&&t.get("step");n&&n.getArea&&t.get("clip",!0)&&(null!=(b=n.getArea()).width?(b.x-=.1,b.y-=.1,b.width+=.2,b.height+=.2):b.r0&&(b.r0-=.5,b.r1+=.5)),this._clipShapeForSymbol=b,d&&u.type===n.type&&h===this._step?(m&&!f?f=this._newPolygon(l,y,n,g):f&&!m&&(p.remove(f),f=this._polygon=null),p.setClipPath(Up(n,!1,t)),x&&c.updateData(a,{isIgnore:_,clipShape:b}),a.eachItemGraphicEl(function(t){t.stopAnimation(!0)}),Hp(this._stackedOnPoints,y)&&Hp(this._points,l)||(g?this._updateAnimation(a,y,n,i,h,v):(h&&(l=Zp(l,n,h),y=Zp(y,n,h)),d.setShape({points:l}),f&&f.setShape({points:l,stackedOnPoints:y})))):(x&&c.updateData(a,{isIgnore:_,clipShape:b}),h&&(l=Zp(l,n,h),y=Zp(y,n,h)),d=this._newPolyline(l,n,g),m&&(f=this._newPolygon(l,y,n,g)),p.setClipPath(Up(n,!0,t)));g=function(t,e){var i=t.getVisual("visualMeta");if(i&&i.length&&t.count()&&"cartesian2d"===e.type){for(var n,o=i.length-1;0<=o;o--){var a,r=i[o].dimension,r=t.dimensions[r],r=t.getDimensionInfo(r);if("x"===(a=r&&r.coordDim)||"y"===a){n=i[o];break}}if(n){var s=e.getAxis(a),l=S(n.stops,function(t){return{coord:s.toGlobalCoord(s.dataToCoord(t.value)),color:t.color}}),h=l.length,u=n.outerColors.slice();h&&l[0].coord>l[h-1].coord&&(l.reverse(),u.reverse());var c=l[0].coord-10,e=l[h-1].coord+10,d=e-c;if(d<.001)return"transparent";L(l,function(t){t.offset=(t.coord-c)/d}),l.push({offset:h?l[h-1].offset:.5,color:u[1]||"transparent"}),l.unshift({offset:h?l[0].offset:.5,color:u[0]||"transparent"});l=new Wr(0,0,0,0,l,!0);return l[a]=c,l[a+"2"]=e,l}}}(a,n)||a.getVisual("color");d.useStyle(D(r.getLineStyle(),{fill:"none",stroke:g,lineJoin:"bevel"}));p=t.get("smooth"),p=Gp(t.get("smooth"));d.setShape({smooth:p,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")}),f&&(r=a.getCalculationInfo("stackedOnSeries"),d=0,f.useStyle(D(s.getAreaStyle(),{fill:g,opacity:.7,lineJoin:"bevel"})),r&&(d=Gp(r.get("smooth"))),f.setShape({smooth:p,stackedOnSmooth:d,smoothMonotone:t.get("smoothMonotone"),connectNulls:t.get("connectNulls")})),this._data=a,this._coordSys=n,this._stackedOnPoints=y,this._points=l,this._step=h,this._valueOrigin=v},dispose:function(){},highlight:function(t,e,i,n){var o=t.getData(),a=ko(o,n);if(!(a instanceof Array)&&null!=a&&0<=a){var r=o.getItemGraphicEl(a);if(!r){var s=o.getItemLayout(a);if(!s)return;if(this._clipShapeForSymbol&&!this._clipShapeForSymbol.contain(s[0],s[1]))return;(r=new cp(o,a)).position=s,r.setZ(t.get("zlevel"),t.get("z")),r.ignore=isNaN(s[0])||isNaN(s[1]),r.__temp=!0,o.setItemGraphicEl(a,r),r.stopSymbolAnimation(!0),this.group.add(r)}r.highlight()}else Mu.prototype.highlight.call(this,t,e,i,n)},downplay:function(t,e,i,n){var o,a=t.getData(),r=ko(a,n);null!=r&&0<=r?(o=a.getItemGraphicEl(r))&&(o.__temp?(a.setItemGraphicEl(r,null),this.group.remove(o)):o.downplay()):Mu.prototype.downplay.call(this,t,e,i,n)},_newPolyline:function(t){var e=this._polyline;return e&&this._lineGroup.remove(e),e=new Ep({shape:{points:t},silent:!0,z2:10}),this._lineGroup.add(e),this._polyline=e},_newPolygon:function(t,e){var i=this._polygon;return i&&this._lineGroup.remove(i),i=new Np({shape:{points:t,stackedOnPoints:e},silent:!0}),this._lineGroup.add(i),this._polygon=i},_updateAnimation:function(t,e,i,n,o,a){var r=this._polyline,s=this._polygon,l=t.hostModel,h=function(t,e,i,n,o,a,r,s){for(var l,h,u=(l=t,h=[],e.diff(l).add(function(t){h.push({cmd:"+",idx:t})}).update(function(t,e){h.push({cmd:"=",idx:e,idx1:t})}).remove(function(t){h.push({cmd:"-",idx:t})}).execute(),h),c=[],d=[],f=[],p=[],g=[],m=[],v=[],y=Mp(o,e,r),x=Mp(a,t,s),_=0;_<u.length;_++){var w=u[_],b=!0;switch(w.cmd){case"=":var S=t.getItemLayout(w.idx),M=e.getItemLayout(w.idx1);(isNaN(S[0])||isNaN(S[1]))&&(S=M.slice()),c.push(S),d.push(M),f.push(i[w.idx]),p.push(n[w.idx1]),v.push(e.getRawIndex(w.idx1));break;case"+":var I=w.idx;c.push(o.dataToPoint([e.get(y.dataDimsForPoint[0],I),e.get(y.dataDimsForPoint[1],I)])),d.push(e.getItemLayout(I).slice()),f.push(Ip(y,o,e,I)),p.push(n[I]),v.push(e.getRawIndex(I));break;case"-":I=w.idx,M=t.getRawIndex(I);M!==I?(c.push(t.getItemLayout(I)),d.push(a.dataToPoint([t.get(x.dataDimsForPoint[0],I),t.get(x.dataDimsForPoint[1],I)])),f.push(i[I]),p.push(Ip(x,a,t,I)),v.push(M)):b=!1}b&&(g.push(w),m.push(m.length))}m.sort(function(t,e){return v[t]-v[e]});for(var T=[],A=[],C=[],D=[],k=[],_=0;_<m.length;_++){I=m[_];T[_]=c[I],A[_]=d[I],C[_]=f[I],D[_]=p[I],k[_]=g[I]}return{current:T,next:A,stackedOnCurrent:C,stackedOnNext:D,status:k}}(this._data,t,this._stackedOnPoints,e,this._coordSys,i,this._valueOrigin,a),u=h.current,c=h.stackedOnCurrent,e=h.next,a=h.stackedOnNext;if(o&&(u=Zp(h.current,i,o),c=Zp(h.stackedOnCurrent,i,o),e=Zp(h.next,i,o),a=Zp(h.stackedOnNext,i,o)),3e3<Wp(u,e)||s&&3e3<Wp(c,a))return r.setShape({points:e}),void(s&&s.setShape({points:e,stackedOnPoints:a}));r.shape.__points=h.current,r.shape.points=u,zs(r,{shape:{points:e}},l),s&&(s.setShape({points:u,stackedOnPoints:c}),zs(s,{shape:{points:e,stackedOnPoints:a}},l));for(var d,f=[],p=h.status,g=0;g<p.length;g++)"="!==p[g].cmd||(d=t.getItemGraphicEl(p[g].idx1))&&f.push({el:d,ptIdx:g});r.animators&&r.animators.length&&r.animators[0].during(function(){for(var t=0;t<f.length;t++)f[t].el.attr("position",r.shape.__points[f[t].ptIdx])})},remove:function(t){var i=this.group,n=this._data;this._lineGroup.removeAll(),this._symbolDraw.remove(!0),n&&n.eachItemGraphicEl(function(t,e){t.__temp&&(i.remove(t),n.setItemGraphicEl(e,null))}),this._polyline=this._polygon=this._coordSys=this._points=this._stackedOnPoints=this._data=null}});function Yp(t,e){return Math.round(t.length/2)}var qp={average:function(t){for(var e=0,i=0,n=0;n<t.length;n++)isNaN(t[n])||(e+=t[n],i++);return 0===i?NaN:e/i},sum:function(t){for(var e=0,i=0;i<t.length;i++)e+=t[i]||0;return e},max:function(t){for(var e=-1/0,i=0;i<t.length;i++)t[i]>e&&(e=t[i]);return isFinite(e)?e:NaN},min:function(t){for(var e=1/0,i=0;i<t.length;i++)t[i]<e&&(e=t[i]);return isFinite(e)?e:NaN},nearest:function(t){return t[0]}};function jp(t){return this._axes[t]}function Kp(t){this._axes={},this._dimList=[],this.name=t||""}function $p(t){Kp.call(this,t)}Kp.prototype={constructor:Kp,type:"cartesian",getAxis:function(t){return this._axes[t]},getAxes:function(){return S(this._dimList,jp,this)},getAxesByScale:function(e){return e=e.toLowerCase(),I(this.getAxes(),function(t){return t.scale.type===e})},addAxis:function(t){var e=t.dim;this._axes[e]=t,this._dimList.push(e)},dataToCoord:function(t){return this._dataCoordConvert(t,"dataToCoord")},coordToData:function(t){return this._dataCoordConvert(t,"coordToData")},_dataCoordConvert:function(t,e){for(var i=this._dimList,n=t instanceof Array?[]:{},o=0;o<i.length;o++){var a=i[o],r=this._axes[a];n[a]=r[e](t[a])}return n}},$p.prototype={constructor:$p,type:"cartesian2d",dimensions:["x","y"],getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAxis("x")},containPoint:function(t){var e=this.getAxis("x"),i=this.getAxis("y");return e.contain(e.toLocalCoord(t[0]))&&i.contain(i.toLocalCoord(t[1]))},containData:function(t){return this.getAxis("x").containData(t[0])&&this.getAxis("y").containData(t[1])},dataToPoint:function(t,e,i){var n=this.getAxis("x"),o=this.getAxis("y");return(i=i||[])[0]=n.toGlobalCoord(n.dataToCoord(t[0])),i[1]=o.toGlobalCoord(o.dataToCoord(t[1])),i},clampData:function(t,e){var i=this.getAxis("x").scale,n=this.getAxis("y").scale,o=i.getExtent(),a=n.getExtent(),i=i.parse(t[0]),t=n.parse(t[1]);return(e=e||[])[0]=Math.min(Math.max(Math.min(o[0],o[1]),i),Math.max(o[0],o[1])),e[1]=Math.min(Math.max(Math.min(a[0],a[1]),t),Math.max(a[0],a[1])),e},pointToData:function(t,e){var i=this.getAxis("x"),n=this.getAxis("y");return(e=e||[])[0]=i.coordToData(i.toLocalCoord(t[0])),e[1]=n.coordToData(n.toLocalCoord(t[1])),e},getOtherAxis:function(t){return this.getAxis("x"===t.dim?"y":"x")},getArea:function(){var t=this.getAxis("x").getGlobalExtent(),e=this.getAxis("y").getGlobalExtent(),i=Math.min(t[0],t[1]),n=Math.min(e[0],e[1]);return new vi(i,n,Math.max(t[0],t[1])-i,Math.max(e[0],e[1])-n)}},w($p,Kp);function Qp(t,e,i,n,o){ap.call(this,t,e,i),this.type=n||"value",this.position=o||"bottom"}Qp.prototype={constructor:Qp,index:0,getAxesOnZeroOf:null,model:null,isHorizontal:function(){var t=this.position;return"top"===t||"bottom"===t},getGlobalExtent:function(t){var e=this.getExtent();return e[0]=this.toGlobalCoord(e[0]),e[1]=this.toGlobalCoord(e[1]),t&&e[0]>e[1]&&e.reverse(),e},getOtherAxis:function(){this.grid.getOtherAxis()},pointToData:function(t,e){return this.coordToData(this.toLocalCoord(t["x"===this.dim?0:1]),e)},toLocalCoord:null,toGlobalCoord:null},w(Qp,ap);var Zn={show:!0,zlevel:0,z:0,inverse:!1,name:"",nameLocation:"end",nameRotate:null,nameTruncate:{maxWidth:null,ellipsis:"...",placeholder:"."},nameTextStyle:{},nameGap:15,silent:!1,triggerEvent:!1,tooltip:{show:!1},axisPointer:{},axisLine:{show:!0,onZero:!0,onZeroAxisIndex:null,lineStyle:{color:"#333",width:1,type:"solid"},symbol:["none","none"],symbolSize:[10,15]},axisTick:{show:!0,inside:!1,length:5,lineStyle:{width:1}},axisLabel:{show:!0,inside:!1,rotate:0,showMinLabel:null,showMaxLabel:null,margin:8,fontSize:12},splitLine:{show:!0,lineStyle:{color:["#ccc"],width:1,type:"solid"}},splitArea:{show:!1,areaStyle:{color:["rgba(250,250,250,0.3)","rgba(200,200,200,0.3)"]}}},Jp={};Jp.categoryAxis=g({boundaryGap:!0,deduplication:null,splitLine:{show:!1},axisTick:{alignWithLabel:!1,interval:"auto"},axisLabel:{interval:"auto"}},Zn),Jp.valueAxis=g({boundaryGap:[0,0],splitNumber:5,minorTick:{show:!1,splitNumber:5,length:3,lineStyle:{}},minorSplitLine:{show:!1,lineStyle:{color:"#eee",width:1}}},Zn),Jp.timeAxis=D({scale:!0,min:"dataMin",max:"dataMax"},Jp.valueAxis),Jp.logAxis=D({scale:!0,logBase:10},Jp.valueAxis);var tg=["value","category","time","log"],ye=function(a,t,r,e){L(tg,function(o){t.extend({type:a+"Axis."+o,mergeDefaultAndTheme:function(t,e){var i=this.layoutMode,n=i?Nl(t):{};g(t,e.getTheme().get(o+"Axis")),g(t,this.getDefaultOption()),t.type=r(a,t),i&&El(t,n,i)},optionUpdated:function(){"category"===this.option.type&&(this.__ordinalMeta=Yd.createByAxisModel(this))},getCategories:function(t){var e=this.option;if("category"===e.type)return t?e.data:this.__ordinalMeta.categories},getOrdinalMeta:function(){return this.__ordinalMeta},defaultOption:p([{},Jp[o+"Axis"],e],!0)})}),Wl.registerSubTypeDefaulter(a+"Axis",k(r,a))},eg=Wl.extend({type:"cartesian2dAxis",axis:null,init:function(){eg.superApply(this,"init",arguments),this.resetRange()},mergeOption:function(){eg.superApply(this,"mergeOption",arguments),this.resetRange()},restoreData:function(){eg.superApply(this,"restoreData",arguments),this.resetRange()},getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"grid",index:this.option.gridIndex,id:this.option.gridId})[0]}});function ig(t,e){return e.type||(e.data?"category":"value")}g(eg.prototype,Vf);Zn={offset:0};function ng(t,e){return t.getCoordSysModel()===e}function og(t,e,i){this._coordsMap={},this._coordsList=[],this._axesMap={},this._axesList=[],this._initCartesian(t,e,i),this.model=t}ye("x",eg,ig,Zn),ye("y",eg,ig,Zn),Wl.extend({type:"grid",dependencies:["xAxis","yAxis"],layoutMode:"box",coordinateSystem:null,defaultOption:{show:!1,zlevel:0,z:0,left:"10%",top:60,right:"10%",bottom:60,containLabel:!1,backgroundColor:"rgba(0,0,0,0)",borderWidth:1,borderColor:"#ccc"}});Zn=og.prototype;function ag(t,e,i,n){i.getAxesOnZeroOf=function(){return o?[o]:[]};var o,a=t[e],e=i.model,i=e.get("axisLine.onZero"),e=e.get("axisLine.onZeroAxisIndex");if(i){if(null!=e)rg(a[e])&&(o=a[e]);else for(var r in a)if(a.hasOwnProperty(r)&&rg(a[r])&&!n[s(a[r])]){o=a[r];break}o&&(n[s(o)]=!0)}function s(t){return t.dim+"_"+t.index}}function rg(t){return t&&"category"!==t.type&&"time"!==t.type&&(e=(t=(e=t).scale.getExtent())[0],t=t[1],!(0<e&&0<t||e<0&&t<0));var e}Zn.type="grid",Zn.axisPointerEnabled=!0,Zn.getRect=function(){return this._rect},Zn.update=function(t,e){var i=this._axesMap;this._updateScale(t,this.model),L(i.x,function(t){Pf(t.scale,t.model)}),L(i.y,function(t){Pf(t.scale,t.model)});var n={};L(i.x,function(t){ag(i,"y",t,n)}),L(i.y,function(t){ag(i,"x",t,n)}),this.resize(this.model,e)},Zn.resize=function(t,e,i){var r=Rl(t.getBoxLayoutParams(),{width:e.getWidth(),height:e.getHeight()});this._rect=r;var n=this._axesList;function o(){L(n,function(t){var e,i,n=t.isHorizontal(),o=n?[0,r.width]:[0,r.height],a=t.inverse?1:0;t.setExtent(o[a],o[1-a]),t=t,e=n?r.x:r.y,n=t.getExtent(),i=n[0]+n[1],t.toGlobalCoord="x"===t.dim?function(t){return t+e}:function(t){return i-t+e},t.toLocalCoord="x"===t.dim?function(t){return t-e}:function(t){return i-t+e}})}o(),!i&&t.get("containLabel")&&(L(n,function(t){var e,i,n;t.model.get("axisLabel.inside")||(e=Ef(t))&&(i=t.isHorizontal()?"height":"width",n=t.model.get("axisLabel.margin"),r[i]-=e[i]+n,"top"===t.position?r.y+=e.height+n:"left"===t.position&&(r.x+=e.width+n))}),o())},Zn.getAxis=function(t,e){var i=this._axesMap[t];if(null!=i){if(null==e)for(var n in i)if(i.hasOwnProperty(n))return i[n];return i[e]}},Zn.getAxes=function(){return this._axesList.slice()},Zn.getCartesian=function(t,e){if(null!=t&&null!=e){var i="x"+t+"y"+e;return this._coordsMap[i]}E(t)&&(e=t.yAxisIndex,t=t.xAxisIndex);for(var n=0,o=this._coordsList;n<o.length;n++)if(o[n].getAxis("x").index===t||o[n].getAxis("y").index===e)return o[n]},Zn.getCartesians=function(){return this._coordsList.slice()},Zn.convertToPixel=function(t,e,i){e=this._findConvertTarget(t,e);return e.cartesian?e.cartesian.dataToPoint(i):e.axis?e.axis.toGlobalCoord(e.axis.dataToCoord(i)):null},Zn.convertFromPixel=function(t,e,i){e=this._findConvertTarget(t,e);return e.cartesian?e.cartesian.pointToData(i):e.axis?e.axis.coordToData(e.axis.toLocalCoord(i)):null},Zn._findConvertTarget=function(t,e){var i,n,o=e.seriesModel,a=e.xAxisModel||o&&o.getReferringComponents("xAxis")[0],r=e.yAxisModel||o&&o.getReferringComponents("yAxis")[0],s=e.gridModel,e=this._coordsList;return o?_(e,i=o.coordinateSystem)<0&&(i=null):a&&r?i=this.getCartesian(a.componentIndex,r.componentIndex):a?n=this.getAxis("x",a.componentIndex):r?n=this.getAxis("y",r.componentIndex):s&&s.coordinateSystem===this&&(i=this._coordsList[0]),{cartesian:i,axis:n}},Zn.containPoint=function(t){var e=this._coordsList[0];if(e)return e.containPoint(t)},Zn._initCartesian=function(a,t,e){var r={left:!1,right:!1,top:!1,bottom:!1},s={x:{},y:{}},l={x:0,y:0};if(t.eachComponent("xAxis",i("x"),this),t.eachComponent("yAxis",i("y"),this),!l.x||!l.y)return this._axesMap={},void(this._axesList=[]);function i(o){return function(t,e){var i,n;ng(t,a)&&(n=t.get("position"),"x"===o?"top"!==n&&"bottom"!==n&&(n=r.bottom?"top":"bottom"):"left"!==n&&"right"!==n&&(n=r.left?"right":"left"),r[n]=!0,n="category"===(i=new Qp(o,Of(t),[0,0],t.get("type"),n)).type,i.onBand=n&&t.get("boundaryGap"),i.inverse=t.get("inverse"),(t.axis=i).model=t,i.grid=this,i.index=e,this._axesList.push(i),s[o][e]=i,l[o]++)}}L((this._axesMap=s).x,function(n,o){L(s.y,function(t,e){var i="x"+o+"y"+e,e=new $p(i);e.grid=this,e.model=a,this._coordsMap[i]=e,this._coordsList.push(e),e.addAxis(n),e.addAxis(t)},this)},this)},Zn._updateScale=function(t,o){function a(e,i){L(e.mapDimension(i.dim,!0),function(t){i.scale.unionExtentFromData(e,Zd(e,t))})}L(this._axesList,function(t){t.scale.setExtent(1/0,-1/0)}),t.eachSeries(function(t){var e,i,n;hg(t)&&(e=(n=lg(t))[0],i=n[1],ng(e,o)&&ng(i,o)&&(n=this.getCartesian(e.componentIndex,i.componentIndex),e=t.getData(),i=n.getAxis("x"),n=n.getAxis("y"),"list"===e.type&&(a(e,i),a(e,n))))},this)},Zn.getTooltipAxes=function(i){var n=[],o=[];return L(this.getCartesians(),function(t){var e=null!=i&&"auto"!==i?t.getAxis(i):t.getBaseAxis(),t=t.getOtherAxis(e);_(n,e)<0&&n.push(e),_(o,t)<0&&o.push(t)}),{baseAxes:n,otherAxes:o}};var sg=["xAxis","yAxis"];function lg(e){return S(sg,function(t){return e.getReferringComponents(t)[0]})}function hg(t){return"cartesian2d"===t.get("coordinateSystem")}og.create=function(n,o){var a=[];return n.eachComponent("grid",function(t,e){var i=new og(t,n,o);i.name="grid_"+e,i.resize(t,o,!0),t.coordinateSystem=i,a.push(i)}),n.eachSeries(function(t){var e,i,n;hg(t)&&(e=(n=lg(t))[0],i=n[1],n=e.getCoordSysModel().coordinateSystem,t.coordinateSystem=n.getCartesian(e.componentIndex,i.componentIndex))}),a},og.dimensions=og.prototype.dimensions=$p.prototype.dimensions,yh.register("cartesian2d",og);function ug(t,e){this.opt=e,this.axisModel=t,D(e,{labelOffset:0,nameDirection:1,tickDirection:1,labelDirection:1,silent:!0}),this.group=new yi,(e=new yi({position:e.position.slice(),rotation:e.rotation})).updateTransform(),this._transform=e.transform,this._dumbGroup=e}var cg=Math.PI;ug.prototype={constructor:ug,hasBuilder:function(t){return!!dg[t]},add:function(t){dg[t].call(this)},getGroup:function(){return this.group}};var dg={axisLine:function(){var n,t,o,a,e,r,s,l=this.opt,i=this.axisModel;i.get("axisLine.show")&&(t=this.axisModel.axis.getExtent(),e=this._transform,n=[t[0],0],t=[t[1],0],e&&(yt(n,n,e),yt(t,t,e)),o=C({lineCap:"round"},i.getModel("axisLine.lineStyle").getLineStyle()),this.group.add(new Nr({anid:"line",subPixelOptimize:!0,shape:{x1:n[0],y1:n[1],x2:t[0],y2:t[1]},style:o,strokeContainThreshold:l.strokeContainThreshold||5,silent:!0,z2:1})),a=i.get("axisLine.symbol"),e=i.get("axisLine.symbolSize"),"number"==typeof(i=i.get("axisLine.symbolOffset")||0)&&(i=[i,i]),null!=a&&("string"==typeof a&&(a=[a,a]),"string"!=typeof e&&"number"!=typeof e||(e=[e,e]),r=e[0],s=e[1],L([{rotate:l.rotation+Math.PI/2,offset:i[0],r:0},{rotate:l.rotation-Math.PI/2,offset:i[1],r:Math.sqrt((n[0]-t[0])*(n[0]-t[0])+(n[1]-t[1])*(n[1]-t[1]))}],function(t,e){var i;"none"!==a[e]&&null!=a[e]&&(i=Zf(a[e],-r/2,-s/2,r,s,o.stroke,!0),e=t.r+t.offset,e=[n[0]+e*Math.cos(l.rotation),n[1]-e*Math.sin(l.rotation)],i.attr({rotation:t.rotate,position:e,silent:!0,z2:11}),this.group.add(i))},this)))},axisTickLabel:function(){var t=this.axisModel,e=this.opt,i=function(t,e,i){var n=e.axis,o=e.getModel("axisTick");if(!o.get("show")||n.scale.isBlank())return;for(var a=o.getModel("lineStyle"),o=i.tickDirection*o.get("length"),r=xg(n.getTicksCoords(),t._transform,o,D(a.getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")}),"ticks"),s=0;s<r.length;s++)t.group.add(r[s]);return r}(this,t,e);!function(t,e,i){if(Bf(t.axis))return;var n=t.get("axisLabel.showMinLabel"),o=t.get("axisLabel.showMaxLabel");i=i||[];var a=(e=e||[])[0],r=e[1],s=e[e.length-1],l=e[e.length-2],h=i[0],t=i[1],e=i[i.length-1],i=i[i.length-2];!1===n?(mg(a),mg(h)):vg(a,r)&&(n?(mg(r),mg(t)):(mg(a),mg(h)));!1===o?(mg(s),mg(e)):vg(l,s)&&(o?(mg(l),mg(i)):(mg(s),mg(e)))}(t,function(s,l,h){var u=l.axis;if(!H(h.axisLabelShow,l.get("axisLabel.show"))||u.scale.isBlank())return;var c=l.getModel("axisLabel"),d=c.get("margin"),t=u.getViewLabels(),e=(H(h.labelRotate,c.get("rotate"))||0)*cg/180,f=pg(h.rotation,e,h.labelDirection),p=l.getCategories&&l.getCategories(!0),g=[],m=gg(l),v=l.get("triggerEvent");return L(t,function(t,e){var i=t.tickValue,n=t.formattedLabel,o=t.rawLabel,a=c;p&&p[i]&&p[i].textStyle&&(a=new Ys(p[i].textStyle,c,l.ecModel));var r=a.getTextColor()||l.get("axisLine.lineStyle.color"),t=[u.dataToCoord(i),h.labelOffset+h.labelDirection*d],t=new wr({anid:"label_"+i,position:t,rotation:f.rotation,silent:m,z2:10});Ts(t.style,a,{text:n,textAlign:a.getShallow("align",!0)||f.textAlign,textVerticalAlign:a.getShallow("verticalAlign",!0)||a.getShallow("baseline",!0)||f.textVerticalAlign,textFill:"function"==typeof r?r("category"===u.type?o:"value"===u.type?i+"":i,e):r}),v&&(t.eventData=fg(l),t.eventData.targetType="axisLabel",t.eventData.value=o),s._dumbGroup.add(t),t.updateTransform(),g.push(t),s.group.add(t),t.decomposeTransform()}),g}(this,t,e),i),function(t,e,i){var n=e.axis,o=e.getModel("minorTick");if(!o.get("show")||n.scale.isBlank())return;var a=n.getMinorTicksCoords();if(!a.length)return;for(var n=o.getModel("lineStyle"),r=i.tickDirection*o.get("length"),s=D(n.getLineStyle(),D(e.getModel("axisTick").getLineStyle(),{stroke:e.get("axisLine.lineStyle.color")})),l=0;l<a.length;l++)for(var h=xg(a[l],t._transform,r,s,"minorticks_"+l),u=0;u<h.length;u++)t.group.add(h[u])}(this,t,e)},axisName:function(){var t,e,i,n,o,a,r,s,l=this.opt,h=this.axisModel,u=H(l.axisName,h.get("name"));u&&(o=h.get("nameLocation"),t=l.nameDirection,e=h.getModel("nameTextStyle"),s=h.get("nameGap")||0,i=(r=this.axisModel.axis.getExtent())[0]>r[1]?-1:1,i=["start"===o?r[0]-i*s:"end"===o?r[1]+i*s:(r[0]+r[1])/2,yg(o)?l.labelOffset+t*s:0],null!=(s=h.get("nameRotate"))&&(s=s*cg/180),yg(o)?n=pg(l.rotation,null!=s?s:l.rotation,t):(n=function(t,e,i,n){var o,t=sl(i-t.rotation),n=n[0]>n[1],n="start"===e&&!n||"start"!==e&&n;n=ll(t-cg/2)?(o=n?"bottom":"top","center"):ll(t-1.5*cg)?(o=n?"top":"bottom","center"):(o="middle",t<1.5*cg&&cg/2<t?n?"left":"right":n?"right":"left");return{rotation:t,textAlign:n,textVerticalAlign:o}}(l,o,s||0,r),null!=(a=l.axisNameAvailableWidth)&&(a=Math.abs(a/Math.sin(n.rotation)),isFinite(a)||(a=null))),o=e.getFont(),r=(s=h.get("nameTruncate",!0)||{}).ellipsis,l=H(l.nameTruncateMaxWidth,s.maxWidth,a),a=null!=r&&null!=l?Cl(u,l,o,r,{minChar:2,placeholder:s.placeholder}):u,l=h.get("tooltip",!0),(s={componentType:r=h.mainType,name:u,$vars:["name"]})[r+"Index"]=h.componentIndex,Ts((l=new wr({anid:"name",__fullText:u,__truncatedText:a,position:i,rotation:n.rotation,silent:gg(h),z2:1,tooltip:l&&l.show?C({content:u,formatter:function(){return u},formatterParams:s},l):null})).style,e,{text:a,textFont:o,textFill:e.getTextColor()||h.get("axisLine.lineStyle.color"),textAlign:e.get("align")||n.textAlign,textVerticalAlign:e.get("verticalAlign")||n.textVerticalAlign}),h.get("triggerEvent")&&(l.eventData=fg(h),l.eventData.targetType="axisName",l.eventData.name=u),this._dumbGroup.add(l),l.updateTransform(),this.group.add(l),l.decomposeTransform())}},fg=ug.makeAxisEventDataBase=function(t){var e={componentType:t.mainType,componentIndex:t.componentIndex};return e[t.mainType+"Index"]=t.componentIndex,e},pg=ug.innerTextLayout=function(t,e,i){var n,t=sl(e-t),i=ll(t)?(n=0<i?"top":"bottom","center"):ll(t-cg)?(n=0<i?"bottom":"top","center"):(n="middle",0<t&&t<cg?0<i?"right":"left":0<i?"left":"right");return{rotation:t,textAlign:i,textVerticalAlign:n}};var gg=ug.isLabelSilent=function(t){var e=t.get("tooltip");return t.get("silent")||!(t.get("triggerEvent")||e&&e.show)};function mg(t){t&&(t.ignore=!0)}function vg(t,e){var i=t&&t.getBoundingRect().clone(),n=e&&e.getBoundingRect().clone();if(i&&n){var o=te([]);return oe(o,o,-t.rotation),i.applyTransform(ie([],o,t.getLocalTransform())),n.applyTransform(ie([],o,e.getLocalTransform())),i.intersect(n)}}function yg(t){return"middle"===t||"center"===t}function xg(t,e,i,n,o){for(var a=[],r=[],s=[],l=0;l<t.length;l++){var h=t[l].coord;r[0]=h,s[r[1]=0]=h,s[1]=i,e&&(yt(r,r,e),yt(s,s,e));h=new Nr({anid:o+"_"+t[l].tickValue,subPixelOptimize:!0,shape:{x1:r[0],y1:r[1],x2:s[0],y2:s[1]},style:n,z2:2,silent:!0});a.push(h)}return a}var _g=L,wg=k;function bg(t,e){var h,u,o,c,d,f,i={axesInfo:{},seriesInvolved:!1,coordSysAxesInfo:{},coordSysMap:{}};return h=i,e=e,o=(u=t).getComponent("tooltip"),c=u.getComponent("axisPointer"),d=c.get("link",!0)||[],f=[],_g(e.getCoordinateSystems(),function(r){var s,l,t,e,i;function n(t,e,i){var n,o=i.model.getModel("axisPointer",c),a=o.get("show");a&&("auto"!==a||t||Ig(o))&&(null==e&&(e=o.get("triggerTooltip")),n=(o=t?function(t,e,i,n,o,a){var r=e.getModel("axisPointer"),s={};_g(["type","snap","lineStyle","shadowStyle","label","animation","animationDurationUpdate","animationEasingUpdate","z"],function(t){s[t]=A(r.get(t))}),s.snap="category"!==t.type&&!!a,"cross"===r.get("type")&&(s.type="line");e=s.label||(s.label={});null==e.show&&(e.show=!1),"cross"===o&&(o=r.get("label.show"),e.show=null==o||o,a||(a=s.lineStyle=r.get("crossStyle"))&&D(e,a.textStyle));return t.model.getModel("axisPointer",new Ys(s,i,n))}(i,l,c,u,t,e):o).get("snap"),a=Tg(i.model),t=e||n||"category"===i.type,o=h.axesInfo[a]={key:a,axis:i,coordSys:r,axisPointerModel:o,triggerTooltip:e,involveSeries:t,snap:n,useHandle:Ig(o),seriesModels:[]},s[a]=o,h.seriesInvolved|=t,null!=(t=function(t,e){for(var i=e.model,n=e.dim,o=0;o<t.length;o++){var a=t[o]||{};if(Sg(a[n+"AxisId"],i.id)||Sg(a[n+"AxisIndex"],i.componentIndex)||Sg(a[n+"AxisName"],i.name))return o}}(d,i))&&((i=f[t]||(f[t]={axesInfo:{}})).axesInfo[a]=o,i.mapper=d[t].mapper,o.linkGroup=i))}r.axisPointerEnabled&&(i=Tg(r.model),s=h.coordSysAxesInfo[i]={},l=(h.coordSysMap[i]=r).model.getModel("tooltip",o),_g(r.getAxes(),wg(n,!1,null)),r.getTooltipAxes&&o&&l.get("show")&&(t="axis"===l.get("trigger"),e="cross"===l.get("axisPointer.type"),i=r.getTooltipAxes(l.get("axisPointer.axis")),(t||e)&&_g(i.baseAxes,wg(n,!e||"cross",t)),e&&_g(i.otherAxes,wg(n,"cross",!1))))}),i.seriesInvolved&&function(o,t){t.eachSeries(function(i){var n=i.coordinateSystem,t=i.get("tooltip.trigger",!0),e=i.get("tooltip.show",!0);n&&"none"!==t&&!1!==t&&"item"!==t&&!1!==e&&!1!==i.get("axisPointer.show",!0)&&_g(o.coordSysAxesInfo[Tg(n.model)],function(t){var e=t.axis;n.getAxis(e.dim)===e&&(t.seriesModels.push(i),null==t.seriesDataCount&&(t.seriesDataCount=0),t.seriesDataCount+=i.getData().count())})},this)}(i,t),i}function Sg(t,e){return"all"===t||O(t)&&0<=_(t,e)||t===e}function Mg(t){var e=(t.ecModel.getComponent("axisPointer")||{}).coordSysAxesInfo;return e&&e.axesInfo[Tg(t)]}function Ig(t){return!!t.get("handle.show")}function Tg(t){return t.type+"||"+t.id}var Ag=ad({type:"axis",_axisPointer:null,axisPointerClass:null,render:function(t,e,i,n){var o,a,r,s,l,h;!this.axisPointerClass||(h=Mg(o=t))&&(s=h.axisPointerModel,l=h.axis.scale,a=s.option,r=s.get("status"),null!=(o=s.get("value"))&&(o=l.parse(o)),s=Ig(s),null==r&&(a.status=s?"show":"hide"),(l=l.getExtent().slice())[0]>l[1]&&l.reverse(),(null==o||o>l[1])&&(o=l[1]),o<l[0]&&(o=l[0]),a.value=o,s&&(a.status=h.axis.scale.isBlank()?"hide":"show")),Ag.superApply(this,"render",arguments),Cg(this,t,0,i,0,!0)},updateAxisPointer:function(t,e,i,n,o){Cg(this,t,0,i,0,!1)},remove:function(t,e){var i=this._axisPointer;i&&i.remove(e),Ag.superApply(this,"remove",arguments)},dispose:function(t,e){Dg(this,e),Ag.superApply(this,"dispose",arguments)}});function Cg(t,e,i,n,o,a){var r,s=Ag.getAxisPointerClass(t.axisPointerClass);s&&((r=(r=Mg(r=e))&&r.axisPointerModel)?(t._axisPointer||(t._axisPointer=new s)).render(e,r,n,a):Dg(t,n))}function Dg(t,e,i){var n=t._axisPointer;n&&n.dispose(e,i),t._axisPointer=null}var kg=[];function Lg(t,e,i){i=i||{};var n=t.coordinateSystem,o=e.axis,a={},r=o.getAxesOnZeroOf()[0],s=o.position,l=r?"onZero":s,h=o.dim,u=n.getRect(),t=[u.x,u.x+u.width,u.y,u.y+u.height],o={left:0,right:1,top:0,bottom:1,onZero:2},n=e.get("offset")||0,u="x"===h?[t[2]-n,t[3]+n]:[t[0]-n,t[1]+n];r&&(n=r.toGlobalCoord(r.dataToCoord(0)),u[o.onZero]=Math.max(Math.min(n,u[1]),u[0])),a.position=["y"===h?u[o[l]]:t[0],"x"===h?u[o[l]]:t[3]],a.rotation=Math.PI/2*("x"===h?0:1);a.labelDirection=a.tickDirection=a.nameDirection={top:-1,bottom:1,left:-1,right:1}[s],a.labelOffset=r?u[o[s]]-u[o.onZero]:0,e.get("axisTick.inside")&&(a.tickDirection=-a.tickDirection),H(i.labelInside,e.get("axisLabel.inside"))&&(a.labelDirection=-a.labelDirection);e=e.get("axisLabel.rotate");return a.labelRotate="top"===l?-e:e,a.z2=1,a}Ag.registerAxisPointerClass=function(t,e){kg[t]=e},Ag.getAxisPointerClass=function(t){return t&&kg[t]};var Pg,Og,zg,Rg=["axisLine","axisTickLabel","axisName"],Eg=["splitArea","splitLine","minorSplitLine"],Ng=Ag.extend({type:"cartesianAxis",axisPointerClass:"CartesianAxisPointer",render:function(e,t,i,n){this.group.removeAll();var o,a,r=this._axisGroup;this._axisGroup=new yi,this.group.add(this._axisGroup),e.get("show")&&(a=Lg(o=e.getCoordSysModel(),e),a=new ug(e,a),L(Rg,a.add,a),this._axisGroup.add(a.getGroup()),L(Eg,function(t){e.get(t+".show")&&this["_"+t](e,o)},this),Vs(r,this._axisGroup,e),Ng.superCall(this,"render",e,t,i,n))},remove:function(){this.__splitAreaColors=null},_splitLine:function(t,e){var i=t.axis;if(!i.scale.isBlank())for(var n=t.getModel("splitLine"),t=n.getModel("lineStyle"),o=O(o=t.get("color"))?o:[o],a=e.coordinateSystem.getRect(),r=i.isHorizontal(),s=0,l=i.getTicksCoords({tickModel:n}),h=[],u=[],c=t.getLineStyle(),d=0;d<l.length;d++){var f=i.toGlobalCoord(l[d].coord);r?(h[0]=f,h[1]=a.y,u[0]=f,u[1]=a.y+a.height):(h[0]=a.x,h[1]=f,u[0]=a.x+a.width,u[1]=f);var p=s++%o.length,f=l[d].tickValue;this._axisGroup.add(new Nr({anid:null!=f?"line_"+l[d].tickValue:null,subPixelOptimize:!0,shape:{x1:h[0],y1:h[1],x2:u[0],y2:u[1]},style:D({stroke:o[p]},c),silent:!0}))}},_minorSplitLine:function(t,e){var i=t.axis,t=t.getModel("minorSplitLine").getModel("lineStyle"),n=e.coordinateSystem.getRect(),o=i.isHorizontal(),a=i.getMinorTicksCoords();if(a.length)for(var r=[],s=[],l=t.getLineStyle(),h=0;h<a.length;h++)for(var u=0;u<a[h].length;u++){var c=i.toGlobalCoord(a[h][u].coord);o?(r[0]=c,r[1]=n.y,s[0]=c,s[1]=n.y+n.height):(r[0]=n.x,r[1]=c,s[0]=n.x+n.width,s[1]=c),this._axisGroup.add(new Nr({anid:"minor_line_"+a[h][u].tickValue,subPixelOptimize:!0,shape:{x1:r[0],y1:r[1],x2:s[0],y2:s[1]},style:l,silent:!0}))}},_splitArea:function(t,e){!function(t,e,i,n){var o=i.axis;if(!o.scale.isBlank()){var a=i.getModel("splitArea"),i=a.getModel("areaStyle"),r=i.get("color"),s=n.coordinateSystem.getRect(),l=o.getTicksCoords({tickModel:a,clamp:!0});if(l.length){var h=r.length,u=t.__splitAreaColors,c=Q(),d=0;if(u)for(var f=0;f<l.length;f++){var p=u.get(l[f].tickValue);if(null!=p){d=(p+(h-1)*f)%h;break}}for(var g=o.toGlobalCoord(l[0].coord),m=i.getAreaStyle(),r=O(r)?r:[r],f=1;f<l.length;f++){var v,y,x,_,w=o.toGlobalCoord(l[f].coord),g=o.isHorizontal()?(v=g,y=s.y,x=w-v,_=s.height,v+x):(v=s.x,y=g,x=s.width,y+(_=w-y)),w=l[f-1].tickValue;null!=w&&c.set(w,d),e.add(new Rr({anid:null!=w?"area_"+w:null,shape:{x:v,y:y,width:x,height:_},style:D({fill:r[d]},m),silent:!0})),d=(d+1)%h}t.__splitAreaColors=c}}}(this,this._axisGroup,t,e)}});function Bg(t,e){"outside"===t.textPosition&&(t.textPosition=e)}Ng.extend({type:"xAxis"}),Ng.extend({type:"yAxis"}),ad({type:"grid",render:function(t,e){this.group.removeAll(),t.get("show")&&this.group.add(new Rr({shape:t.coordinateSystem.getRect(),style:D({fill:t.get("backgroundColor")},t.getItemStyle()),silent:!0,z2:-1}))}}),$c(function(t){t.xAxis&&t.yAxis&&!t.grid&&(t.grid={})}),ed((Og="circle",zg=Pg="line",{seriesType:Pg,performRawSeries:!0,reset:function(r,t,e){var i=r.getData(),s=r.get("symbol"),l=r.get("symbolSize"),n=r.get("symbolKeepAspect"),h=r.get("symbolRotate"),u=z(s),c=z(l),d=z(h),f=u||c||d,o=!u&&s?s:Og,a=c?null:l;if(i.setVisual({legendSymbol:zg||o,symbol:o,symbolSize:a,symbolKeepAspect:n,symbolRotate:h}),!t.isSeriesFiltered(r))return{dataEach:i.hasItemOption||f?function(t,e){var i,n,o,a;f&&(n=r.getRawValue(e),o=r.getDataParams(e),u&&t.setItemVisual(e,"symbol",s(n,o)),c&&t.setItemVisual(e,"symbolSize",l(n,o)),d&&t.setItemVisual(e,"symbolRotate",h(n,o))),t.hasItemOption&&(i=(a=t.getItemModel(e)).getShallow("symbol",!0),n=a.getShallow("symbolSize",!0),o=a.getShallow("symbolRotate",!0),a=a.getShallow("symbolKeepAspect",!0),null!=i&&t.setItemVisual(e,"symbol",i),null!=n&&t.setItemVisual(e,"symbolSize",n),null!=o&&t.setItemVisual(e,"symbolRotate",o),null!=a&&t.setItemVisual(e,"symbolKeepAspect",a))}:null}}})),td({seriesType:"line",plan:wu(),reset:function(t){var e=t.getData(),u=t.coordinateSystem,c=t.pipelineContext.large;if(u){var d=S(u.dimensions,function(t){return e.mapDimension(t)}).slice(0,2),f=d.length,t=e.getCalculationInfo("stackResultDimension");return Gd(e,d[0])&&(d[0]=t),Gd(e,d[1])&&(d[1]=t),f&&{progress:function(t,e){for(var i,n,o=t.end-t.start,a=c&&new Float32Array(o*f),r=t.start,s=0,l=[],h=[];r<t.end;r++)n=1===f?(i=e.get(d[0],r),!isNaN(i)&&u.dataToPoint(i,null,h)):(i=l[0]=e.get(d[0],r),n=l[1]=e.get(d[1],r),!isNaN(i)&&!isNaN(n)&&u.dataToPoint(l,null,h)),c?(a[s++]=n?n[0]:NaN,a[s++]=n?n[1]:NaN):e.setItemLayout(r,n&&n.slice()||[NaN,NaN]);c&&e.setLayout("symbolPoints",a)}}}}}),Qc(Nn.PROCESSOR.STATISTIC,{seriesType:"line",modifyOutputEnd:!0,reset:function(t,e,i){var n,o,a=t.getData(),r=t.get("sampling"),s=t.coordinateSystem;"cartesian2d"===s.type&&r&&(n=s.getBaseAxis(),s=s.getOtherAxis(n),n=n.getExtent(),n=Math.abs(n[1]-n[0]),1<(n=Math.round(a.count()/n))&&("string"==typeof r?o=qp[r]:"function"==typeof r&&(o=r),o&&t.setData(a.downSample(a.mapDimension(s.dim),1/n,o,Yp))))}}),du.extend({type:"series.__base_bar__",getInitialData:function(t,e){return Xd(this.getSource(),this,{useEncodeDefaulter:!0})},getMarkerPosition:function(t){var e=this.coordinateSystem;if(e){var i=e.dataToPoint(e.clampData(t)),n=this.getData(),t=n.getLayout("offset"),n=n.getLayout("size");return i[e.getBaseAxis().isHorizontal()?0:1]+=t+n/2,i}return[NaN,NaN]},defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,barMinHeight:0,barMinAngle:0,large:!1,largeThreshold:400,progressive:3e3,progressiveChunkMode:"mod",itemStyle:{},emphasis:{}}}).extend({type:"series.bar",dependencies:["grid","polar"],brushSelector:"rect",getProgressive:function(){return!!this.get("large")&&this.get("progressive")},getProgressiveThreshold:function(){var t=this.get("progressiveThreshold"),e=this.get("largeThreshold");return t<e&&(t=e),t},defaultOption:{clip:!0,roundCap:!1,showBackground:!1,backgroundStyle:{color:"rgba(180, 180, 180, 0.2)",borderColor:null,borderWidth:0,borderType:"solid",borderRadius:0,shadowBlur:0,shadowColor:null,shadowOffsetX:0,shadowOffsetY:0,opacity:1}}});var Vg=Uo([["fill","color"],["stroke","borderColor"],["lineWidth","borderWidth"],["stroke","barBorderColor"],["lineWidth","barBorderWidth"],["opacity"],["shadowBlur"],["shadowOffsetX"],["shadowOffsetY"],["shadowColor"]]),Uo={getBarItemStyle:function(t){var e=Vg(this,t);return!this.getBorderLineDash||(t=this.getBorderLineDash())&&(e.lineDash=t),e}},Fg=ts({type:"sausage",shape:{cx:0,cy:0,r0:0,r:0,startAngle:0,endAngle:2*Math.PI,clockwise:!0},buildPath:function(t,e){var i=e.cx,n=e.cy,o=Math.max(e.r0||0,0),a=Math.max(e.r,0),r=.5*(a-o),s=o+r,l=e.startAngle,h=e.endAngle,u=e.clockwise,c=Math.cos(l),d=Math.sin(l),f=Math.cos(h),e=Math.sin(h);(u?h-l<2*Math.PI:l-h<2*Math.PI)&&(t.moveTo(c*o+i,d*o+n),t.arc(c*s+i,d*s+n,r,-Math.PI+l,l,!u)),t.arc(i,n,a,l,h,!u),t.moveTo(f*a+i,e*a+n),t.arc(f*s+i,e*s+n,r,h-2*Math.PI,h-Math.PI,!u),0!==o&&(t.arc(i,n,o,h,l,u),t.moveTo(c*o+i,e*o+n)),t.closePath()}}),Hg=["itemStyle","barBorderWidth"],Wg=[0,0];C(Ys.prototype,Uo),sd({type:"bar",render:function(t,e,i){this._updateDrawMode(t);var n=t.get("coordinateSystem");return"cartesian2d"!==n&&"polar"!==n||(this._isLargeDraw?this._renderLarge(t,e,i):this._renderNormal(t,e,i)),this.group},incrementalPrepareRender:function(t,e,i){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,i,n){this._incrementalRenderLarge(t,e)},_updateDrawMode:function(t){t=t.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(r,t,e){var s,l=this.group,h=r.getData(),u=this._data,c=r.coordinateSystem,i=c.getBaseAxis();"cartesian2d"===c.type?s=i.isHorizontal():"polar"===c.type&&(s="angle"===i.dim);var n,o,d=r.isAnimationEnabled()?r:null,f=r.get("clip",!0),p=(o=h,i=(n=c).getArea&&n.getArea(),"cartesian2d"===n.type&&("category"===(n=n.getBaseAxis()).type&&n.onBand||(o=o.getLayout("bandWidth"),n.isHorizontal()?(i.x-=o,i.width+=2*o):(i.y-=o,i.height+=2*o))),i);l.removeClipPath();function g(t){var e,i,n=jg[c.type](h,t);return(n=(e=s,i=n,new("polar"===(n=c).type?Mr:Rr)({shape:em(e,i,n),silent:!0,z2:0}))).useStyle(y.getBarItemStyle()),"cartesian2d"===c.type&&n.setShape("r",x),_[t]=n}var m=r.get("roundCap",!0),v=r.get("showBackground",!0),y=r.getModel("backgroundStyle"),x=y.get("barBorderRadius")||0,_=[],w=this._backgroundEls||[];h.diff(u).add(function(t){var e=h.getItemModel(t),i=jg[c.type](h,t,e);if(v&&g(t),h.hasValue(t)){if(f)if(Xg[c.type](p,i))return void l.remove(n);var n=Ug[c.type](t,i,s,d,!1,m);h.setItemGraphicEl(t,n),l.add(n),$g(n,h,t,e,i,r,s,"polar"===c.type)}}).update(function(t,e){var i,n,o=h.getItemModel(t),a=jg[c.type](h,t,o);v&&(0===w.length?i=g(e):((i=w[e]).useStyle(y.getBarItemStyle()),"cartesian2d"===c.type&&i.setShape("r",x),_[t]=i),n=jg[c.type](h,t),zs(i,{shape:em(s,n,c)},d,t));e=u.getItemGraphicEl(e);if(h.hasValue(t)){if(f)if(Xg[c.type](p,a))return void l.remove(e);e?zs(e,{shape:a},d,t):e=Ug[c.type](t,a,s,d,!0,m),h.setItemGraphicEl(t,e),l.add(e),$g(e,h,t,o,a,r,s,"polar"===c.type)}else l.remove(e)}).remove(function(t){var e=u.getItemGraphicEl(t);"cartesian2d"===c.type?e&&Yg(t,d,e):e&&qg(t,d,e)}).execute();var a=this._backgroundGroup||(this._backgroundGroup=new yi);a.removeAll();for(var b=0;b<_.length;++b)a.add(_[b]);l.add(a),this._backgroundEls=_,this._data=h},_renderLarge:function(t,e,i){this._clear(),Jg(t,this.group);t=t.get("clip",!0)?Fp(t.coordinateSystem,!1,t):null;t?this.group.setClipPath(t):this.group.removeClipPath()},_incrementalRenderLarge:function(t,e){this._removeBackground(),Jg(e,this.group,!0)},dispose:tt,remove:function(t){this._clear(t)},_clear:function(e){var t=this.group,i=this._data;e&&e.get("animation")&&i&&!this._isLargeDraw?(this._removeBackground(),this._backgroundEls=[],i.eachItemGraphicEl(function(t){("sector"===t.type?qg:Yg)(t.dataIndex,e,t)})):t.removeAll(),this._data=null},_removeBackground:function(){this.group.remove(this._backgroundGroup),this._backgroundGroup=null}});var Gg=Math.max,Zg=Math.min,Xg={cartesian2d:function(t,e){var i=e.width<0?-1:1,n=e.height<0?-1:1;i<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height);var o=Gg(e.x,t.x),a=Zg(e.x+e.width,t.x+t.width),r=Gg(e.y,t.y),t=Zg(e.y+e.height,t.y+t.height);e.x=o,e.y=r,e.width=a-o,e.height=t-r;r=e.width<0||e.height<0;return i<0&&(e.x+=e.width,e.width=-e.width),n<0&&(e.y+=e.height,e.height=-e.height),r},polar:function(t,e){var i=e.r0<=e.r?1:-1;i<0&&(n=e.r,e.r=e.r0,e.r0=n);var n=Zg(e.r,t.r),t=Gg(e.r0,t.r0),t=(e.r=n)-(e.r0=t)<0;return i<0&&(n=e.r,e.r=e.r0,e.r0=n),t}},Ug={cartesian2d:function(t,e,i,n,o){var a,r=new Rr({shape:C({},e),z2:1});return r.name="item",n&&(a=i?"height":"width",i={},r.shape[a]=0,i[a]=e[a],Ws[o?"updateProps":"initProps"](r,{shape:i},n,t)),r},polar:function(t,e,i,n,o,a){var r=e.startAngle<e.endAngle,s=new(!i&&a?Fg:Mr)({shape:D({clockwise:r},e),z2:1});return s.name="item",n&&(a=i?"r":"endAngle",r={},s.shape[a]=i?0:e.startAngle,r[a]=e[a],Ws[o?"updateProps":"initProps"](s,{shape:r},n,t)),s}};function Yg(t,e,i){i.style.text=null,zs(i,{shape:{width:0}},e,t,function(){i.parent&&i.parent.remove(i)})}function qg(t,e,i){i.style.text=null,zs(i,{shape:{r:i.shape.r0}},e,t,function(){i.parent&&i.parent.remove(i)})}var jg={cartesian2d:function(t,e,i){var n,e=t.getItemLayout(e),n=i?(a=e,n=(o=i).get(Hg)||0,o=isNaN(a.width)?Number.MAX_VALUE:Math.abs(a.width),a=isNaN(a.height)?Number.MAX_VALUE:Math.abs(a.height),Math.min(n,o,a)):0,o=0<e.width?1:-1,a=0<e.height?1:-1;return{x:e.x+o*n/2,y:e.y+a*n/2,width:e.width-o*n,height:e.height-a*n}},polar:function(t,e,i){e=t.getItemLayout(e);return{cx:e.cx,cy:e.cy,r0:e.r0,r:e.r,startAngle:e.startAngle,endAngle:e.endAngle}}};function Kg(t){return null!=t.startAngle&&null!=t.endAngle&&t.startAngle===t.endAngle}function $g(t,e,i,n,o,a,r,s){var l=e.getItemVisual(i,"color"),h=e.getItemVisual(i,"opacity"),u=e.getVisual("borderColor"),c=n.getModel("itemStyle"),e=n.getModel("emphasis.itemStyle").getBarItemStyle();s||t.setShape("r",c.get("barBorderRadius")||0),t.useStyle(D({stroke:Kg(o)?"none":u,fill:Kg(o)?"none":l,opacity:h},c.getBarItemStyle()));c=n.getShallow("cursor");c&&t.attr("cursor",c);r?o.height:o.width;s||(r=t.style,s=l,l=a,a=i,Is(r,i=e,(n=n).getModel("label"),n.getModel("emphasis.label"),{labelFetcher:l,labelDataIndex:a,defaultText:up(l.getData(),a),isRectText:!0,autoColor:s}),Bg(r),Bg(i)),Kg(o)&&(e.fill=e.stroke="none"),ws(t,e)}var Qg=nr.extend({type:"largeBar",shape:{points:[]},buildPath:function(t,e){for(var i=e.points,n=this.__startPoint,o=this.__baseDimIdx,a=0;a<i.length;a+=2)n[o]=i[a+o],t.moveTo(n[0],n[1]),t.lineTo(i[a],i[a+1])}});function Jg(t,e,i){var n=t.getData(),o=[],a=n.getLayout("valueAxisHorizontal")?1:0;o[1-a]=n.getLayout("valueAxisStart");var r,s,l,h,u=n.getLayout("largeDataIndices"),c=n.getLayout("barWidth"),d=t.getModel("backgroundStyle");t.get("showBackground",!0)&&(h=n.getLayout("largeBackgroundPoints"),(l=[])[1-a]=n.getLayout("backgroundStart"),r=new Qg({shape:{points:h},incremental:!!i,__startPoint:l,__baseDimIdx:a,__largeDataIndices:u,__barWidth:c,silent:!0,z2:0}),s=r,h=n,d=(l=d).get("borderColor")||l.get("color"),l=l.getItemStyle(["color","borderColor"]),s.useStyle(l),s.style.fill=null,s.style.stroke=d,s.style.lineWidth=h.getLayout("barWidth"),e.add(r));a=new Qg({shape:{points:n.getLayout("largePoints")},incremental:!!i,__startPoint:o,__baseDimIdx:a,__largeDataIndices:u,__barWidth:c});e.add(a),u=a,c=t,n=(e=n).getVisual("borderColor")||e.getVisual("color"),c=c.getModel("itemStyle").getItemStyle(["color","borderColor"]),u.useStyle(c),u.style.fill=null,u.style.stroke=n,u.style.lineWidth=e.getLayout("barWidth"),a.seriesIndex=t.seriesIndex,t.get("silent")||(a.on("mousedown",tm),a.on("mousemove",tm))}var tm=Ou(function(t){t=function(t,e,i){var n=t.__baseDimIdx,o=1-n,a=t.shape.points,r=t.__largeDataIndices,s=Math.abs(t.__barWidth/2),l=t.__startPoint[o];Wg[0]=e,Wg[1]=i;for(var i=Wg[n],h=Wg[1-n],u=i-s,c=i+s,d=0,f=a.length/2;d<f;d++){var p=2*d,g=a[p+n],p=a[p+o];if(u<=g&&g<=c&&(l<=p?l<=h&&h<=p:p<=h&&h<=l))return r[d]}return-1}(this,t.offsetX,t.offsetY);this.dataIndex=0<=t?t:null},30,!1);function em(t,e,i){var n="polar"===i.type,i=n?i.getArea():i.grid.getRect();return n?{cx:i.cx,cy:i.cy,r0:(t?i:e).r0,r:(t?i:e).r,startAngle:t?e.startAngle:0,endAngle:t?e.endAngle:2*Math.PI}:{x:(t?e:i).x,y:(t?i:e).y,width:(t?e:i).width,height:(t?i:e).height}}td(Nn.VISUAL.LAYOUT,k(function(t,e){var T=uf(e=hf(t,e)),A={};L(e,function(t){var e=t.getData(),i=t.coordinateSystem,n=i.getBaseAxis(),o=sf(t),a=T[lf(n)][o],r=a.offset,s=a.width,l=i.getOtherAxis(n),h=t.get("barMinHeight")||0;A[o]=A[o]||[],e.setLayout({bandWidth:a.bandWidth,offset:r,size:s});for(var u=e.mapDimension(l.dim),c=e.mapDimension(n.dim),d=Gd(e,u),f=l.isHorizontal(),p=pf(0,l),g=0,m=e.count();g<m;g++){var v,y,x,_,w,b=e.get(u,g),S=e.get(c,g),M=0<=b?"p":"n",I=p;d&&(A[o][S]||(A[o][S]={p:p,n:p}),I=A[o][S][M]),f?(v=I,y=(w=i.dataToPoint([b,S]))[1]+r,x=w[0]-p,_=s,Math.abs(x)<h&&(x=(x<0?-1:1)*h),isNaN(x)||d&&(A[o][S][M]+=x)):(v=(w=i.dataToPoint([S,b]))[0]+r,y=I,x=s,_=w[1]-p,Math.abs(_)<h&&(_=(_<=0?-1:1)*h),isNaN(_)||d&&(A[o][S][M]+=_)),e.setItemLayout(g,{x:v,y:y,width:x,height:_})}},this)},"bar")),td(Nn.VISUAL.PROGRESSIVE_LAYOUT,ii),ed({seriesType:"bar",reset:function(t){t.getData().setVisual("legendSymbol","roundRect")}});function im(t,e,i){e=O(e)?{coordDimensions:e}:C({},e);var n=t.getSource(),e=Bd(n,e);return(t=new Id(e,t)).initData(n,i),t}Uo={updateSelectedMap:function(t){this._targetList=O(t)?t.slice():[],this._selectTargetMap=M(t||[],function(t,e){return t.set(e.name,e),t},Q())},select:function(t,e){t=null!=e?this._targetList[e]:this._selectTargetMap.get(t);"single"===this.get("selectedMode")&&this._selectTargetMap.each(function(t){t.selected=!1}),t&&(t.selected=!0)},unSelect:function(t,e){t=null!=e?this._targetList[e]:this._selectTargetMap.get(t);t&&(t.selected=!1)},toggleSelected:function(t,e){var i=null!=e?this._targetList[e]:this._selectTargetMap.get(t);if(null!=i)return this[i.selected?"unSelect":"select"](t,e),i.selected},isSelected:function(t,e){t=null!=e?this._targetList[e]:this._selectTargetMap.get(t);return t&&t.selected}};function nm(i,e){this.getAllNames=function(){var t=e();return t.mapArray(t.getName)},this.containName=function(t){return 0<=e().indexOfName(t)},this.indexOfName=function(t){return i().indexOfName(t)},this.getItemVisual=function(t,e){return i().getItemVisual(t,e)}}var om=rd({type:"series.pie",init:function(t){om.superApply(this,"init",arguments),this.legendVisualProvider=new nm(T(this.getData,this),T(this.getRawData,this)),this.updateSelectedMap(this._createSelectableList()),this._defaultLabelLine(t)},mergeOption:function(t){om.superCall(this,"mergeOption",t),this.updateSelectedMap(this._createSelectableList())},getInitialData:function(t,e){return im(this,{coordDimensions:["value"],encodeDefaulter:k(lh,this)})},_createSelectableList:function(){for(var t=this.getRawData(),e=t.mapDimension("value"),i=[],n=0,o=t.count();n<o;n++)i.push({name:t.getName(n),value:t.get(e,n),selected:function(t,e,i){if(t){var n=t.getProvider().getSource().sourceFormat;if(n===Yl||n===jl){e=t.getRawDataItem(e);return n!==Yl||E(e)||(e=null),e?e[i]:void 0}}}(t,n,"selected")});return i},getDataParams:function(t){var e=this.getData(),i=om.superCall(this,"getDataParams",t),n=[];return e.each(e.mapDimension("value"),function(t){n.push(t)}),i.percent=rl(n,t,e.hostModel.get("percentPrecision")),i.$vars.push("percent"),i},_defaultLabelLine:function(t){Mo(t,"labelLine",["show"]);var e=t.labelLine,i=t.emphasis.labelLine;e.show=e.show&&t.label.show,i.show=i.show&&t.emphasis.label.show},defaultOption:{zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,center:["50%","50%"],radius:[0,"75%"],clockwise:!0,startAngle:90,minAngle:0,minShowLabelAngle:0,selectedOffset:10,hoverOffset:10,avoidLabelOverlap:!0,percentPrecision:2,stillShowZeroSum:!0,left:0,top:0,right:0,bottom:0,width:null,height:null,label:{rotate:!1,show:!0,position:"outer",alignTo:"none",margin:"25%",bleedMargin:10,distanceToLabelLine:5},labelLine:{show:!0,length:15,length2:15,smooth:!1,lineStyle:{width:1,type:"solid"}},itemStyle:{borderWidth:1},animationType:"expansion",animationTypeUpdate:"transition",animationEasing:"cubicOut"}});function am(t,e,i,n){var o=e.getData(),a=this.dataIndex,a=o.getName(a),r=e.get("selectedOffset");n.dispatchAction({type:"pieToggleSelect",from:t,name:a,seriesId:e.id}),o.each(function(t){rm(o.getItemGraphicEl(t),o.getItemLayout(t),e.isSelected(o.getName(t)),r,i)})}function rm(t,e,i,n,o){e=(e.startAngle+e.endAngle)/2,n=i?n:0,n=[Math.cos(e)*n,Math.sin(e)*n];o?t.animate().when(200,{position:n}).start("bounceOut"):t.attr("position",n)}function sm(t,e){yi.call(this);var i=new Mr({z2:2}),n=new Dr,o=new wr;this.add(i),this.add(n),this.add(o),this.updateData(t,e,!0)}b(om,Uo);ii=sm.prototype;ii.updateData=function(t,e,i){var n=this.childAt(0),o=this.childAt(1),a=this.childAt(2),r=t.hostModel,s=t.getItemModel(e),l=t.getItemLayout(e),h=C({},l);h.label=null;var u=r.getShallow("animationTypeUpdate");i?(n.setShape(h),"scale"===r.getShallow("animationType")?(n.shape.r=l.r0,Rs(n,{shape:{r:l.r}},r,e)):(n.shape.endAngle=l.startAngle,zs(n,{shape:{endAngle:l.endAngle}},r,e))):"expansion"===u?n.setShape(h):zs(n,{shape:h},r,e);h=t.getItemVisual(e,"color");n.useStyle(D({lineJoin:"bevel",fill:h},s.getModel("itemStyle").getItemStyle())),n.hoverStyle=s.getModel("emphasis.itemStyle").getItemStyle();h=s.getShallow("cursor");h&&n.attr("cursor",h),rm(this,t.getItemLayout(e),r.isSelected(t.getName(e)),r.get("selectedOffset"),r.get("animation"));u=!i&&"transition"===u;this._updateLabel(t,e,u),this.highDownOnUpdate=r.get("silent")?null:function(t,e){var i=r.isAnimationEnabled()&&s.get("hoverAnimation");"emphasis"===e?(o.ignore=o.hoverIgnore,a.ignore=a.hoverIgnore,i&&(n.stopAnimation(!0),n.animateTo({shape:{r:l.r+r.get("hoverOffset")}},300,"elasticOut"))):(o.ignore=o.normalIgnore,a.ignore=a.normalIgnore,i&&(n.stopAnimation(!0),n.animateTo({shape:{r:l.r}},300,"elasticOut")))},ws(this)},ii._updateLabel=function(t,e,i){var n,o,a=this.childAt(1),r=this.childAt(2),s=t.hostModel,l=t.getItemModel(e),h=t.getItemLayout(e).label,u=t.getItemVisual(e,"color");!h||isNaN(h.x)||isNaN(h.y)?r.ignore=r.normalIgnore=r.hoverIgnore=a.ignore=a.normalIgnore=a.hoverIgnore=!0:(n={points:h.linePoints||[[h.x,h.y],[h.x,h.y],[h.x,h.y]]},o={x:h.x,y:h.y},i?(zs(a,{shape:n},s,e),zs(r,{style:o},s,e)):(a.attr({shape:n}),r.attr({style:o})),r.attr({rotation:h.rotation,origin:[h.x,h.y],z2:10}),s=l.getModel("label"),n=l.getModel("emphasis.label"),o=l.getModel("labelLine"),l=l.getModel("emphasis.labelLine"),u=t.getItemVisual(e,"color"),Is(r.style,r.hoverStyle={},s,n,{labelFetcher:t.hostModel,labelDataIndex:e,defaultText:h.text,autoColor:u,useInsideStyle:!!h.inside},{textAlign:h.textAlign,textVerticalAlign:h.verticalAlign,opacity:t.getItemVisual(e,"opacity")}),r.ignore=r.normalIgnore=!s.get("show"),r.hoverIgnore=!n.get("show"),a.ignore=a.normalIgnore=!o.get("show"),a.hoverIgnore=!l.get("show"),a.setStyle({stroke:u,opacity:t.getItemVisual(e,"opacity")}),a.setStyle(o.getModel("lineStyle").getLineStyle()),a.hoverStyle=l.getModel("lineStyle").getLineStyle(),(o=o.get("smooth"))&&!0===o&&(o=.4),a.setShape({smooth:o}))},w(sm,yi);Mu.extend({type:"pie",init:function(){var t=new yi;this._sectorGroup=t},render:function(t,e,i,n){if(!n||n.from!==this.uid){var o=t.getData(),a=this._data,r=this.group,e=e.get("animation"),s=!a,l=t.get("animationType"),h=t.get("animationTypeUpdate"),u=k(am,this.uid,t,e,i),c=t.get("selectedMode");if(o.diff(a).add(function(t){var e=new sm(o,t);s&&"scale"!==l&&e.eachChild(function(t){t.stopAnimation(!0)}),c&&e.on("click",u),o.setItemGraphicEl(t,e),r.add(e)}).update(function(t,e){e=a.getItemGraphicEl(e);s||"transition"===h||e.eachChild(function(t){t.stopAnimation(!0)}),e.updateData(o,t),e.off("click"),c&&e.on("click",u),r.add(e),o.setItemGraphicEl(t,e)}).remove(function(t){t=a.getItemGraphicEl(t);r.remove(t)}).execute(),e&&0<o.count()&&(s?"scale"!==l:"transition"!==h)){for(var d=o.getItemLayout(0),f=1;isNaN(d.startAngle)&&f<o.count();++f)d=o.getItemLayout(f);e=Math.max(i.getWidth(),i.getHeight())/2,i=T(r.removeClipPath,r);r.setClipPath(this._createClipPath(d.cx,d.cy,e,d.startAngle,d.clockwise,i,t,s))}else r.removeClipPath();this._data=o}},dispose:function(){},_createClipPath:function(t,e,i,n,o,a,r,s){i=new Mr({shape:{cx:t,cy:e,r0:0,r:i,startAngle:n,endAngle:n,clockwise:o}});return(s?Rs:zs)(i,{shape:{endAngle:n+(o?1:-1)*Math.PI*2}},r,a),i},containPoint:function(t,e){var i=e.getData().getItemLayout(0);if(i){e=t[0]-i.cx,t=t[1]-i.cy,t=Math.sqrt(e*e+t*t);return t<=i.r&&t>=i.r0}}});var lm=Math.PI/180;function hm(o,t,e,i,n,a,r,s,l,h){function u(t,e){for(var i=t;0<=i&&!(o[i].y-e<l)&&(o[i].y-=e,!(0<i&&o[i].y>o[i-1].y+o[i-1].height));i--);}function c(t,e,i,n,o,a){for(var r,s,l,h=e?Number.MAX_VALUE:0,u=0,c=t.length;u<c;u++)"none"===t[u].labelAlignTo&&(l=Math.abs(t[u].y-n),r=t[u].len,s=t[u].len2,l=l<o+r?Math.sqrt((o+r+s)*(o+r+s)-l*l):Math.abs(t[u].x-i),e&&h<=l&&(l=h-10),!e&&l<=h&&(l=h+10),t[u].x=i+l*a,h=l)}o.sort(function(t,e){return t.y-e.y});for(var d,f=0,p=o.length,g=[],m=[],v=0;v<p;v++)"outer"===o[v].position&&"labelLine"===o[v].labelAlignTo&&(d=o[v].x-h,o[v].linePoints[1][0]+=d,o[v].x=h),(d=o[v].y-f)<0&&function(t,e,i){for(var n=t;n<e&&!(o[n].y+i>l+r);n++)if(o[n].y+=i,t<n&&n+1<e&&o[n+1].y>o[n].y+o[n].height)return u(n,i/2);u(e-1,i/2)}(v,p,-d),f=o[v].y+o[v].height;r-f<0&&u(p-1,f-r);for(v=0;v<p;v++)(o[v].y>=e?m:g).push(o[v]);c(g,!1,t,e,i,n),c(m,!0,t,e,i,n)}function um(t){return"center"===t.position}function cm(S,M,I,t,T,e){var A,C,D=S.getData(),k=[],L=!1,P=(S.get("minShowLabelAngle")||0)*lm;D.each(function(t){var e,i,n,o,a,r,s,l,h,u,c=D.getItemLayout(t),d=D.getItemModel(t),f=d.getModel("label"),p=f.get("position")||d.get("emphasis.label.position"),g=f.get("distanceToLabelLine"),m=f.get("alignTo"),v=tl(f.get("margin"),I),y=f.get("bleedMargin"),x=f.getFont(),_=d.getModel("labelLine"),w=tl(w=_.get("length"),I),b=tl(b=_.get("length2"),I);c.angle<P||(u=(c.startAngle+c.endAngle)/2,e=Math.cos(u),a=Math.sin(u),A=c.cx,C=c.cy,n=nn(i=S.getFormattedLabel(t,"normal")||D.getName(t),x,h,"top"),o="inside"===p||"inner"===p,h="center"===p?(r=c.cx,s=c.cy,"center"):(r=(d=(o?(c.r+c.r0)/2*e:c.r*e)+A)+3*e,s=(_=(o?(c.r+c.r0)/2*a:c.r*a)+C)+3*a,o||(t=d+e*(w+M-c.r),l=_+a*(w+M-c.r),a=t+(e<0?-1:1)*b,r="edge"===m?e<0?T+v:T+I-v:a+(e<0?-g:g),l=[[d,_],[t,s=l],[a,l]]),o?"center":"edge"===m?0<e?"right":"left":0<e?"left":"right"),u="number"==typeof(f=f.get("rotate"))?f*(Math.PI/180):f?e<0?-u+Math.PI:-u:0,L=!!u,c.label={x:r,y:s,position:p,height:n.height,len:w,len2:b,linePoints:l,textAlign:h,verticalAlign:"middle",rotation:u,inside:o,labelDistance:g,labelAlignTo:m,labelMargin:v,bleedMargin:y,textRect:n,text:i,font:x},o||k.push(c.label))}),!L&&S.get("avoidLabelOverlap")&&function(t,e,i,n,o,a,r,s){for(var l=[],h=[],u=Number.MAX_VALUE,c=-Number.MAX_VALUE,d=0;d<t.length;d++)um(t[d])||(t[d].x<e?(u=Math.min(u,t[d].x),l.push(t[d])):(c=Math.max(c,t[d].x),h.push(t[d])));for(hm(h,e,i,n,1,0,a,0,s,c),hm(l,e,i,n,-1,0,a,0,s,u),d=0;d<t.length;d++){var f,p,g,m,v=t[d];um(v)||(f=v.linePoints)&&(p="edge"===v.labelAlignTo,g=v.textRect.width,(m=p?v.x<e?f[2][0]-v.labelDistance-r-v.labelMargin:r+o-v.labelMargin-f[2][0]-v.labelDistance:v.x<e?v.x-r-v.bleedMargin:r+o-v.x-v.bleedMargin)<v.textRect.width&&(v.text=sn(v.text,m,v.font),"edge"===v.labelAlignTo&&(g=en(v.text,v.font))),m=f[1][0]-f[2][0],p?v.x<e?f[2][0]=r+v.labelMargin+g+v.labelDistance:f[2][0]=r+o-v.labelMargin-g-v.labelDistance:(v.x<e?f[2][0]=v.x+v.labelDistance:f[2][0]=v.x-v.labelDistance,f[1][0]=f[2][0]+m),f[1][1]=f[2][1]=v.y)}}(k,A,C,M,I,t,T,e)}var dm=2*Math.PI,fm=Math.PI/180;var pm,gm;pm="pie",L([{type:"pieToggleSelect",event:"pieselectchanged",method:"toggleSelected"},{type:"pieSelect",event:"pieselected",method:"select"},{type:"pieUnSelect",event:"pieunselected",method:"unSelect"}],function(o){o.update="updateView",Jc(o,function(t,e){var n={};return e.eachComponent({mainType:"series",subType:pm,query:t},function(e){e[o.method]&&e[o.method](t.name,t.dataIndex);var i=e.getData();i.each(function(t){t=i.getName(t);n[t]=e.isSelected(t)||!1})}),{name:t.name,selected:n,seriesId:t.seriesId}})}),ed((gm="pie",{getTargetSeries:function(t){var e={},i=Q();return t.eachSeriesByType(gm,function(t){t.__paletteScope=e,i.set(t.uid,t)}),i},reset:function(a,t){var r=a.getRawData(),s={},l=a.getData();l.each(function(t){var e=l.getRawIndex(t);s[e]=t}),r.each(function(t){var e,i=s[t],n=null!=i&&l.getItemVisual(i,"color",!0),o=null!=i&&l.getItemVisual(i,"borderColor",!0);n&&o||(e=r.getItemModel(t)),n||(t=e.get("itemStyle.color")||a.getColorFromPalette(r.getName(t)||t+"",a.__paletteScope,r.count()),null!=i&&l.setItemVisual(i,"color",t)),o||(e=e.get("itemStyle.borderColor"),null!=i&&l.setItemVisual(i,"borderColor",e))})}})),td(k(function(t,e,A,i){e.eachSeriesByType(t,function(t){var o=t.getData(),e=o.mapDimension("value"),a=(l=A,Rl(t.getBoxLayoutParams(),{width:l.getWidth(),height:l.getHeight()})),i=t.get("center"),n=t.get("radius");O(n)||(n=[0,n]),O(i)||(i=[i,i]);var r=tl(a.width,A.getWidth()),s=tl(a.height,A.getHeight()),l=Math.min(r,s),h=tl(i[0],r)+a.x,u=tl(i[1],s)+a.y,c=tl(n[0],l/2),d=tl(n[1],l/2),f=-t.get("startAngle")*fm,p=t.get("minAngle")*fm,g=0;o.each(e,function(t){isNaN(t)||g++});var m=o.getSum(e),v=Math.PI/(m||g)*2,y=t.get("clockwise"),x=t.get("roseType"),_=t.get("stillShowZeroSum"),w=o.getDataExtent(e);w[0]=0;var b,S=dm,M=0,I=f,T=y?1:-1;o.each(e,function(t,e){var i,n;isNaN(t)?o.setItemLayout(e,{angle:NaN,startAngle:NaN,endAngle:NaN,clockwise:y,cx:h,cy:u,r0:c,r:x?NaN:d,viewRect:a}):((i="area"!==x?0===m&&_?v:t*v:dm/g)<p?S-=i=p:M+=t,n=I+T*i,o.setItemLayout(e,{angle:i,startAngle:I,endAngle:n,clockwise:y,cx:h,cy:u,r0:c,r:x?Js(t,w,[c,d]):d,viewRect:a}),I=n)}),S<dm&&g&&(S<=.001?(b=dm/g,o.each(e,function(t,e){isNaN(t)||((t=o.getItemLayout(e)).angle=b,t.startAngle=f+T*e*b,t.endAngle=f+T*(e+1)*b)})):(v=S/M,I=f,o.each(e,function(t,e){isNaN(t)||(t=(e=o.getItemLayout(e)).angle===p?p:t*v,e.startAngle=I,e.endAngle=I+T*t,I+=T*t)}))),cm(t,d,a.width,a.height,a.x,a.y)})},"pie")),Qc({seriesType:"pie",reset:function(t,e){var n,o=e.findComponents({mainType:"legend"});o&&o.length&&(n=t.getData()).filterSelf(function(t){for(var e=n.getName(t),i=0;i<o.length;i++)if(!o[i].isSelected(e))return!1;return!0})}});Uo={_baseAxisDim:null,getInitialData:function(t,e){var i,n,o=e.getComponent("xAxis",this.get("xAxisIndex")),a=e.getComponent("yAxis",this.get("yAxisIndex")),r=o.get("type"),s=a.get("type");"category"===r?(t.layout="horizontal",i=o.getOrdinalMeta(),n=!0):"category"===s?(t.layout="vertical",i=a.getOrdinalMeta(),n=!0):t.layout=t.layout||"horizontal";var l,e=["x","y"],r="horizontal"===t.layout?0:1,s=this._baseAxisDim=e[r],e=e[1-r],o=[o,a],a=o[r].get("type"),o=o[1-r].get("type"),r=t.data;r&&n&&(l=[],L(r,function(t,e){var i;t.value&&O(t.value)?(i=t.value.slice(),t.value.unshift(e)):O(t)?(i=t.slice(),t.unshift(e)):i=t,l.push(i)}),t.data=l);t=this.defaultValueDimensions,o=[{name:s,type:pd(a),ordinalMeta:i,otherDims:{tooltip:!1,itemName:0},dimsDef:["base"]},{name:e,type:pd(o),dimsDef:t.slice()}];return im(this,{coordDimensions:o,dimensionsCount:t.length+1,encodeDefaulter:k(sh,o,this)})},getBaseAxis:function(){var t=this._baseAxisDim;return this.ecModel.getComponent(t+"Axis",this.get(t+"AxisIndex")).axis}};b(du.extend({type:"series.candlestick",dependencies:["xAxis","yAxis","grid"],defaultValueDimensions:[{name:"open",defaultTooltip:!0},{name:"close",defaultTooltip:!0},{name:"lowest",defaultTooltip:!0},{name:"highest",defaultTooltip:!0}],dimensions:null,defaultOption:{zlevel:0,z:2,coordinateSystem:"cartesian2d",legendHoverLink:!0,hoverAnimation:!0,layout:null,clip:!0,itemStyle:{color:"#c23531",color0:"#314656",borderWidth:1,borderColor:"#c23531",borderColor0:"#314656"},emphasis:{itemStyle:{borderWidth:2}},barMaxWidth:null,barMinWidth:null,barWidth:null,large:!0,largeThreshold:600,progressive:3e3,progressiveThreshold:1e4,progressiveChunkMode:"mod",animationUpdate:!1,animationEasing:"linear",animationDuration:300},getShadowDim:function(){return"open"},brushSelector:function(t,e,i){t=e.getItemLayout(t);return t&&i.rect(t.brushRect)}}),Uo,!0);var mm=["itemStyle"],vm=["emphasis","itemStyle"],ym=["color","color0","borderColor","borderColor0"],xm=(Mu.extend({type:"candlestick",render:function(t,e,i){this.group.removeClipPath(),this._updateDrawMode(t),this._isLargeDraw?this._renderLarge(t):this._renderNormal(t)},incrementalPrepareRender:function(t,e,i){this._clear(),this._updateDrawMode(t)},incrementalRender:function(t,e,i,n){this._isLargeDraw?this._incrementalRenderLarge(t,e):this._incrementalRenderNormal(t,e)},_updateDrawMode:function(t){t=t.pipelineContext.large;(null==this._isLargeDraw||t^this._isLargeDraw)&&(this._isLargeDraw=t,this._clear())},_renderNormal:function(n){var o=n.getData(),a=this._data,r=this.group,s=o.getLayout("isSimpleBox"),l=n.get("clip",!0),t=n.coordinateSystem,h=t.getArea&&t.getArea();this._data||r.removeAll(),o.diff(a).add(function(t){var e,i;o.hasValue(t)&&(i=o.getItemLayout(t),l&&wm(h,i)||(Rs(e=_m(i,0,!0),{shape:{points:i.ends}},n,t),bm(e,o,t,s),r.add(e),o.setItemGraphicEl(t,e)))}).update(function(t,e){var i=a.getItemGraphicEl(e);o.hasValue(t)?(e=o.getItemLayout(t),l&&wm(h,e)?r.remove(i):(i?zs(i,{shape:{points:e.ends}},n,t):i=_m(e),bm(i,o,t,s),r.add(i),o.setItemGraphicEl(t,i))):r.remove(i)}).remove(function(t){t=a.getItemGraphicEl(t);t&&r.remove(t)}).execute(),this._data=o},_renderLarge:function(t){this._clear(),Mm(t,this.group);t=t.get("clip",!0)?Fp(t.coordinateSystem,!1,t):null;t?this.group.setClipPath(t):this.group.removeClipPath()},_incrementalRenderNormal:function(t,e){for(var i,n=e.getData(),o=n.getLayout("isSimpleBox");null!=(i=t.next());){var a=_m(n.getItemLayout(i));bm(a,n,i,o),a.incremental=!0,this.group.add(a)}},_incrementalRenderLarge:function(t,e){Mm(e,this.group,!0)},remove:function(t){this._clear()},_clear:function(){this.group.removeAll(),this._data=null},dispose:tt}),nr.extend({type:"normalCandlestickBox",shape:{},buildPath:function(t,e){e=e.points;this.__simpleBox?(t.moveTo(e[4][0],e[4][1]),t.lineTo(e[6][0],e[6][1])):(t.moveTo(e[0][0],e[0][1]),t.lineTo(e[1][0],e[1][1]),t.lineTo(e[2][0],e[2][1]),t.lineTo(e[3][0],e[3][1]),t.closePath(),t.moveTo(e[4][0],e[4][1]),t.lineTo(e[5][0],e[5][1]),t.moveTo(e[6][0],e[6][1]),t.lineTo(e[7][0],e[7][1]))}}));function _m(t,e,i){var n,o=t.ends;return new xm({shape:{points:i?(n=t,S(o,function(t){return(t=t.slice())[1]=n.initBaseline,t})):o},z2:100})}function wm(t,e){for(var i=!0,n=0;n<e.ends.length;n++)if(t.contain(e.ends[n][0],e.ends[n][1])){i=!1;break}return i}function bm(t,e,i,n){var o=e.getItemModel(i),a=o.getModel(mm),r=e.getItemVisual(i,"color"),i=e.getItemVisual(i,"borderColor")||r,a=a.getItemStyle(ym);t.useStyle(a),t.style.strokeNoScale=!0,t.style.fill=r,t.style.stroke=i,t.__simpleBox=n,ws(t,o.getModel(vm).getItemStyle())}var Sm=nr.extend({type:"largeCandlestickBox",shape:{},buildPath:function(t,e){for(var i,n=e.points,o=0;o<n.length;)this.__sign===n[o++]?(i=n[o++],t.moveTo(i,n[o++]),t.lineTo(i,n[o++])):o+=3}});function Mm(t,e,i){var n=t.getData(),o=n.getLayout("largePoints"),a=new Sm({shape:{points:o},__sign:1});e.add(a);o=new Sm({shape:{points:o},__sign:-1});e.add(o),Im(1,a,t,n),Im(-1,o,t,n),i&&(a.incremental=!0,o.incremental=!0)}function Im(t,e,i,n){t=0<t?"P":"N",t=n.getVisual("borderColor"+t)||n.getVisual("color"+t),i=i.getModel(mm).getItemStyle(ym);e.useStyle(i),e.style.fill=null,e.style.stroke=t}var Tm=["itemStyle","borderColor"],Am=["itemStyle","borderColor0"],Cm=["itemStyle","color"],Dm=["itemStyle","color0"],ii={seriesType:"candlestick",plan:wu(),performRawSeries:!0,reset:function(t,e){var i=t.getData();if(i.setVisual({legendSymbol:"roundRect",colorP:a(1,t),colorN:a(-1,t),borderColorP:r(1,t),borderColorN:r(-1,t)}),!e.isSeriesFiltered(t))return!t.pipelineContext.large&&{progress:function(t,e){var i;for(;null!=(i=t.next());){var n=e.getItemModel(i),o=e.getItemLayout(i).sign;e.setItemVisual(i,{color:a(o,n),borderColor:r(o,n)})}}};function a(t,e){return e.get(0<t?Cm:Dm)}function r(t,e){return e.get(0<t?Tm:Am)}}},km="undefined"!=typeof Float32Array?Float32Array:Array,Uo={seriesType:"candlestick",plan:wu(),reset:function(t){var e,i,n,m=t.coordinateSystem,o=t.getData(),v=(a=o,i="category"===(i=(e=t).getBaseAxis()).type?i.getBandWidth():(n=i.getExtent(),Math.abs(n[1]-n[0])/a.count()),n=tl(W(e.get("barMaxWidth"),i),i),a=tl(W(e.get("barMinWidth"),1),i),null!=(e=e.get("barWidth"))?tl(e,i):Math.max(Math.min(i/2,n),a)),a=["x","y"],y=o.mapDimension(a[0]),a=o.mapDimension(a[1],!0),x=a[0],_=a[1],w=a[2],b=a[3];if(o.setLayout({candleWidth:v,isSimpleBox:v<=1.3}),!(null==y||a.length<4))return{progress:t.pipelineContext.large?function(t,e){var i,n=new km(4*t.count),o=0,a=[],r=[];for(;null!=(i=t.next());){var s=e.get(y,i),l=e.get(x,i),h=e.get(_,i),u=e.get(w,i),c=e.get(b,i);isNaN(s)||isNaN(u)||isNaN(c)?(n[o++]=NaN,o+=3):(n[o++]=Lm(e,i,l,h,_),a[0]=s,a[1]=u,u=m.dataToPoint(a,null,r),n[o++]=u?u[0]:NaN,n[o++]=u?u[1]:NaN,a[1]=c,u=m.dataToPoint(a,null,r),n[o++]=u?u[1]:NaN)}e.setLayout("largePoints",n)}:function(t,e){var i;for(;null!=(i=t.next());){var n=e.get(y,i),o=e.get(x,i),a=e.get(_,i),r=e.get(w,i),s=e.get(b,i),l=Math.min(o,a),h=Math.max(o,a),u=f(l,n),c=f(h,n),d=f(r,n),l=f(s,n),h=[];p(h,c,0),p(h,u,1),h.push(g(l),g(c),g(d),g(u)),e.setItemLayout(i,{sign:Lm(e,i,o,a,_),initBaseline:(a<o?c:u)[1],ends:h,brushRect:function(t,e,i){t=f(t,i),i=f(e,i);return t[0]-=v/2,i[0]-=v/2,{x:t[0],y:t[1],width:v,height:i[1]-t[1]}}(r,s,n)})}function f(t,e){var i=[];return i[0]=e,i[1]=t,isNaN(e)||isNaN(t)?[NaN,NaN]:m.dataToPoint(i)}function p(t,e,i){var n=e.slice(),e=e.slice();n[0]=ss(n[0]+v/2,1,!1),e[0]=ss(e[0]-v/2,1,!0),i?t.push(n,e):t.push(e,n)}function g(t){return t[0]=ss(t[0],1),t}}}}};function Lm(t,e,i,n,o){n=!(n<i)&&(i<n||!(0<e)||t.get(o,e-1)<=n)?1:-1;return n}$c(function(t){t&&O(t.series)&&L(t.series,function(t){E(t)&&"k"===t.type&&(t.type="candlestick")})}),ed(ii),td(Uo);var Pm="undefined"==typeof Uint32Array?Array:Uint32Array,Om="undefined"==typeof Float64Array?Array:Float64Array;function zm(t){var e=t.data;e&&e[0]&&e[0][0]&&e[0][0].coord&&(t.data=S(e,function(t){var e={coords:[t[0].coord,t[1].coord]};return t[0].name&&(e.fromName=t[0].name),t[1].name&&(e.toName=t[1].name),p([e,t[0],t[1]])}))}var Rm=du.extend({type:"series.lines",dependencies:["grid","polar"],visualColorAccessPath:"lineStyle.color",init:function(t){t.data=t.data||[],zm(t);var e=this._processFlatCoordsArray(t.data);this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count)),Rm.superApply(this,"init",arguments)},mergeOption:function(t){var e;zm(t),t.data&&(e=this._processFlatCoordsArray(t.data),this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset,e.flatCoords&&(t.data=new Float32Array(e.count))),Rm.superApply(this,"mergeOption",arguments)},appendData:function(t){var e=this._processFlatCoordsArray(t.data);e.flatCoords&&(this._flatCoords?(this._flatCoords=J(this._flatCoords,e.flatCoords),this._flatCoordsOffset=J(this._flatCoordsOffset,e.flatCoordsOffset)):(this._flatCoords=e.flatCoords,this._flatCoordsOffset=e.flatCoordsOffset),t.data=new Float32Array(e.count)),this.getRawData().appendData(t.data)},_getCoordsFromItemModel:function(t){t=this.getData().getItemModel(t);return t.option instanceof Array?t.option:t.getShallow("coords")},getLineCoordsCount:function(t){return this._flatCoordsOffset?this._flatCoordsOffset[2*t+1]:this._getCoordsFromItemModel(t).length},getLineCoords:function(t,e){if(this._flatCoordsOffset){for(var i=this._flatCoordsOffset[2*t],n=this._flatCoordsOffset[2*t+1],o=0;o<n;o++)e[o]=e[o]||[],e[o][0]=this._flatCoords[i+2*o],e[o][1]=this._flatCoords[i+2*o+1];return n}for(var a=this._getCoordsFromItemModel(t),o=0;o<a.length;o++)e[o]=e[o]||[],e[o][0]=a[o][0],e[o][1]=a[o][1];return a.length},_processFlatCoordsArray:function(t){var e=0;if(this._flatCoords&&(e=this._flatCoords.length),"number"!=typeof t[0])return{flatCoordsOffset:null,flatCoords:null,count:t.length};for(var i=t.length,n=new Pm(i),o=new Om(i),a=0,r=0,s=0,l=0;l<i;){s++;var h=t[l++];n[r++]=a+e,n[r++]=h;for(var u=0;u<h;u++){var c=t[l++],d=t[l++];o[a++]=c,o[a++]=d}}return{flatCoordsOffset:new Uint32Array(n.buffer,0,r),flatCoords:o,count:s}},getInitialData:function(t,e){var o=new Id(["value"],this);return o.hasItemOption=!1,o.initData(t.data,[],function(t,e,i,n){if(t instanceof Array)return NaN;o.hasItemOption=!0;t=t.value;return null!=t?t instanceof Array?t[n]:t:void 0}),o},formatTooltip:function(t){var e=this.getData().getItemModel(t),i=e.get("name");if(i)return i;t=e.get("fromName"),i=e.get("toName"),e=[];return null!=t&&e.push(t),null!=i&&e.push(i),_l(e.join(" > "))},preventIncremental:function(){return!!this.get("effect.show")},getProgressive:function(){var t=this.option.progressive;return null==t?this.option.large?1e4:this.get("progressive"):t},getProgressiveThreshold:function(){var t=this.option.progressiveThreshold;return null==t?this.option.large?2e4:this.get("progressiveThreshold"):t},defaultOption:{coordinateSystem:"geo",zlevel:0,z:2,legendHoverLink:!0,hoverAnimation:!0,xAxisIndex:0,yAxisIndex:0,symbol:["none","none"],symbolSize:[10,10],geoIndex:0,effect:{show:!1,period:4,constantSpeed:0,symbol:"circle",symbolSize:3,loop:!0,trailLength:.2},large:!1,largeThreshold:2e3,polyline:!1,clip:!0,label:{show:!1,position:"end"},lineStyle:{opacity:.5}}}),Uo=Nr.prototype,we=we.prototype;function Em(t){return isNaN(+t.cpx1)||isNaN(+t.cpy1)}var Nm=ts({type:"ec-line",style:{stroke:"#000",fill:null},shape:{x1:0,y1:0,x2:0,y2:0,percent:1,cpx1:null,cpy1:null},buildPath:function(t,e){this[Em(e)?"_buildPathLine":"_buildPathCurve"](t,e)},_buildPathLine:Uo.buildPath,_buildPathCurve:we.buildPath,pointAt:function(t){return this[Em(this.shape)?"_pointAtLine":"_pointAtCurve"](t)},_pointAtLine:Uo.pointAt,_pointAtCurve:we.pointAt,tangentAt:function(t){var e=this.shape,t=Em(e)?[e.x2-e.x1,e.y2-e.y1]:this._tangentAtCurve(t);return dt(t,t)},_tangentAtCurve:we.tangentAt}),Bm=["fromSymbol","toSymbol"];function Vm(t){return"_"+t+"Type"}function Fm(t,e,i){var n=e.getItemVisual(i,t);if(n&&"none"!==n){var o=e.getItemVisual(i,"color"),a=e.getItemVisual(i,t+"Size"),i=e.getItemVisual(i,t+"Rotate");O(a)||(a=[a,a]);o=Zf(n,-a[0]/2,-a[1]/2,a[0],a[1],o);return o.__specifiedRotation=null==i||isNaN(i)?void 0:+i*Math.PI/180||0,o.name=t,o}}function Hm(t,e){t.x1=e[0][0],t.y1=e[0][1],t.x2=e[1][0],t.y2=e[1][1],t.percent=1;e=e[2];e?(t.cpx1=e[0],t.cpy1=e[1]):(t.cpx1=NaN,t.cpy1=NaN)}function Wm(t,e,i){yi.call(this),this._createLine(t,e,i)}Uo=Wm.prototype;function Gm(t){this._ctor=t||Wm,this.group=new yi}Uo.beforeUpdate=function(){var t=this.childOfName("fromSymbol"),e=this.childOfName("toSymbol"),i=this.childOfName("label");if(t||e||!i.ignore){for(var n=1,o=this.parent;o;)o.scale&&(n/=o.scale[0]),o=o.parent;var a=this.childOfName("line");if(this.__dirty||a.__dirty){var r,s,l,h,u,c=a.shape.percent,d=a.pointAt(0),f=a.pointAt(c),p=lt([],f,d);if(dt(p,p),t&&(t.attr("position",d),null==(r=t.__specifiedRotation)?(g=a.tangentAt(0),t.attr("rotation",Math.PI/2-Math.atan2(g[1],g[0]))):t.attr("rotation",r),t.attr("scale",[n*c,n*c])),e&&(e.attr("position",f),null==(r=e.__specifiedRotation)?(g=a.tangentAt(1),e.attr("rotation",-Math.PI/2-Math.atan2(g[1],g[0]))):e.attr("rotation",r),e.attr("scale",[n*c,n*c])),!i.ignore){i.attr("position",f);var g,e=i.__labelDistance,m=e[0]*n,v=e[1]*n,e=c/2,c=[(g=a.tangentAt(e))[1],-g[0]],y=a.pointAt(e);0<c[1]&&(c[0]=-c[0],c[1]=-c[1]);var x,_=g[0]<0?-1:1;switch("start"!==i.__position&&"end"!==i.__position&&(c=-Math.atan2(g[1],g[0]),f[0]<d[0]&&(c=Math.PI+c),i.attr("rotation",c)),i.__position){case"insideStartTop":case"insideMiddleTop":case"insideEndTop":case"middle":x=-v,h="bottom";break;case"insideStartBottom":case"insideMiddleBottom":case"insideEndBottom":x=v,h="top";break;default:x=0,h="middle"}switch(i.__position){case"end":s=[p[0]*m+f[0],p[1]*v+f[1]],l=.8<p[0]?"left":p[0]<-.8?"right":"center",h=.8<p[1]?"top":p[1]<-.8?"bottom":"middle";break;case"start":s=[-p[0]*m+d[0],-p[1]*v+d[1]],l=.8<p[0]?"right":p[0]<-.8?"left":"center",h=.8<p[1]?"bottom":p[1]<-.8?"top":"middle";break;case"insideStartTop":case"insideStart":case"insideStartBottom":s=[m*_+d[0],d[1]+x],l=g[0]<0?"right":"left",u=[-m*_,-x];break;case"insideMiddleTop":case"insideMiddle":case"insideMiddleBottom":case"middle":s=[y[0],y[1]+x],l="center",u=[0,-x];break;case"insideEndTop":case"insideEnd":case"insideEndBottom":s=[-m*_+f[0],f[1]+x],l=0<=g[0]?"right":"left",u=[m*_,-x]}i.attr({style:{textVerticalAlign:i.__verticalAlign||h,textAlign:i.__textAlign||l},position:s,scale:[n,n],origin:u})}}}},Uo._createLine=function(i,n,t){var e,o=i.hostModel,a=i.getItemLayout(n),a=(e=a,Hm((a=new Nm({name:"line",subPixelOptimize:!0})).shape,e),a);a.shape.percent=0,Rs(a,{shape:{percent:1}},o,n),this.add(a);a=new wr({name:"label",lineLabelOriginalOpacity:1});this.add(a),L(Bm,function(t){var e=Fm(t,i,n);this.add(e),this[Vm(t)]=i.getItemVisual(n,t)},this),this._updateCommonStl(i,n,t)},Uo.updateData=function(n,o,t){var e=n.hostModel,i=this.childOfName("line"),a=n.getItemLayout(o),r={shape:{}};Hm(r.shape,a),zs(i,r,e,o),L(Bm,function(t){var e=n.getItemVisual(o,t),i=Vm(t);this[i]!==e&&(this.remove(this.childOfName(t)),t=Fm(t,n,o),this.add(t)),this[i]=e},this),this._updateCommonStl(n,o,t)},Uo._updateCommonStl=function(t,e,i){var n=t.hostModel,o=this.childOfName("line"),a=i&&i.lineStyle,r=i&&i.hoverLineStyle,s=i&&i.labelModel,l=i&&i.hoverLabelModel;i&&!t.hasItemOption||(a=(i=t.getItemModel(e)).getModel("lineStyle").getLineStyle(),r=i.getModel("emphasis.lineStyle").getLineStyle(),s=i.getModel("label"),l=i.getModel("emphasis.label"));var h=t.getItemVisual(e,"color"),u=G(t.getItemVisual(e,"opacity"),a.opacity,1);o.useStyle(D({strokeNoScale:!0,fill:"none",stroke:h,opacity:u},a)),o.hoverStyle=r,L(Bm,function(t){t=this.childOfName(t);t&&(t.setColor(h),t.setStyle({opacity:u}))},this);var c,a=s.getShallow("show"),o=l.getShallow("show"),r=this.childOfName("label");(a||o)&&(c=h||"#000",null==(f=n.getFormattedLabel(e,"normal",t.dataType))&&(f=null==(d=n.getRawValue(e))?t.getName(e):isFinite(d)?el(d):d));var d=a?f:null,t=o?W(n.getFormattedLabel(e,"emphasis",t.dataType),f):null,f=r.style;null==d&&null==t||(Ts(r.style,s,{text:d},{autoColor:c}),r.__textAlign=f.textAlign,r.__verticalAlign=f.textVerticalAlign,r.__position=s.get("position")||"middle",O(s=s.get("distance"))||(s=[s,s]),r.__labelDistance=s),r.hoverStyle=null!=t?{text:t,textFill:l.getTextColor(!0),fontStyle:l.getShallow("fontStyle"),fontWeight:l.getShallow("fontWeight"),fontSize:l.getShallow("fontSize"),fontFamily:l.getShallow("fontFamily")}:{text:null},r.ignore=!a&&!o,ws(this)},Uo.highlight=function(){this.trigger("emphasis")},Uo.downplay=function(){this.trigger("normal")},Uo.updateLayout=function(t,e){this.setLinePoints(t.getItemLayout(e))},Uo.setLinePoints=function(t){var e=this.childOfName("line");Hm(e.shape,t),e.dirty()},w(Wm,yi);we=Gm.prototype;function Zm(t){t=t.hostModel;return{lineStyle:t.getModel("lineStyle").getLineStyle(),hoverLineStyle:t.getModel("emphasis.lineStyle").getLineStyle(),labelModel:t.getModel("label"),hoverLabelModel:t.getModel("emphasis.label")}}function Xm(t){return isNaN(t[0])||isNaN(t[1])}function Um(t){return!Xm(t[0])&&!Xm(t[1])}function Ym(t,e,i){yi.call(this),this.add(this.createLine(t,e,i)),this._updateEffectSymbol(t,e)}we.isPersistent=function(){return!0},we.updateData=function(i){var n=this,e=n.group,o=n._lineData;n._lineData=i,o||e.removeAll();var a=Zm(i);i.diff(o).add(function(t){!function(t,e,i,n){if(!Um(e.getItemLayout(i)))return;n=new t._ctor(e,i,n);e.setItemGraphicEl(i,n),t.group.add(n)}(n,i,t,a)}).update(function(t,e){!function(t,e,i,n,o,a){n=e.getItemGraphicEl(n);if(!Um(i.getItemLayout(o)))return t.group.remove(n);n?n.updateData(i,o,a):n=new t._ctor(i,o,a);i.setItemGraphicEl(o,n),t.group.add(n)}(n,o,i,e,t,a)}).remove(function(t){e.remove(o.getItemGraphicEl(t))}).execute()},we.updateLayout=function(){var i=this._lineData;i&&i.eachItemGraphicEl(function(t,e){t.updateLayout(i,e)},this)},we.incrementalPrepareUpdate=function(t){this._seriesScope=Zm(t),this._lineData=null,this.group.removeAll()},we.incrementalUpdate=function(t,e){function i(t){var e;t.isGroup||(e=t).animators&&0<e.animators.length||(t.incremental=t.useHoverLayer=!0)}for(var n,o=t.start;o<t.end;o++)Um(e.getItemLayout(o))&&((n=new this._ctor(e,o,this._seriesScope)).traverse(i),this.group.add(n),e.setItemGraphicEl(o,n))},we.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},we._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};Uo=Ym.prototype;function qm(t,e,i){yi.call(this),this._createPolyline(t,e,i)}Uo.createLine=function(t,e,i){return new Wm(t,e,i)},Uo._updateEffectSymbol=function(t,e){var i=t.getItemModel(e).getModel("effect"),n=i.get("symbolSize"),o=i.get("symbol");O(n)||(n=[n,n]);var a=i.get("color")||t.getItemVisual(e,"color"),r=this.childAt(1);this._symbolType!==o&&(this.remove(r),(r=Zf(o,-.5,-.5,1,1,a)).z2=100,r.culling=!0,this.add(r)),r&&(r.setStyle("shadowColor",a),r.setStyle(i.getItemStyle(["color"])),r.attr("scale",n),r.setColor(a),r.attr("scale",n),this._symbolType=o,this._symbolScale=n,this._updateEffectAnimation(t,i,e))},Uo._updateEffectAnimation=function(e,t,i){var n,o,a,r,s,l,h=this.childAt(1);h&&(n=this,o=e.getItemLayout(i),a=1e3*t.get("period"),r=t.get("loop"),l=t.get("constantSpeed"),t="function"==typeof(s=H(t.get("delay"),function(t){return t/e.count()*a/3})),h.ignore=!0,this.updateAnimationPoints(h,o),0<l&&(a=this.getLineLength(h)/l*1e3),a===this._period&&r===this._loop||(h.stopAnimation(),l=s,t&&(l=s(i)),0<h.__t&&(l=-a*h.__t),h.__t=0,l=h.animate("",r).when(a,{__t:1}).delay(l).during(function(){n.updateSymbolPosition(h)}),r||l.done(function(){n.remove(h)}),l.start()),this._period=a,this._loop=r)},Uo.getLineLength=function(t){return pt(t.__p1,t.__cp1)+pt(t.__cp1,t.__p2)},Uo.updateAnimationPoints=function(t,e){t.__p1=e[0],t.__p2=e[1],t.__cp1=e[2]||[(e[0][0]+e[1][0])/2,(e[0][1]+e[1][1])/2]},Uo.updateData=function(t,e,i){this.childAt(0).updateData(t,e,i),this._updateEffectSymbol(t,e)},Uo.updateSymbolPosition=function(t){var e=t.__p1,i=t.__p2,n=t.__cp1,o=t.__t,a=t.position,r=[a[0],a[1]],s=ua,l=ca;a[0]=s(e[0],n[0],i[0],o),a[1]=s(e[1],n[1],i[1],o);var h,s=l(e[0],n[0],i[0],o),i=l(e[1],n[1],i[1],o);t.rotation=-Math.atan2(i,s)-Math.PI/2,"line"!==this._symbolType&&"rect"!==this._symbolType&&"roundRect"!==this._symbolType||(void 0!==t.__lastT&&t.__lastT<t.__t?(h=1.05*pt(r,a),t.attr("scale",[t.scale[0],h]),1===o&&(a[0]=r[0]+(a[0]-r[0])/2,a[1]=r[1]+(a[1]-r[1])/2)):1===t.__lastT?(h=2*pt(e,a),t.attr("scale",[t.scale[0],h])):t.attr("scale",this._symbolScale)),t.__lastT=t.__t,t.ignore=!1},Uo.updateLayout=function(t,e){this.childAt(0).updateLayout(t,e);var i=t.getItemModel(e).getModel("effect");this._updateEffectAnimation(t,i,e)},w(Ym,yi);we=qm.prototype;function jm(t,e,i){Ym.call(this,t,e,i),this._lastFrame=0,this._lastFramePercent=0}we._createPolyline=function(t,e,i){var n=t.getItemLayout(e),n=new Dr({shape:{points:n}});this.add(n),this._updateCommonStl(t,e,i)},we.updateData=function(t,e,i){var n=t.hostModel;zs(this.childAt(0),{shape:{points:t.getItemLayout(e)}},n,e),this._updateCommonStl(t,e,i)},we._updateCommonStl=function(t,e,i){var n=this.childAt(0),o=t.getItemModel(e),a=t.getItemVisual(e,"color"),r=i&&i.lineStyle,e=i&&i.hoverLineStyle;i&&!t.hasItemOption||(r=o.getModel("lineStyle").getLineStyle(),e=o.getModel("emphasis.lineStyle").getLineStyle()),n.useStyle(D({strokeNoScale:!0,fill:"none",stroke:a},r)),n.hoverStyle=e,ws(this)},we.updateLayout=function(t,e){this.childAt(0).setShape("points",t.getItemLayout(e))},w(qm,yi);Uo=jm.prototype;Uo.createLine=function(t,e,i){return new qm(t,e,i)},Uo.updateAnimationPoints=function(t,e){this._points=e;for(var i=[0],n=0,o=1;o<e.length;o++){var a=e[o-1],r=e[o];n+=pt(a,r),i.push(n)}if(0!==n){for(o=0;o<i.length;o++)i[o]/=n;this._offsets=i,this._length=n}},Uo.getLineLength=function(t){return this._length},Uo.updateSymbolPosition=function(t){var e=t.__t,i=this._points,n=this._offsets,o=i.length;if(n){var a=this._lastFrame;if(e<this._lastFramePercent){for(r=Math.min(a+1,o-1);0<=r&&!(n[r]<=e);r--);r=Math.min(r,o-2)}else{for(var r=a;r<o&&!(n[r]>e);r++);r=Math.min(r-1,o-2)}vt(t.position,i[r],i[r+1],(e-n[r])/(n[r+1]-n[r]));a=i[r+1][0]-i[r][0],i=i[r+1][1]-i[r][1];t.rotation=-Math.atan2(i,a)-Math.PI/2,this._lastFrame=r,this._lastFramePercent=e,t.ignore=!1}},w(jm,Ym);var Km=ts({shape:{polyline:!1,curveness:0,segs:[]},buildPath:function(t,e){var i=e.segs,n=e.curveness;if(e.polyline)for(var o=0;o<i.length;){var a=i[o++];if(0<a){t.moveTo(i[o++],i[o++]);for(var r=1;r<a;r++)t.lineTo(i[o++],i[o++])}}else for(o=0;o<i.length;){var s,l=i[o++],h=i[o++],u=i[o++],c=i[o++];t.moveTo(l,h),0<n?(s=(l+u)/2-(h-c)*n,l=(h+c)/2-(u-l)*n,t.quadraticCurveTo(s,l,u,c)):t.lineTo(u,c)}},findDataIndex:function(t,e){var i=this.shape,n=i.segs,o=i.curveness;if(i.polyline)for(var a=0,r=0;r<n.length;){var s=n[r++];if(0<s)for(var l=n[r++],h=n[r++],u=1;u<s;u++)if(Va(l,h,c=n[r++],d=n[r++]))return a;a++}else for(a=0,r=0;r<n.length;){var l=n[r++],h=n[r++],c=n[r++],d=n[r++];if(0<o){if(Ha(l,h,(l+c)/2-(h-d)*o,(h+d)/2-(c-l)*o,c,d))return a}else if(Va(l,h,c,d))return a;a++}return-1}});function $m(){this.group=new yi}we=$m.prototype;we.isPersistent=function(){return!this._incremental},we.updateData=function(t){this.group.removeAll();var e=new Km({rectHover:!0,cursor:"default"});e.setShape({segs:t.getLayout("linesPoints")}),this._setCommon(e,t),this.group.add(e),this._incremental=null},we.incrementalPrepareUpdate=function(t){this.group.removeAll(),this._clearIncremental(),5e5<t.count()?(this._incremental||(this._incremental=new Gr({silent:!0})),this.group.add(this._incremental)):this._incremental=null},we.incrementalUpdate=function(t,e){var i=new Km;i.setShape({segs:e.getLayout("linesPoints")}),this._setCommon(i,e,!!this._incremental),this._incremental?this._incremental.addDisplayable(i,!0):(i.rectHover=!0,i.cursor="default",i.__startIndex=t.start,this.group.add(i))},we.remove=function(){this._clearIncremental(),this._incremental=null,this.group.removeAll()},we._setCommon=function(e,t,i){var n=t.hostModel;e.setShape({polyline:n.get("polyline"),curveness:n.get("lineStyle.curveness")}),e.useStyle(n.getModel("lineStyle").getLineStyle()),e.style.strokeNoScale=!0;t=t.getVisual("color");t&&e.setStyle("stroke",t),e.setStyle("fill"),i||(e.seriesIndex=n.seriesIndex,e.on("mousemove",function(t){e.dataIndex=null;t=e.findDataIndex(t.offsetX,t.offsetY);0<t&&(e.dataIndex=t+e.__startIndex)}))},we._clearIncremental=function(){var t=this._incremental;t&&t.clearDisplaybles()};var Qm={seriesType:"lines",plan:wu(),reset:function(p){var g=p.coordinateSystem,m=p.get("polyline"),v=p.pipelineContext.large;return{progress:function(t,e){var i=[];if(v){var n,o=t.end-t.start;if(m){for(var a=0,r=t.start;r<t.end;r++)a+=p.getLineCoordsCount(r);n=new Float32Array(o+2*a)}else n=new Float32Array(4*o);for(var s=0,l=[],r=t.start;r<t.end;r++){var h=p.getLineCoords(r,i);m&&(n[s++]=h);for(var u=0;u<h;u++)l=g.dataToPoint(i[u],!1,l),n[s++]=l[0],n[s++]=l[1]}e.setLayout("linesPoints",n)}else for(r=t.start;r<t.end;r++){var c=e.getItemModel(r),h=p.getLineCoords(r,i),d=[];if(m)for(var f=0;f<h;f++)d.push(g.dataToPoint(i[f]));else{d[0]=g.dataToPoint(i[0]),d[1]=g.dataToPoint(i[1]);c=c.get("lineStyle.curveness");+c&&(d[2]=[(d[0][0]+d[1][0])/2-(d[0][1]-d[1][1])*c,(d[0][1]+d[1][1])/2-(d[1][0]-d[0][0])*c])}e.setItemLayout(r,d)}}}}};function Jm(t){return t instanceof Array||(t=[t,t]),t}sd({type:"lines",init:function(){},render:function(t,e,i){var n=t.getData(),o=this._updateLineDraw(n,t),a=t.get("zlevel"),r=t.get("effect.trailLength"),s=i.getZr(),i="svg"===s.painter.getType();i||s.painter.getLayer(a).clear(!0),null==this._lastZlevel||i||s.configLayer(this._lastZlevel,{motionBlur:!1}),this._showEffect(t)&&r&&(i||s.configLayer(a,{motionBlur:!0,lastFrameAlpha:Math.max(Math.min(r/10+.9,1),0)})),o.updateData(n);t=t.get("clip",!0)&&Fp(t.coordinateSystem,!1,t);t?this.group.setClipPath(t):this.group.removeClipPath(),this._lastZlevel=a,this._finished=!0},incrementalPrepareRender:function(t,e,i){var n=t.getData();this._updateLineDraw(n,t).incrementalPrepareUpdate(n),this._clearLayer(i),this._finished=!1},incrementalRender:function(t,e,i){this._lineDraw.incrementalUpdate(t,e.getData()),this._finished=t.end===e.getData().count()},updateTransform:function(t,e,i){var n=t.getData(),o=t.pipelineContext;if(!this._finished||o.large||o.progressiveRender)return{update:!0};t=Qm.reset(t);t.progress&&t.progress({start:0,end:n.count()},n),this._lineDraw.updateLayout(),this._clearLayer(i)},_updateLineDraw:function(t,e){var i=this._lineDraw,n=this._showEffect(e),o=!!e.get("polyline"),e=e.pipelineContext.large;return i&&n===this._hasEffet&&o===this._isPolyline&&e===this._isLargeDraw||(i&&i.remove(),i=this._lineDraw=e?new $m:new Gm(o?n?jm:qm:n?Ym:Wm),this._hasEffet=n,this._isPolyline=o,this._isLargeDraw=e,this.group.removeAll()),this.group.add(i.group),i},_showEffect:function(t){return!!t.get("effect.show")},_clearLayer:function(t){t=t.getZr();"svg"===t.painter.getType()||null==this._lastZlevel||t.painter.getLayer(this._lastZlevel).clear(!0)},remove:function(t,e){this._lineDraw&&this._lineDraw.remove(),this._lineDraw=null,this._clearLayer(e)},dispose:function(){}});var tv="lineStyle.opacity".split("."),Uo={seriesType:"lines",reset:function(t,e,i){var n=Jm(t.get("symbol")),o=Jm(t.get("symbolSize")),a=t.getData();return a.setVisual("fromSymbol",n&&n[0]),a.setVisual("toSymbol",n&&n[1]),a.setVisual("fromSymbolSize",o&&o[0]),a.setVisual("toSymbolSize",o&&o[1]),a.setVisual("opacity",t.get(tv)),{dataEach:a.hasItemOption?function(t,e){var i=Jm((o=t.getItemModel(e)).getShallow("symbol",!0)),n=Jm(o.getShallow("symbolSize",!0)),o=o.get(tv);i[0]&&t.setItemVisual(e,"fromSymbol",i[0]),i[1]&&t.setItemVisual(e,"toSymbol",i[1]),n[0]&&t.setItemVisual(e,"fromSymbolSize",n[0]),n[1]&&t.setItemVisual(e,"toSymbolSize",n[1]),t.setItemVisual(e,"opacity",o)}:null}}};td(Qm),ed(Uo);var ev=Lo(),iv=A,nv=T;function ov(){}function av(t,e,i,n){!function i(n,t){{if(E(n)&&E(t)){var o=!0;return L(t,function(t,e){o=o&&i(n[e],t)}),!!o}return n===t}}(ev(i).lastProp,n)&&(ev(i).lastProp=n,e?zs(i,n,t):(i.stopAnimation(),i.attr(n)))}function rv(t,e){t[e.get("label.show")?"show":"hide"]()}function sv(t){return{position:t.position.slice(),rotation:t.rotation||0}}function lv(t,e,i){var n=e.get("z"),o=e.get("zlevel");t&&t.traverse(function(t){"group"!==t.type&&(null!=n&&(t.z=n),null!=o&&(t.zlevel=o),t.silent=i)})}function hv(t){var e,i=t.get("type"),t=t.getModel(i+"Style");return"line"===i?(e=t.getLineStyle()).fill=null:"shadow"===i&&((e=t.getAreaStyle()).stroke=null),e}function uv(t,e,i,n,o){var a=cv(i.get("value"),e.axis,e.ecModel,i.get("seriesDataIndices"),{precision:i.get("label.precision"),formatter:i.get("label.formatter")}),r=i.getModel("label"),s=vl(r.get("padding")||0),l=r.getFont(),h=nn(a,l),u=o.position,c=h.width+s[1]+s[3],d=h.height+s[0]+s[2],f=o.align;"right"===f&&(u[0]-=c),"center"===f&&(u[0]-=c/2);i=o.verticalAlign;"bottom"===i&&(u[1]-=d),"middle"===i&&(u[1]-=d/2),h=u,f=c,o=d,n=(i=n).getWidth(),i=i.getHeight(),h[0]=Math.min(h[0]+f,n)-f,h[1]=Math.min(h[1]+o,i)-o,h[0]=Math.max(h[0],0),h[1]=Math.max(h[1],0);h=r.get("backgroundColor");h&&"auto"!==h||(h=e.get("axisLine.lineStyle.color")),t.label={shape:{x:0,y:0,width:c,height:d,r:r.get("borderRadius")},position:u.slice(),style:{text:a,textFont:l,textFill:r.getTextColor(),textPosition:"inside",textPadding:s,fill:h,stroke:r.get("borderColor")||"transparent",lineWidth:r.get("borderWidth")||0,shadowBlur:r.get("shadowBlur"),shadowColor:r.get("shadowColor"),shadowOffsetX:r.get("shadowOffsetX"),shadowOffsetY:r.get("shadowOffsetY")},z2:10}}function cv(t,e,i,n,o){t=e.scale.parse(t);var a,r=e.scale.getLabel(t,{precision:o.precision}),o=o.formatter;return o&&(a={value:Rf(e,t),axisDimension:e.dim,axisIndex:e.index,seriesData:[]},L(n,function(t){var e=i.getSeriesByIndex(t.seriesIndex),t=t.dataIndexInside,t=e&&e.getDataParams(t);t&&a.seriesData.push(t)}),R(o)?r=o.replace("{value}",r):z(o)&&(r=o(a))),r}function dv(t,e,i){var n=Jt();return oe(n,n,i.rotation),ne(n,n,i.position),Ns([t.dataToCoord(e),(i.labelOffset||0)+(i.labelDirection||1)*(i.labelMargin||0)],n)}function fv(t,e,i){return{x1:t[i=i||0],y1:t[1-i],x2:e[i],y2:e[1-i]}}function pv(t,e,i,n,o,a){return{cx:t,cy:e,r0:i,r:n,startAngle:o,endAngle:a,clockwise:!0}}Fo((ov.prototype={_group:null,_lastGraphicKey:null,_handle:null,_dragging:!1,_lastValue:null,_lastStatus:null,_payloadInfo:null,animationThreshold:15,render:function(t,e,i,n){var o=e.get("value"),a=e.get("status");if(this._axisModel=t,this._axisPointerModel=e,this._api=i,n||this._lastValue!==o||this._lastStatus!==a){this._lastValue=o,this._lastStatus=a;var r=this._group,n=this._handle;if(!a||"hide"===a)return r&&r.hide(),void(n&&n.hide());r&&r.show(),n&&n.show();a={};this.makeElOption(a,o,t,e,i);n=a.graphicKey;n!==this._lastGraphicKey&&this.clear(i),this._lastGraphicKey=n;n=this._moveAnimation=this.determineAnimation(t,e);r?(n=k(av,e,n),this.updatePointerEl(r,a,n,e),this.updateLabelEl(r,a,n,e)):(r=this._group=new yi,this.createPointerEl(r,a,t,e),this.createLabelEl(r,a,t,e),i.getZr().add(r)),lv(r,e,!0),this._renderHandle(o)}},remove:function(t){this.clear(t)},dispose:function(t){this.clear(t)},determineAnimation:function(t,e){var i=e.get("animation"),n=t.axis,o="category"===n.type,e=e.get("snap");if(!e&&!o)return!1;if("auto"!==i&&null!=i)return!0===i;i=this.animationThreshold;if(o&&n.getBandWidth()>i)return!0;if(e){t=Mg(t).seriesDataCount,n=n.getExtent();return Math.abs(n[0]-n[1])/t>i}return!1},makeElOption:function(t,e,i,n,o){},createPointerEl:function(t,e,i,n){var o=e.pointer;o&&(e=ev(t).pointerEl=new Ws[o.type](iv(e.pointer)),t.add(e))},createLabelEl:function(t,e,i,n){e.label&&(e=ev(t).labelEl=new Rr(iv(e.label)),t.add(e),rv(e,n))},updatePointerEl:function(t,e,i){t=ev(t).pointerEl;t&&e.pointer&&(t.setStyle(e.pointer.style),i(t,{shape:e.pointer.shape}))},updateLabelEl:function(t,e,i,n){t=ev(t).labelEl;t&&(t.setStyle(e.label.style),i(t,{shape:e.label.shape,position:e.label.position}),rv(t,n))},_renderHandle:function(t){if(!this._dragging&&this.updateHandleTransform){var e,i=this._axisPointerModel,n=this._api.getZr(),o=this._handle,a=i.getModel("handle"),r=i.get("status");if(!a.get("show")||!r||"hide"===r)return o&&n.remove(o),void(this._handle=null);this._handle||(e=!0,o=this._handle=Fs(a.get("icon"),{cursor:"move",draggable:!0,onmousemove:function(t){Ht(t.event)},onmousedown:nv(this._onHandleDragMove,this,0,0),drift:nv(this._onHandleDragMove,this),ondragend:nv(this._onHandleDragEnd,this)}),n.add(o)),lv(o,i,!1);o.setStyle(a.getItemStyle(null,["color","borderColor","borderWidth","opacity","shadowColor","shadowBlur","shadowOffsetX","shadowOffsetY"]));i=a.get("size");O(i)||(i=[i,i]),o.attr("scale",[i[0]/2,i[1]/2]),zu(this,"_doDispatchAxisPointer",a.get("throttle")||0,"fixRate"),this._moveHandleToValue(t,e)}},_moveHandleToValue:function(t,e){av(this._axisPointerModel,!e&&this._moveAnimation,this._handle,sv(this.getHandleTransform(t,this._axisModel,this._axisPointerModel)))},_onHandleDragMove:function(t,e){var i=this._handle;i&&(this._dragging=!0,e=this.updateHandleTransform(sv(i),[t,e],this._axisModel,this._axisPointerModel),this._payloadInfo=e,i.stopAnimation(),i.attr(sv(e)),ev(i).lastProp=null,this._doDispatchAxisPointer())},_doDispatchAxisPointer:function(){var t,e;this._handle&&(t=this._payloadInfo,e=this._axisModel,this._api.dispatchAction({type:"updateAxisPointer",x:t.cursorPoint[0],y:t.cursorPoint[1],tooltipOption:t.tooltipOption,axesInfo:[{axisDim:e.axis.dim,axisIndex:e.componentIndex}]}))},_onHandleDragEnd:function(t){var e;this._dragging=!1,this._handle&&(e=this._axisPointerModel.get("value"),this._moveHandleToValue(e),this._api.dispatchAction({type:"hideTip"}))},getHandleTransform:null,updateHandleTransform:null,clear:function(t){this._lastValue=null,this._lastStatus=null;var e=t.getZr(),i=this._group,t=this._handle;e&&i&&(this._lastGraphicKey=null,i&&e.remove(i),t&&e.remove(t),this._group=null,this._handle=null,this._payloadInfo=null)},doClear:function(){},buildLabel:function(t,e,i){return{x:t[i=i||0],y:t[1-i],width:e[i],height:e[1-i]}}}).constructor=ov);we=ov.extend({makeElOption:function(t,e,i,n,o){var a,r=i.axis,s=r.grid,l=n.get("type"),h=gv(s,r).getOtherAxis(r).getGlobalExtent(),u=r.toGlobalCoord(r.dataToCoord(e,!0));l&&"none"!==l&&(a=hv(n),(c=mv[l](r,u,h)).style=a,t.graphicKey=c.type,t.pointer=c);var c=Lg(s.model,i);s=e,e=t,t=i,i=n,n=o,c=ug.innerTextLayout((o=c).rotation,0,o.labelDirection),o.labelMargin=i.get("label.margin"),uv(e,t,i,n,{position:dv(t.axis,s,o),align:c.textAlign,verticalAlign:c.textVerticalAlign})},getHandleTransform:function(t,e,i){var n=Lg(e.axis.grid.model,e,{labelInside:!1});return n.labelMargin=i.get("handle.margin"),{position:dv(e.axis,t,n),rotation:n.rotation+(n.labelDirection<0?Math.PI:0)}},updateHandleTransform:function(t,e,i,n){var o=i.axis,a=o.grid,r=o.getGlobalExtent(!0),i=gv(a,o).getOtherAxis(o).getGlobalExtent(),a="x"===o.dim?0:1,o=t.position;o[a]+=e[a],o[a]=Math.min(r[1],o[a]),o[a]=Math.max(r[0],o[a]);i=(i[1]+i[0])/2,i=[i,i];i[a]=o[a];return{position:o,rotation:t.rotation,cursorPoint:i,tooltipOption:[{verticalAlign:"middle"},{align:"center"}][a]}}});function gv(t,e){var i={};return i[e.dim+"AxisIndex"]=e.index,t.getCartesian(i)}var mv={line:function(t,e,i){return{type:"Line",subPixelOptimize:!0,shape:fv([e,i[0]],[e,i[1]],vv(t))}},shadow:function(t,e,i){var n=Math.max(1,t.getBandWidth()),o=i[1]-i[0];return{type:"Rect",shape:(i=[e-n/2,i[0]],o=[n,o],t=vv(t),{x:i[t=t||0],y:i[1-t],width:o[t],height:o[1-t]})}}};function vv(t){return"x"===t.dim?0:1}Ag.registerAxisPointerClass("CartesianAxisPointer",we);function yv(t,e){var i,n=[],o=t.seriesIndex;if(null==o||!(i=e.getSeriesByIndex(o)))return{point:[]};var a=i.getData();return null==(e=ko(a,t))||e<0||O(e)?{point:[]}:(o=a.getItemGraphicEl(e),t=i.coordinateSystem,i.getTooltipPosition?n=i.getTooltipPosition(e)||[]:t&&t.dataToPoint?n=t.dataToPoint(a.getValues(S(t.dimensions,function(t){return a.mapDimension(t)}),e,!0))||[]:o&&((e=o.getBoundingRect().clone()).applyTransform(o.transform),n=[e.x+e.width/2,e.y+e.height/2]),{point:n,el:o})}var xv=L,_v=k,wv=Lo();function bv(t,e,i,n,o){var a,r,s,l,h,u,c,d,f,p,g=t.axis;!g.scale.isBlank()&&g.containData(e)&&(t.involveSeries?(p=(a=(r=e,s=(f=t).axis,l=s.dim,h=r,u=[],c=Number.MAX_VALUE,d=-1,xv(f.seriesModels,function(e,t){var i=e.getData().mapDimension(l,!0);if(e.getAxisTooltipData)var n=e.getAxisTooltipData(i,r,s),o=n.dataIndices,a=n.nestestValue;else{if(!(o=e.getData().indicesOfNearest(i[0],r,"category"===s.type?.5:null)).length)return;a=e.getData().get(i[0],o[0])}null!=a&&isFinite(a)&&(n=r-a,(i=Math.abs(n))<=c&&((i<c||0<=n&&d<0)&&(c=i,d=n,h=a,u.length=0),xv(o,function(t){u.push({seriesIndex:e.seriesIndex,dataIndexInside:t,dataIndex:e.getData().getRawIndex(t)})})))}),{payloadBatch:u,snapToValue:h})).snapToValue,(f=a.payloadBatch)[0]&&null==o.seriesIndex&&C(o,f[0]),!n&&t.snap&&g.containData(p)&&null!=p&&(e=p),i.showPointer(t,e,f,o),i.showTooltip(t,a,p)):i.showPointer(t,e))}function Sv(t,e,i,n){t[e.key]={value:i,payloadBatch:n}}function Mv(t,e,i,n){var o,a=i.payloadBatch,r=e.axis,s=r.model,l=e.axisPointerModel;e.triggerTooltip&&a.length&&(i=Tg(o=e.coordSys.model),(e=t.map[i])||(e=t.map[i]={coordSysId:o.id,coordSysIndex:o.componentIndex,coordSysType:o.type,coordSysMainType:o.mainType,dataByAxis:[]},t.list.push(e)),e.dataByAxis.push({axisDim:r.dim,axisIndex:s.componentIndex,axisType:s.type,axisId:s.id,value:n,valueLabelOpt:{precision:l.get("label.precision"),formatter:l.get("label.formatter")},seriesDataIndices:a.slice()}))}function Iv(t){var e=t.axis.model,i={},t=i.axisDim=t.axis.dim;return i.axisIndex=i[t+"AxisIndex"]=e.componentIndex,i.axisName=i[t+"AxisName"]=e.name,i.axisId=i[t+"AxisId"]=e.id,i}function Tv(t){return!t||null==t[0]||isNaN(t[0])||null==t[1]||isNaN(t[1])}od({type:"axisPointer",coordSysAxesInfo:null,defaultOption:{show:"auto",triggerOn:null,zlevel:0,z:50,type:"line",snap:!1,triggerTooltip:!0,value:null,status:null,link:[],animation:null,animationDurationUpdate:200,lineStyle:{color:"#aaa",width:1,type:"solid"},shadowStyle:{color:"rgba(150,150,150,0.3)"},label:{show:!0,formatter:null,precision:"auto",margin:3,color:"#fff",padding:[5,7,5,7],backgroundColor:"auto",borderColor:null,borderWidth:0,shadowBlur:3,shadowColor:"#aaa"},handle:{show:!1,icon:"M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z",size:45,margin:50,color:"#333",shadowBlur:3,shadowColor:"#aaa",shadowOffsetX:0,shadowOffsetY:2,throttle:40}}});var Av=Lo(),Cv=L;function Dv(t,e,i){var n;v.node||(n=e.getZr(),Av(n).records||(Av(n).records={}),function(s,l){if(Av(s).initialized)return;function t(t,r){s.on(t,function(e){var i,n,o,a=(i=l,{dispatchAction:o=function(t){var e=n[t.type];e?e.push(t):(t.dispatchAction=o,i.dispatchAction(t))},pendings:n={showTip:[],hideTip:[]}});Cv(Av(s).records,function(t){t&&r(t,e,a.dispatchAction)}),function(t,e){var i,n=t.showTip.length,o=t.hideTip.length;n?i=t.showTip[n-1]:o&&(i=t.hideTip[o-1]);i&&(i.dispatchAction=null,e.dispatchAction(i))}(a.pendings,l)})}Av(s).initialized=!0,t("click",k(Lv,"click")),t("mousemove",k(Lv,"mousemove")),t("globalout",kv)}(n,e),(Av(n).records[t]||(Av(n).records[t]={})).handler=i)}function kv(t,e,i){t.handler("leave",null,i)}function Lv(t,e,i,n){e.handler(t,i,n)}function Pv(t,e){v.node||(e=e.getZr(),(Av(e).records||{})[t]&&(Av(e).records[t]=null))}var Ov=ad({type:"axisPointer",render:function(t,e,i){var e=e.getComponent("tooltip"),n=t.get("triggerOn")||e&&e.get("triggerOn")||"mousemove|click";Dv("axisPointer",i,function(t,e,i){"none"!==n&&("leave"===t||0<=n.indexOf(t))&&i({type:"updateAxisPointer",currTrigger:t,x:e&&e.offsetX,y:e&&e.offsetY})})},remove:function(t,e){Pv(e.getZr(),"axisPointer"),Ov.superApply(this._model,"remove",arguments)},dispose:function(t,e){Pv("axisPointer",e),Ov.superApply(this._model,"dispose",arguments)}});function zv(t){return t.get("stack")||"__ec_stack_"+t.seriesIndex}function Rv(t,e){return e.dim+t.model.componentIndex}function Ev(t,e){ap.call(this,"radius",t,e),this.type="category"}$c(function(t){var e;t&&(t.axisPointer&&0!==t.axisPointer.length||(t.axisPointer={}),(e=t.axisPointer.link)&&!O(e)&&(t.axisPointer.link=[e]))}),Qc(Nn.PROCESSOR.STATISTIC,function(t,e){t.getComponent("axisPointer").coordSysAxesInfo=bg(t,e)}),Jc({type:"updateAxisPointer",event:"updateAxisPointer",update:":updateAxisPointer"},function(t,e,i){var n=t.currTrigger,a=[t.x,t.y],o=t,r=t.dispatchAction||T(i.dispatchAction,i),s=e.getComponent("axisPointer").coordSysAxesInfo;if(s){Tv(a)&&(a=yv({seriesIndex:o.seriesIndex,dataIndex:o.dataIndex},e).point);var l=Tv(a),h=o.axesInfo,u=s.axesInfo,c="leave"===n||Tv(a),d={},f={},o={list:[],map:{}},p={showPointer:_v(Sv,f),showTooltip:_v(Mv,o)};xv(s.coordSysMap,function(t,e){var o=l||t.containPoint(a);xv(s.coordSysAxesInfo[e],function(t,e){var i=t.axis,n=function(t,e){for(var i=0;i<(t||[]).length;i++){var n=t[i];if(e.axis.dim===n.axisDim&&e.axis.model.componentIndex===n.axisIndex)return n}}(h,t);c||!o||h&&!n||(null!=(n=n&&n.value)||l||(n=i.pointToData(a)),null!=n&&bv(t,n,p,!1,d))})});var g,m,v={};return xv(u,function(i,t){var n=i.linkGroup;n&&!f[t]&&xv(n.axesInfo,function(t,e){e=f[e];t!==i&&e&&(e=e.value,n.mapper&&(e=i.axis.scale.parse(n.mapper(e,Iv(t),Iv(i)))),v[i.key]=e)})}),xv(v,function(t,e){bv(u[e],t,p,!0,d)}),g=f,n=u,m=d.axesInfo=[],xv(n,function(t,e){var i=t.axisPointerModel.option,e=g[e];e?(t.useHandle||(i.status="show"),i.value=e.value,i.seriesDataIndices=(e.payloadBatch||[]).slice()):t.useHandle||(i.status="hide"),"show"===i.status&&m.push({axisDim:t.axis.dim,axisIndex:t.axis.model.componentIndex,value:i.value})}),function(t,e,i,n){if(Tv(e)||!t.list.length)return n({type:"hideTip"});var o=((t.list[0].dataByAxis[0]||{}).seriesDataIndices||[])[0]||{};n({type:"showTip",escapeConnect:!0,x:e[0],y:e[1],tooltipOption:i.tooltipOption,position:i.position,dataIndexInside:o.dataIndexInside,dataIndex:o.dataIndex,seriesIndex:o.seriesIndex,dataByCoordSys:t.list})}(o,a,t,r),function(t,e){var i=e.getZr(),n="axisPointerLastHighlights",o=wv(i)[n]||{},a=wv(i)[n]={};xv(t,function(t,e){t=t.axisPointerModel.option;"show"===t.status&&xv(t.seriesDataIndices,function(t){var e=t.seriesIndex+" | "+t.dataIndex;a[e]=t})});var r=[],s=[];L(o,function(t,e){a[e]||s.push(t)}),L(a,function(t,e){o[e]||r.push(t)}),s.length&&e.dispatchAction({type:"downplay",escapeConnect:!0,batch:s}),r.length&&e.dispatchAction({type:"highlight",escapeConnect:!0,batch:r})}(u,i),d}}),Ev.prototype={constructor:Ev,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToRadius:ap.prototype.dataToCoord,radiusToData:ap.prototype.coordToData},w(Ev,ap);var Nv=Lo();function Bv(t,e){ap.call(this,"angle",t,e=e||[0,360]),this.type="category"}Bv.prototype={constructor:Bv,pointToData:function(t,e){return this.polar.pointToData(t,e)["radius"===this.dim?0:1]},dataToAngle:ap.prototype.dataToCoord,angleToData:ap.prototype.coordToData,calculateCategoryInterval:function(){var t=this.getLabelModel(),e=this.scale,i=e.getExtent(),n=e.count();if(i[1]-i[0]<1)return 0;var o=i[0],e=this.dataToCoord(o+1)-this.dataToCoord(o),i=Math.abs(e),e=nn(o,t.getFont(),"center","top"),o=Math.max(e.height,7)/i;isNaN(o)&&(o=1/0);t=Math.max(0,Math.floor(o)),e=Nv(this.model),i=e.lastAutoInterval,o=e.lastTickCount;return null!=i&&null!=o&&Math.abs(i-t)<=1&&Math.abs(o-n)<=1&&t<i?t=i:(e.lastTickCount=n,e.lastAutoInterval=t),t}},w(Bv,ap);function Vv(t){this.name=t||"",this.cx=0,this.cy=0,this._radiusAxis=new Ev,this._angleAxis=new Bv,this._radiusAxis.polar=this._angleAxis.polar=this}Vv.prototype={type:"polar",axisPointerEnabled:!0,constructor:Vv,dimensions:["radius","angle"],model:null,containPoint:function(t){t=this.pointToCoord(t);return this._radiusAxis.contain(t[0])&&this._angleAxis.contain(t[1])},containData:function(t){return this._radiusAxis.containData(t[0])&&this._angleAxis.containData(t[1])},getAxis:function(t){return this["_"+t+"Axis"]},getAxes:function(){return[this._radiusAxis,this._angleAxis]},getAxesByScale:function(t){var e=[],i=this._angleAxis,n=this._radiusAxis;return i.scale.type===t&&e.push(i),n.scale.type===t&&e.push(n),e},getAngleAxis:function(){return this._angleAxis},getRadiusAxis:function(){return this._radiusAxis},getOtherAxis:function(t){var e=this._angleAxis;return t===e?this._radiusAxis:e},getBaseAxis:function(){return this.getAxesByScale("ordinal")[0]||this.getAxesByScale("time")[0]||this.getAngleAxis()},getTooltipAxes:function(t){t=null!=t&&"auto"!==t?this.getAxis(t):this.getBaseAxis();return{baseAxes:[t],otherAxes:[this.getOtherAxis(t)]}},dataToPoint:function(t,e){return this.coordToPoint([this._radiusAxis.dataToRadius(t[0],e),this._angleAxis.dataToAngle(t[1],e)])},pointToData:function(t,e){t=this.pointToCoord(t);return[this._radiusAxis.radiusToData(t[0],e),this._angleAxis.angleToData(t[1],e)]},pointToCoord:function(t){var e=t[0]-this.cx,i=t[1]-this.cy,n=this.getAngleAxis(),t=n.getExtent(),o=Math.min(t[0],t[1]),a=Math.max(t[0],t[1]);n.inverse?o=a-360:a=o+360;n=Math.sqrt(e*e+i*i);e/=n,i/=n;for(var r=Math.atan2(-i,e)/Math.PI*180,s=r<o?1:-1;r<o||a<r;)r+=360*s;return[n,r]},coordToPoint:function(t){var e=t[0],t=t[1]/180*Math.PI;return[Math.cos(t)*e+this.cx,-Math.sin(t)*e+this.cy]},getArea:function(){var t=this.getAngleAxis(),e=this.getRadiusAxis().getExtent().slice();e[0]>e[1]&&e.reverse();var i=t.getExtent(),n=Math.PI/180;return{cx:this.cx,cy:this.cy,r0:e[0],r:e[1],startAngle:-i[0]*n,endAngle:-i[1]*n,clockwise:t.inverse,contain:function(t,e){var i=t-this.cx,t=e-this.cy,e=i*i+t*t,i=this.r,t=this.r0;return e<=i*i&&t*t<=e}}}};Uo=Wl.extend({type:"polarAxis",axis:null,getCoordSysModel:function(){return this.ecModel.queryComponents({mainType:"polar",index:this.option.polarIndex,id:this.option.polarId})[0]}});g(Uo.prototype,Vf);we={splitNumber:5};function Fv(t,e){return e.type||(e.data?"category":"value")}function Hv(t,e){var i,n=this,o=n.getAngleAxis(),a=n.getRadiusAxis();o.scale.setExtent(1/0,-1/0),a.scale.setExtent(1/0,-1/0),t.eachSeries(function(t){var e;t.coordinateSystem===n&&(L((e=t.getData()).mapDimension("radius",!0),function(t){a.scale.unionExtentFromData(e,Zd(e,t))}),L(e.mapDimension("angle",!0),function(t){o.scale.unionExtentFromData(e,Zd(e,t))}))}),Pf(o.scale,o.model),Pf(a.scale,a.model),"category"!==o.type||o.onBand||(i=o.getExtent(),t=360/o.scale.count(),o.inverse?i[1]+=t:i[1]-=t,o.setExtent(i[0],i[1]))}function Wv(t,e){var i;t.type=e.get("type"),t.scale=Of(e),t.onBand=e.get("boundaryGap")&&"category"===t.type,t.inverse=e.get("inverse"),"angleAxis"===e.mainType&&(t.inverse^=e.get("clockwise"),i=e.get("startAngle"),t.setExtent(i,i+(t.inverse?-360:360))),(e.axis=t).model=e}ye("angle",Uo,Fv,{startAngle:90,clockwise:!0,splitNumber:12,axisLabel:{rotate:!1}}),ye("radius",Uo,Fv,we),od({type:"polar",dependencies:["polarAxis","angleAxis"],coordinateSystem:null,findAxisModel:function(t){var e;return this.ecModel.eachComponent(t,function(t){t.getCoordSysModel()===this&&(e=t)},this),e},defaultOption:{zlevel:0,z:0,center:["50%","50%"],radius:"80%"}}),yh.register("polar",{dimensions:Vv.prototype.dimensions,create:function(i,s){var l=[];return i.eachComponent("polar",function(t,e){var i=new Vv(e);i.update=Hv;var n=i.getRadiusAxis(),o=i.getAngleAxis(),a=t.findAxisModel("radiusAxis"),r=t.findAxisModel("angleAxis");Wv(n,a),Wv(o,r),e=i,n=s,o=(a=t).get("center"),r=n.getWidth(),n=n.getHeight(),e.cx=tl(o[0],r),e.cy=tl(o[1],n),e=e.getRadiusAxis(),n=Math.min(r,n)/2,null==(a=a.get("radius"))?a=[0,"100%"]:O(a)||(a=[0,a]),a=[tl(a[0],n),tl(a[1],n)],e.inverse?e.setExtent(a[1],a[0]):e.setExtent(a[0],a[1]),l.push(i),(t.coordinateSystem=i).model=t}),i.eachSeries(function(t){var e;"polar"===t.get("coordinateSystem")&&(e=i.queryComponents({mainType:"polar",index:t.get("polarIndex"),id:t.get("polarId")})[0],t.coordinateSystem=e.coordinateSystem)}),l}});var Gv=["axisLine","axisLabel","axisTick","minorTick","splitLine","minorSplitLine","splitArea"];function Zv(t,e,i){e[1]>e[0]&&(e=e.slice().reverse());var n=t.coordToPoint([e[0],i]),i=t.coordToPoint([e[1],i]);return{x1:n[0],y1:n[1],x2:i[0],y2:i[1]}}function Xv(t){return t.getRadiusAxis().inverse?0:1}function Uv(t){var e=t[0],i=t[t.length-1];e&&i&&Math.abs(Math.abs(e.coord-i.coord)-360)<1e-4&&t.pop()}Ag.extend({type:"angleAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){var i,n,o,a,r,s;this.group.removeAll(),e.get("show")&&(i=e.axis,n=i.polar,o=n.getRadiusAxis().getExtent(),a=i.getTicksCoords(),r=i.getMinorTicksCoords(),Uv(s=S(i.getViewLabels(),function(t){return(t=A(t)).coord=i.dataToCoord(t.tickValue),t})),Uv(a),L(Gv,function(t){!e.get(t+".show")||i.scale.isBlank()&&"axisLine"!==t||this["_"+t](e,n,a,r,o,s)},this))},_axisLine:function(t,e,i,n,o){var a=t.getModel("axisLine.lineStyle"),r=Xv(e),t=r?0:1,a=0===o[t]?new br({shape:{cx:e.cx,cy:e.cy,r:o[r]},style:a.getLineStyle(),z2:1,silent:!0}):new Ir({shape:{cx:e.cx,cy:e.cy,r:o[r],r0:o[t]},style:a.getLineStyle(),z2:1,silent:!0});a.style.fill=null,this.group.add(a)},_axisTick:function(t,e,i,n,o){var a=t.getModel("axisTick"),r=(a.get("inside")?-1:1)*a.get("length"),s=o[Xv(e)],i=S(i,function(t){return new Nr({shape:Zv(e,[s,s+r],t.coord)})});this.group.add(as(i,{style:D(a.getModel("lineStyle").getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")})}))},_minorTick:function(t,e,i,n,o){if(n.length){for(var a=t.getModel("axisTick"),r=t.getModel("minorTick"),s=(a.get("inside")?-1:1)*r.get("length"),l=o[Xv(e)],h=[],u=0;u<n.length;u++)for(var c=0;c<n[u].length;c++)h.push(new Nr({shape:Zv(e,[l,l+s],n[u][c].coord)}));this.group.add(as(h,{style:D(r.getModel("lineStyle").getLineStyle(),D(a.getLineStyle(),{stroke:t.get("axisLine.lineStyle.color")}))}))}},_axisLabel:function(l,h,t,e,u,i){var c=l.getCategories(!0),d=l.getModel("axisLabel"),f=d.get("margin"),p=l.get("triggerEvent");L(i,function(t,e){var i=d,n=t.tickValue,o=u[Xv(h)],a=h.coordToPoint([o+f,t.coord]),r=h.cx,s=h.cy,r=Math.abs(a[0]-r)/o<.3?"center":a[0]>r?"left":"right",s=Math.abs(a[1]-s)/o<.3?"middle":a[1]>s?"top":"bottom";c&&c[n]&&c[n].textStyle&&(i=new Ys(c[n].textStyle,d,d.ecModel));n=new wr({silent:ug.isLabelSilent(l)});this.group.add(n),Ts(n.style,i,{x:a[0],y:a[1],textFill:i.getTextColor()||l.get("axisLine.lineStyle.color"),text:t.formattedLabel,textAlign:r,textVerticalAlign:s}),p&&(n.eventData=ug.makeAxisEventDataBase(l),n.eventData.targetType="axisLabel",n.eventData.value=t.rawLabel)},this)},_splitLine:function(t,e,i,n,o){for(var a=t.getModel("splitLine").getModel("lineStyle"),r=0,s=(s=a.get("color"))instanceof Array?s:[s],l=[],h=0;h<i.length;h++){var u=r++%s.length;l[u]=l[u]||[],l[u].push(new Nr({shape:Zv(e,o,i[h].coord)}))}for(h=0;h<l.length;h++)this.group.add(as(l[h],{style:D({stroke:s[h%s.length]},a.getLineStyle()),silent:!0,z:t.get("z")}))},_minorSplitLine:function(t,e,i,n,o){if(n.length){for(var a=t.getModel("minorSplitLine").getModel("lineStyle"),r=[],s=0;s<n.length;s++)for(var l=0;l<n[s].length;l++)r.push(new Nr({shape:Zv(e,o,n[s][l].coord)}));this.group.add(as(r,{style:a.getLineStyle(),silent:!0,z:t.get("z")}))}},_splitArea:function(t,e,i,n,o){if(i.length){for(var a=t.getModel("splitArea").getModel("areaStyle"),r=0,s=(s=a.get("color"))instanceof Array?s:[s],l=[],h=Math.PI/180,u=-i[0].coord*h,c=Math.min(o[0],o[1]),d=Math.max(o[0],o[1]),f=t.get("clockwise"),p=1;p<i.length;p++){var g=r++%s.length;l[g]=l[g]||[],l[g].push(new Mr({shape:{cx:e.cx,cy:e.cy,r0:c,r:d,startAngle:u,endAngle:-i[p].coord*h,clockwise:f},silent:!0})),u=-i[p].coord*h}for(p=0;p<l.length;p++)this.group.add(as(l[p],{style:D({fill:s[p%s.length]},a.getAreaStyle()),silent:!0}))}}});var Yv=["axisLine","axisTickLabel","axisName"],qv=["splitLine","splitArea","minorSplitLine"];Ag.extend({type:"radiusAxis",axisPointerClass:"PolarAxisPointer",render:function(e,t){var i,n,o,a,r,s,l,h,u;this.group.removeAll(),e.get("show")&&(i=e.axis,l=(n=i.polar).getAngleAxis(),o=i.getTicksCoords(),a=i.getMinorTicksCoords(),r=l.getExtent()[0],s=i.getExtent(),u=e,h=r,u={position:[(l=n).cx,l.cy],rotation:h/180*Math.PI,labelDirection:-1,tickDirection:-1,nameDirection:1,labelRotate:u.getModel("axisLabel").get("rotate"),z2:1},u=new ug(e,u),L(Yv,u.add,u),this.group.add(u.getGroup()),L(qv,function(t){e.get(t+".show")&&!i.scale.isBlank()&&this["_"+t](e,n,r,s,o,a)},this))},_splitLine:function(t,e,i,n,o){for(var a=t.getModel("splitLine").getModel("lineStyle"),r=0,s=(s=a.get("color"))instanceof Array?s:[s],l=[],h=0;h<o.length;h++){var u=r++%s.length;l[u]=l[u]||[],l[u].push(new br({shape:{cx:e.cx,cy:e.cy,r:o[h].coord}}))}for(h=0;h<l.length;h++)this.group.add(as(l[h],{style:D({stroke:s[h%s.length],fill:null},a.getLineStyle()),silent:!0}))},_minorSplitLine:function(t,e,i,n,o,a){if(a.length){for(var t=t.getModel("minorSplitLine").getModel("lineStyle"),r=[],s=0;s<a.length;s++)for(var l=0;l<a[s].length;l++)r.push(new br({shape:{cx:e.cx,cy:e.cy,r:a[s][l].coord}}));this.group.add(as(r,{style:D({fill:null},t.getLineStyle()),silent:!0}))}},_splitArea:function(t,e,i,n,o){if(o.length){for(var a=t.getModel("splitArea").getModel("areaStyle"),r=0,s=(s=a.get("color"))instanceof Array?s:[s],l=[],h=o[0].coord,u=1;u<o.length;u++){var c=r++%s.length;l[c]=l[c]||[],l[c].push(new Mr({shape:{cx:e.cx,cy:e.cy,r0:h,r:o[u].coord,startAngle:0,endAngle:2*Math.PI},silent:!0})),h=o[u].coord}for(u=0;u<l.length;u++)this.group.add(as(l[u],{style:D({fill:s[u%s.length]},a.getAreaStyle()),silent:!0}))}}});we=ov.extend({makeElOption:function(t,e,i,n,o){var a=i.axis;"angle"===a.dim&&(this.animationThreshold=Math.PI/18);var r,s=a.polar,l=s.getOtherAxis(a).getExtent(),h=a["dataTo"+Al(a.dim)](e),u=n.get("type");u&&"none"!==u&&(r=hv(n),(c=jv[u](a,s,h,l,r)).style=r,t.graphicKey=c.type,t.pointer=c);var c=n.get("label.margin");uv(t,i,n,o,function(t,e,i,n){var o=e.axis,a=o.dataToCoord(t),r=i.getAngleAxis().getExtent()[0];r=r/180*Math.PI;var s,t=i.getRadiusAxis().getExtent();{var l,h;h="radius"===o.dim?(oe(l=Jt(),l,r),ne(l,l,[i.cx,i.cy]),s=Ns([a,-n],l),l=e.getModel("axisLabel").get("rotate")||0,r=ug.innerTextLayout(r,l*Math.PI/180,-1),l=r.textAlign,r.textVerticalAlign):(t=t[1],s=i.coordToPoint([t+n,a]),a=i.cx,h=i.cy,l=Math.abs(s[0]-a)/t<.3?"center":s[0]>a?"left":"right",Math.abs(s[1]-h)/t<.3?"middle":s[1]>h?"top":"bottom")}return{position:s,align:l,verticalAlign:h}}(e,i,s,c))}});var jv={line:function(t,e,i,n,o){return"angle"===t.dim?{type:"Line",shape:fv(e.coordToPoint([n[0],i]),e.coordToPoint([n[1],i]))}:{type:"Circle",shape:{cx:e.cx,cy:e.cy,r:i}}},shadow:function(t,e,i,n,o){var a=Math.max(1,t.getBandWidth()),r=Math.PI/180;return"angle"===t.dim?{type:"Sector",shape:pv(e.cx,e.cy,n[0],n[1],(-i-a/2)*r,(a/2-i)*r)}:{type:"Sector",shape:pv(e.cx,e.cy,i-a/2,i+a/2,0,2*Math.PI)}}};Ag.registerAxisPointerClass("PolarAxisPointer",we),td(k(function(t,e,i){var D={},k=function(t){var l={};L(t,function(t,e){var i=t.getData(),n=t.coordinateSystem,o=n.getBaseAxis(),a=Rv(n,o),r=o.getExtent(),s="category"===o.type?o.getBandWidth():Math.abs(r[1]-r[0])/i.count(),n=l[a]||{bandWidth:s,remainedWidth:s,autoWidthCount:0,categoryGap:"20%",gap:"30%",stacks:{}},o=n.stacks;l[a]=n;r=zv(t);o[r]||n.autoWidthCount++,o[r]=o[r]||{width:0,maxWidth:0};i=tl(t.get("barWidth"),s),a=tl(t.get("barMaxWidth"),s),s=t.get("barGap"),t=t.get("barCategoryGap");i&&!o[r].width&&(i=Math.min(n.remainedWidth,i),o[r].width=i,n.remainedWidth-=i),a&&(o[r].maxWidth=a),null!=s&&(n.gap=s),null!=t&&(n.categoryGap=t)});var c={};return L(l,function(t,i){c[i]={};var e=t.stacks,n=t.bandWidth,n=tl(t.categoryGap,n),o=tl(t.gap,1),a=t.remainedWidth,r=t.autoWidthCount,s=(a-n)/(r+(r-1)*o),s=Math.max(s,0);L(e,function(t,e){var i=t.maxWidth;i&&i<s&&(i=Math.min(i,a),t.width&&(i=Math.min(i,t.width)),a-=i,t.width=i,r--)}),s=(a-n)/(r+(r-1)*o),s=Math.max(s,0);var l,h=0;L(e,function(t,e){t.width||(t.width=s),h+=(l=t).width*(1+o)}),l&&(h-=l.width*o);var u=-h/2;L(e,function(t,e){c[i][e]=c[i][e]||{offset:u,width:t.width},u+=t.width*(1+o)})}),c}(I(e.getSeriesByType(t),function(t){return!e.isSeriesFiltered(t)&&t.coordinateSystem&&"polar"===t.coordinateSystem.type}));e.eachSeriesByType(t,function(t){if("polar"===t.coordinateSystem.type){var e=t.getData(),i=t.coordinateSystem,n=i.getBaseAxis(),o=Rv(i,n),a=zv(t),o=k[o][a],r=o.offset,s=o.width,l=i.getOtherAxis(n),h=t.coordinateSystem.cx,u=t.coordinateSystem.cy,c=t.get("barMinHeight")||0,d=t.get("barMinAngle")||0;D[a]=D[a]||[];for(var f=e.mapDimension(l.dim),p=e.mapDimension(n.dim),g=Gd(e,f),m="radius"!==n.dim||!t.get("roundCap",!0),v="radius"===l.dim?l.dataToRadius(0):l.dataToAngle(0),y=0,x=e.count();y<x;y++){var _,w,b,S,M,I=e.get(f,y),T=e.get(p,y),A=0<=I?"p":"n",C=v;g&&(D[a][T]||(D[a][T]={p:v,n:v}),C=D[a][T][A]),"radius"===l.dim?(S=l.dataToRadius(I)-v,M=n.dataToAngle(T),Math.abs(S)<c&&(S=(S<0?-1:1)*c),w=(_=C)+S,S=(b=M-r)-s,g&&(D[a][T][A]=w)):(M=l.dataToAngle(I,m)-v,I=n.dataToRadius(T),Math.abs(M)<d&&(M=(M<0?-1:1)*d),w=(_=I+r)+s,S=(b=C)+M,g&&(D[a][T][A]=S)),e.setItemLayout(y,{cx:h,cy:u,r0:_,r:w,startAngle:-b*Math.PI/180,endAngle:-S*Math.PI/180})}}},this)},"bar")),ad({type:"polar"}),od({type:"tooltip",dependencies:["axisPointer"],defaultOption:{zlevel:0,z:60,show:!0,showContent:!0,trigger:"item",triggerOn:"mousemove|click",alwaysShowContent:!1,displayMode:"single",renderMode:"auto",confine:!1,showDelay:0,hideDelay:100,transitionDuration:.4,enterable:!1,backgroundColor:"rgba(50,50,50,0.7)",borderColor:"#333",borderRadius:4,borderWidth:0,padding:5,extraCssText:"",axisPointer:{type:"line",axis:"auto",animation:"auto",animationDurationUpdate:200,animationEasingUpdate:"exponentialOut",crossStyle:{color:"#999",width:1,type:"dashed",textStyle:{}}},textStyle:{color:"#fff",fontSize:14}}});var Kv=L,$v=ml,Qv=["","-webkit-","-moz-","-o-"];function Jv(n){var t,e,o=[],i=n.get("transitionDuration"),a=n.get("backgroundColor"),r=n.getModel("textStyle"),s=n.get("padding");return i&&o.push((e="left "+(t=i)+"s "+(i="cubic-bezier(0.23, 1, 0.32, 1)")+",top "+t+"s "+i,S(Qv,function(t){return t+"transition:"+e}).join(";"))),a&&(v.canvasSupported?o.push("background-Color:"+a):(o.push("background-Color:#"+Ne(a)),o.push("filter:alpha(opacity=70)"))),Kv(["width","color","radius"],function(t){var e="border-"+t,i=$v(e),i=n.get(i);null!=i&&o.push(e+":"+i+("color"===t?"":"px"))}),o.push(function(i){var n=[],t=i.get("fontSize");(o=i.getTextColor())&&n.push("color:"+o),n.push("font:"+i.getFont()),null==(a=i.get("lineHeight"))&&(a=Math.round(3*t/2)),t&&n.push("line-height:"+a+"px");var e=i.get("textShadowColor"),o=i.get("textShadowBlur")||0,t=i.get("textShadowOffsetX")||0,a=i.get("textShadowOffsetY")||0;return o&&n.push("text-shadow:"+t+"px "+a+"px "+o+"px "+e),Kv(["decoration","align"],function(t){var e=i.get(t);e&&n.push("text-"+t+":"+e)}),n.join(";")}(r)),null!=s&&o.push("padding:"+vl(s).join("px ")+"px"),o.join(";")+";"}function ty(t,e,i,n,o){var a,r,s=e&&e.painter;i?(r=s&&s.getViewportRoot())&&(a=t,i=r,r=document.body,Pt(Lt,i,n,o,!0)&&Pt(a,r,Lt[0],Lt[1])):(t[0]=n,t[1]=o,(s=s&&s.getViewportRootOffset())&&(t[0]+=s.offsetLeft,t[1]+=s.offsetTop)),t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}function ey(t,e,i){if(v.wxa)return null;var n=document.createElement("div");n.domBelongToZr=!0,this.el=n;var o=this._zr=e.getZr(),i=this._appendToBody=i&&i.appendToBody;this._styleCoord=[0,0,0,0],ty(this._styleCoord,o,i,e.getWidth()/2,e.getHeight()/2),(i?document.body:t).appendChild(n),this._container=t,this._show=!1,this._hideTimeout;var a=this;n.onmouseenter=function(){a._enterable&&(clearTimeout(a._hideTimeout),a._show=!0),a._inContent=!0},n.onmousemove=function(t){var e;t=t||window.event,a._enterable||(e=o.handler,Ft(o.painter.getViewportRoot(),t,!0),e.dispatch("mousemove",t))},n.onmouseleave=function(){a._enterable&&a._show&&a.hideLater(a._hideDelay),a._inContent=!1}}function iy(t,e,i,n){t[0]=i,t[1]=n,t[2]=t[0]/e.getWidth(),t[3]=t[1]/e.getHeight()}function ny(t){var e=this._zr=t.getZr();this._styleCoord=[0,0,0,0],iy(this._styleCoord,e,t.getWidth()/2,t.getHeight()/2),this._show=!1,this._hideTimeout}ey.prototype={constructor:ey,_enterable:!0,update:function(t){var e=this._container,i=e.currentStyle||document.defaultView.getComputedStyle(e),e=e.style;"absolute"!==e.position&&"absolute"!==i.position&&(e.position="relative"),t.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var t=this._styleCoord[2],e=this._styleCoord[3],t=t*this._zr.getWidth(),e=e*this._zr.getHeight();this.moveTo(t,e)},show:function(t){clearTimeout(this._hideTimeout);var e=this.el,i=this._styleCoord;e.style.cssText="position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;"+Jv(t)+";left:"+i[0]+"px;top:"+i[1]+"px;"+(t.get("extraCssText")||""),e.style.display=e.innerHTML?"block":"none",e.style.pointerEvents=this._enterable?"auto":"none",this._show=!0},setContent:function(t){this.el.innerHTML=null==t?"":t},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el;return[t.clientWidth,t.clientHeight]},moveTo:function(t,e){var i=this._styleCoord;ty(i,this._zr,this._appendToBody,t,e);e=this.el.style;e.left=i[0]+"px",e.top=i[1]+"px"},hide:function(){this.el.style.display="none",this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(T(this.hide,this),t)):this.hide())},isShow:function(){return this._show},dispose:function(){this.el.parentNode.removeChild(this.el)},getOuterSize:function(){var t,e=this.el.clientWidth,i=this.el.clientHeight;return document.defaultView&&document.defaultView.getComputedStyle&&((t=document.defaultView.getComputedStyle(this.el))&&(e+=parseInt(t.borderLeftWidth,10)+parseInt(t.borderRightWidth,10),i+=parseInt(t.borderTopWidth,10)+parseInt(t.borderBottomWidth,10))),{width:e,height:i}}},ny.prototype={constructor:ny,_enterable:!0,update:function(t){t.get("alwaysShowContent")&&this._moveTooltipIfResized()},_moveTooltipIfResized:function(){var t=this._styleCoord[2],e=this._styleCoord[3],t=t*this._zr.getWidth(),e=e*this._zr.getHeight();this.moveTo(t,e)},show:function(t){this._hideTimeout&&clearTimeout(this._hideTimeout),this.el.attr("show",!0),this._show=!0},setContent:function(t,e,i){this.el&&this._zr.remove(this.el);for(var n={},o=t,a="{marker",r=o.indexOf(a);0<=r;){var s=o.indexOf("|}"),l=o.substr(r+a.length,s-r-a.length);-1<l.indexOf("sub")?n["marker"+l]={textWidth:4,textHeight:4,textBorderRadius:2,textBackgroundColor:e[l],textOffset:[3,0]}:n["marker"+l]={textWidth:10,textHeight:10,textBorderRadius:5,textBackgroundColor:e[l]},r=(o=o.substr(s+1)).indexOf("{marker")}var h=i.getModel("textStyle"),u=h.get("fontSize"),c=i.get("textLineHeight");null==c&&(c=Math.round(3*u/2)),this.el=new wr({style:Ts({},h,{rich:n,text:t,textBackgroundColor:i.get("backgroundColor"),textBorderRadius:i.get("borderRadius"),textFill:i.get("textStyle.color"),textPadding:i.get("padding"),textLineHeight:c}),z:i.get("z")}),this._zr.add(this.el);var d=this;this.el.on("mouseover",function(){d._enterable&&(clearTimeout(d._hideTimeout),d._show=!0),d._inContent=!0}),this.el.on("mouseout",function(){d._enterable&&d._show&&d.hideLater(d._hideDelay),d._inContent=!1})},setEnterable:function(t){this._enterable=t},getSize:function(){var t=this.el.getBoundingRect();return[t.width,t.height]},moveTo:function(t,e){var i;this.el&&(iy(i=this._styleCoord,this._zr,t,e),this.el.attr("position",[i[0],i[1]]))},hide:function(){this.el&&this.el.hide(),this._show=!1},hideLater:function(t){!this._show||this._inContent&&this._enterable||(t?(this._hideDelay=t,this._show=!1,this._hideTimeout=setTimeout(T(this.hide,this),t)):this.hide())},isShow:function(){return this._show},dispose:function(){clearTimeout(this._hideTimeout),this.el&&this._zr.remove(this.el)},getOuterSize:function(){var t=this.getSize();return{width:t[0],height:t[1]}}};var oy=T,ay=L,ry=tl,sy=new Rr({shape:{x:-1,y:-1,width:2,height:2}});function ly(t){for(var e=t.pop();t.length;){var i=t.pop();i&&(Ys.isInstance(i)&&(i=i.get("tooltip",!0)),"string"==typeof i&&(i={formatter:i}),e=new Ys(i,e,e.ecModel))}return e}function hy(t,e){return t.dispatchAction||T(e.dispatchAction,e)}function uy(t){return"center"===t||"middle"===t}ad({type:"tooltip",init:function(t,e){var i,n;v.node||(t=(i=t.getComponent("tooltip")).get("renderMode"),this._renderMode=Eo(t),"html"===this._renderMode?(n=new ey(e.getDom(),e,{appendToBody:i.get("appendToBody",!0)}),this._newLine="<br/>"):(n=new ny(e),this._newLine="\n"),this._tooltipContent=n)},render:function(t,e,i){v.node||(this.group.removeAll(),this._tooltipModel=t,this._ecModel=e,this._api=i,this._lastDataByCoordSys=null,this._alwaysShowContent=t.get("alwaysShowContent"),(i=this._tooltipContent).update(t),i.setEnterable(t.get("enterable")),this._initGlobalListener(),this._keepShow())},_initGlobalListener:function(){var n=this._tooltipModel.get("triggerOn");Dv("itemTooltip",this._api,oy(function(t,e,i){"none"!==n&&(0<=n.indexOf(t)?this._tryShow(e,i):"leave"===t&&this._hide(i))},this))},_keepShow:function(){var t,e=this._tooltipModel,i=this._ecModel,n=this._api;null!=this._lastX&&null!=this._lastY&&"none"!==e.get("triggerOn")&&(t=this,clearTimeout(this._refreshUpdateTimeout),this._refreshUpdateTimeout=setTimeout(function(){n.isDisposed()||t.manuallyShowTip(e,i,n,{x:t._lastX,y:t._lastY})}))},manuallyShowTip:function(t,e,i,n){var o,a,r;n.from===this.uid||v.node||(o=hy(n,i),this._ticket="",r=n.dataByCoordSys,n.tooltip&&null!=n.x&&null!=n.y?((a=sy).position=[n.x,n.y],a.update(),a.tooltip=n.tooltip,this._tryShow({offsetX:n.x,offsetY:n.y,target:a},o)):r?this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,dataByCoordSys:n.dataByCoordSys,tooltipOption:n.tooltipOption},o):null!=n.seriesIndex?this._manuallyAxisShowTip(t,e,i,n)||(t=(r=yv(n,e)).point[0],e=r.point[1],null!=t&&null!=e&&this._tryShow({offsetX:t,offsetY:e,position:n.position,target:r.el},o)):null!=n.x&&null!=n.y&&(i.dispatchAction({type:"updateAxisPointer",x:n.x,y:n.y}),this._tryShow({offsetX:n.x,offsetY:n.y,position:n.position,target:i.getZr().findHover(n.x,n.y).target},o)))},manuallyHideTip:function(t,e,i,n){var o=this._tooltipContent;!this._alwaysShowContent&&this._tooltipModel&&o.hideLater(this._tooltipModel.get("hideDelay")),this._lastX=this._lastY=null,n.from!==this.uid&&this._hide(hy(n,i))},_manuallyAxisShowTip:function(t,e,i,n){var o=n.seriesIndex,a=n.dataIndex,r=e.getComponent("axisPointer").coordSysAxesInfo;if(null!=o&&null!=a&&null!=r){e=e.getSeriesByIndex(o);if(e)if("axis"===(t=ly([e.getData().getItemModel(a),e,(e.coordinateSystem||{}).model,t])).get("trigger"))return i.dispatchAction({type:"updateAxisPointer",seriesIndex:o,dataIndex:a,position:n.position}),!0}},_tryShow:function(t,e){var i,n=t.target;this._tooltipModel&&(this._lastX=t.offsetX,this._lastY=t.offsetY,(i=t.dataByCoordSys)&&i.length?this._showAxisTooltip(i,t):n&&null!=n.dataIndex?(this._lastDataByCoordSys=null,this._showSeriesItemTooltip(t,n,e)):n&&n.tooltip?(this._lastDataByCoordSys=null,this._showComponentItemTooltip(t,n,e)):(this._lastDataByCoordSys=null,this._hide(e)))},_showOrMove:function(t,e){t=t.get("showDelay");e=T(e,this),clearTimeout(this._showTimout),0<t?this._showTimout=setTimeout(e,t):e()},_showAxisTooltip:function(t,e){var h=this._ecModel,i=this._tooltipModel,n=[e.offsetX,e.offsetY],u=[],c=[],o=ly([e.tooltipOption,i]),d=this._renderMode,f=this._newLine,p={};ay(t,function(t){ay(t.dataByAxis,function(o){var a,t,r=h.getComponent(o.axisDim+"Axis",o.axisIndex),s=o.value,l=[];r&&null!=s&&(a=cv(s,r.axis,h,o.seriesDataIndices,o.valueLabelOpt),L(o.seriesDataIndices,function(t){var e,i=h.getSeriesByIndex(t.seriesIndex),n=t.dataIndexInside,t=i&&i.getDataParams(n);t.axisDim=o.axisDim,t.axisIndex=o.axisIndex,t.axisType=o.axisType,t.axisId=o.axisId,t.axisValue=Rf(r.axis,s),t.axisValueLabel=a,t&&(c.push(t),E(i=i.formatTooltip(n,!0,null,d))?(e=i.html,n=i.markers,g(p,n)):e=i,l.push(e))}),t=a,"html"!==d?u.push(l.join(f)):u.push((t?_l(t)+f:"")+l.join(f)))})},this),u.reverse(),u=u.join(this._newLine+this._newLine);var a=e.position;this._showOrMove(o,function(){this._updateContentNotChangedOnAxis(t)?this._updatePosition(o,a,n[0],n[1],this._tooltipContent,c):this._showTooltipContent(o,u,c,Math.random(),n[0],n[1],a,void 0,p)})},_showSeriesItemTooltip:function(t,e,i){var n,o,a,r,s=this._ecModel,l=e.seriesIndex,h=s.getSeriesByIndex(l),u=e.dataModel||h,c=e.dataIndex,s=e.dataType,e=u.getData(s),d=ly([e.getItemModel(c),u,h&&(h.coordinateSystem||{}).model,this._tooltipModel]),h=d.get("trigger");null!=h&&"item"!==h||(n=u.getDataParams(c,s),s=u.formatTooltip(c,!1,s,this._renderMode),a=E(s)?(o=s.html,s.markers):(o=s,null),r="item_"+u.name+"_"+c,this._showOrMove(d,function(){this._showTooltipContent(d,o,n,r,t.offsetX,t.offsetY,t.position,t.target,a)}),i({type:"showTip",dataIndexInside:c,dataIndex:e.getRawIndex(c),seriesIndex:l,from:this.uid}))},_showComponentItemTooltip:function(t,e,i){var n=e.tooltip;"string"==typeof n&&(n={content:n,formatter:n});var o=new Ys(n,this._tooltipModel,this._ecModel),a=o.get("content"),r=Math.random();this._showOrMove(o,function(){this._showTooltipContent(o,a,o.get("formatterParams")||{},r,t.offsetX,t.offsetY,t.position,e)}),i({type:"showTip",from:this.uid})},_showTooltipContent:function(i,t,n,e,o,a,r,s,l){var h,u,c;this._ticket="",i.get("showContent")&&i.get("show")&&(h=this._tooltipContent,u=i.get("formatter"),r=r||i.get("position"),c=t,u&&"string"==typeof u?c=Sl(u,n,!0):"function"==typeof u&&(t=oy(function(t,e){t===this._ticket&&(h.setContent(e,l,i),this._updatePosition(i,r,o,a,h,n,s))},this),this._ticket=e,c=u(n,e,t)),h.setContent(c,l,i),h.show(i),this._updatePosition(i,r,o,a,h,n,s))},_updatePosition:function(t,e,i,n,o,a,r){var s=this._api.getWidth(),l=this._api.getHeight();e=e||t.get("position");var h,u=o.getSize(),c=t.get("align"),d=t.get("verticalAlign"),f=r&&r.getBoundingRect().clone();r&&f.applyTransform(r.transform),"function"==typeof e&&(e=e([i,n],a,o.el,f,{viewSize:[s,l],contentSize:u.slice()})),O(e)?(i=ry(e[0],s),n=ry(e[1],l)):E(e)?(e.width=u[0],e.height=u[1],i=(a=Rl(e,{width:s,height:l})).x,n=a.y,d=c=null):n=(i=(h="string"==typeof e&&r?function(t,e,i){var n=i[0],o=i[1],a=0,r=0,s=e.width,l=e.height;switch(t){case"inside":a=e.x+s/2-n/2,r=e.y+l/2-o/2;break;case"top":a=e.x+s/2-n/2,r=e.y-o-5;break;case"bottom":a=e.x+s/2-n/2,r=e.y+l+5;break;case"left":a=e.x-n-5,r=e.y+l/2-o/2;break;case"right":a=e.x+s+5,r=e.y+l/2-o/2}return[a,r]}(e,f,u):function(t,e,i,n,o,a,r){var s=i.getOuterSize(),i=s.width,s=s.height;null!=a&&(n<t+i+a?t-=i+a:t+=a);null!=r&&(o<e+s+r?e-=s+r:e+=r);return[t,e]}(i,n,o,s,l,c?null:20,d?null:20))[0],h[1]),c&&(i-=uy(c)?u[0]/2:"right"===c?u[0]:0),d&&(n-=uy(d)?u[1]/2:"bottom"===d?u[1]:0),t.get("confine")&&(i=(h=(c=i,d=n,u=s,t=l,s=(l=(s=o).getOuterSize()).width,l=l.height,c=Math.min(c+s,u)-s,d=Math.min(d+l,t)-l,c=Math.max(c,0),d=Math.max(d,0),[c,d]))[0],n=h[1]),o.moveTo(i,n)},_updateContentNotChangedOnAxis:function(i){var t=this._lastDataByCoordSys,a=!!t&&t.length===i.length;return a&&ay(t,function(t,e){var t=t.dataByAxis||{},o=(i[e]||{}).dataByAxis||[];(a&=t.length===o.length)&&ay(t,function(t,e){var i=o[e]||{},e=t.seriesDataIndices||[],n=i.seriesDataIndices||[];(a&=t.value===i.value&&t.axisType===i.axisType&&t.axisId===i.axisId&&e.length===n.length)&&ay(e,function(t,e){e=n[e];a&=t.seriesIndex===e.seriesIndex&&t.dataIndex===e.dataIndex})})}),this._lastDataByCoordSys=i,!!a},_hide:function(t){this._lastDataByCoordSys=null,t({type:"hideTip",from:this.uid})},dispose:function(t,e){v.node||(this._tooltipContent.dispose(),Pv("itemTooltip",e))}}),Jc({type:"showTip",event:"showTip",update:"tooltip:manuallyShowTip"},function(){}),Jc({type:"hideTip",event:"hideTip",update:"tooltip:manuallyHideTip"},function(){}),od({type:"title",layoutMode:{type:"box",ignoreSize:!0},defaultOption:{zlevel:0,z:6,show:!0,text:"",target:"blank",subtext:"",subtarget:"blank",left:0,top:0,backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderWidth:0,padding:5,itemGap:10,textStyle:{fontSize:18,fontWeight:"bolder",color:"#333"},subtextStyle:{color:"#aaa"}}}),ad({type:"title",render:function(t,e,i){var n,o,a,r,s,l,h,u,c;this.group.removeAll(),t.get("show")&&(n=this.group,u=t.getModel("textStyle"),r=t.getModel("subtextStyle"),o=t.get("textAlign"),c=W(t.get("textBaseline"),t.get("textVerticalAlign")),h=(a=new wr({style:Ts({},u,{text:t.get("text"),textFill:u.getTextColor()},{disableBox:!0}),z2:10})).getBoundingRect(),u=t.get("subtext"),r=new wr({style:Ts({},r,{text:u,textFill:r.getTextColor(),y:h.height+t.get("itemGap"),textVerticalAlign:"top"},{disableBox:!0}),z2:10}),s=t.get("link"),l=t.get("sublink"),h=t.get("triggerEvent",!0),a.silent=!s&&!h,r.silent=!l&&!h,s&&a.on("click",function(){Dl(s,"_"+t.get("target"))}),l&&r.on("click",function(){Dl(l,"_"+t.get("subtarget"))}),a.eventData=r.eventData=h?{componentType:"title",componentIndex:t.componentIndex}:null,n.add(a),u&&n.add(r),h=n.getBoundingRect(),(u=t.getBoxLayoutParams()).width=h.width,u.height=h.height,i=Rl(u,{width:i.getWidth(),height:i.getHeight()},t.get("padding")),o||("middle"===(o=t.get("left")||t.get("right"))&&(o="center"),"right"===o?i.x+=i.width:"center"===o&&(i.x+=i.width/2)),c||("center"===(c=t.get("top")||t.get("bottom"))&&(c="middle"),"bottom"===c?i.y+=i.height:"middle"===c&&(i.y+=i.height/2),c=c||"top"),n.attr("position",[i.x,i.y]),c={textAlign:o,textVerticalAlign:c},a.setStyle(c),r.setStyle(c),h=n.getBoundingRect(),c=i.margin,(i=t.getItemStyle(["color","opacity"])).fill=t.get("backgroundColor"),i=new Rr({shape:{x:h.x-c[3],y:h.y-c[0],width:h.width+c[1]+c[3],height:h.height+c[0]+c[2],r:t.get("borderRadius")},style:i,subPixelOptimize:!0,silent:!0}),n.add(i))}});var cy=gl,dy=_l;function fy(t){Mo(t,"label",["show"])}we=od({type:"marker",dependencies:["series","grid","polar","geo"],init:function(t,e,i){this.mergeDefaultAndTheme(t,i),this._mergeOption(t,i,!1,!0)},isAnimationEnabled:function(){if(v.node)return!1;var t=this.__hostSeries;return this.getShallow("animation")&&t&&t.isAnimationEnabled()},mergeOption:function(t,e){this._mergeOption(t,e,!1,!1)},_mergeOption:function(t,n,e,o){var a=this.constructor,r=this.mainType+"Model";e||n.eachSeries(function(t){var e=t.get(this.mainType,!0),i=t[r];e&&e.data?(i?i._mergeOption(e,n,!0):(o&&fy(e),L(e.data,function(t){t instanceof Array?(fy(t[0]),fy(t[1])):fy(t)}),C(i=new a(e,this,n),{mainType:this.mainType,seriesIndex:t.seriesIndex,name:t.name,createdBySelf:!0}),i.__hostSeries=t),t[r]=i):t[r]=null},this)},formatTooltip:function(t,e,i,n){var o=this.getData(),a=this.getRawValue(t),r=O(a)?S(a,cy).join(", "):cy(a),o=o.getName(t),t=dy(this.name);return null==a&&!o||(t+="html"===n?"<br/>":"\n"),o&&(t+=dy(o),null!=a&&(t+=" : ")),null!=a&&(t+=dy(r)),t},getData:function(){return this._data},setData:function(t){this._data=t}});b(we,oi),we.extend({type:"markPoint",defaultOption:{zlevel:0,z:5,symbol:"pin",symbolSize:50,tooltip:{trigger:"item"},label:{show:!0,position:"inside"},itemStyle:{borderWidth:2},emphasis:{label:{show:!0}}}});var py=_;function gy(t,e,i,n,o,a){var r=[],s=Gd(e,n)?e.getCalculationInfo("stackResultDimension"):n,t=wy(e,s,t),t=e.indicesOfNearest(s,t)[0];r[o]=e.get(i,t),r[a]=e.get(s,t);s=e.get(n,t),t=nl(e.get(n,t));return 0<=(t=Math.min(t,20))&&(r[a]=+r[a].toFixed(t)),[r,s]}var oi=k,my={min:oi(gy,"min"),max:oi(gy,"max"),average:oi(gy,"average")};function vy(t,e){var i=t.getData(),n=t.coordinateSystem;if(e&&(a=e,isNaN(parseFloat(a.x))||isNaN(parseFloat(a.y)))&&!O(e.coord)&&n){var o=n.dimensions,a=yy(e,i,n,t);if((e=A(e)).type&&my[e.type]&&a.baseAxis&&a.valueAxis){n=py(o,a.baseAxis.dim),t=py(o,a.valueAxis.dim),t=my[e.type](i,a.baseDataDim,a.valueDataDim,n,t);e.coord=t[0],e.value=t[1]}else{for(var r=[null!=e.xAxis?e.xAxis:e.radiusAxis,null!=e.yAxis?e.yAxis:e.angleAxis],s=0;s<2;s++)my[r[s]]&&(r[s]=wy(i,i.mapDimension(o[s]),r[s]));e.coord=r}}return e}function yy(t,e,i,n){var o={};return null!=t.valueIndex||null!=t.valueDim?(o.valueDataDim=null!=t.valueIndex?e.getDimension(t.valueIndex):t.valueDim,o.valueAxis=i.getAxis(function(t,e){var i=t.getData(),n=i.dimensions;e=i.getDimension(e);for(var o=0;o<n.length;o++){var a=i.getDimensionInfo(n[o]);if(a.name===e)return a.coordDim}}(n,o.valueDataDim)),o.baseAxis=i.getOtherAxis(o.valueAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim)):(o.baseAxis=n.getBaseAxis(),o.valueAxis=i.getOtherAxis(o.baseAxis),o.baseDataDim=e.mapDimension(o.baseAxis.dim),o.valueDataDim=e.mapDimension(o.valueAxis.dim)),o}function xy(t,e){return!(t&&t.containData&&e.coord&&(i=e,isNaN(parseFloat(i.x))&&isNaN(parseFloat(i.y))))||t.containData(e.coord);var i}function _y(t,e,i,n){return n<2?t.coord&&t.coord[n]:t.value}function wy(t,e,i){if("average"!==i)return"median"===i?t.getMedian(e):t.getDataExtent(e,!0)["max"===i?1:0];var n=0,o=0;return t.each(e,function(t,e){isNaN(t)||(n+=t,o++)}),n/o}oi=ad({type:"marker",init:function(){this.markerGroupMap=Q()},render:function(t,i,n){var e=this.markerGroupMap;e.each(function(t){t.__keep=!1});var o=this.type+"Model";i.eachSeries(function(t){var e=t[o];e&&this.renderSeries(t,e,i,n)},this),e.each(function(t){t.__keep||this.group.remove(t.group)},this)},renderSeries:function(){}});function by(r,s,l){var h=s.coordinateSystem;r.each(function(t){var e,i,n=r.getItemModel(t),o=tl(n.get("x"),l.getWidth()),a=tl(n.get("y"),l.getHeight());isNaN(o)||isNaN(a)?s.getMarkerPosition?i=s.getMarkerPosition(r.getValues(r.dimensions,t)):h&&(e=r.get(h.dimensions[0],t),n=r.get(h.dimensions[1],t),i=h.dataToPoint([e,n])):i=[o,a],isNaN(o)||(i[0]=o),isNaN(a)||(i[1]=a),r.setItemLayout(t,i)})}oi.extend({type:"markPoint",updateTransform:function(t,e,i){e.eachSeries(function(t){var e=t.markPointModel;e&&(by(e.getData(),t,i),this.markerGroupMap.get(t.id).updateLayout(e))},this)},renderSeries:function(t,u,e,i){var n=t.coordinateSystem,o=t.id,c=t.getData(),a=this.markerGroupMap,o=a.get(o)||a.set(o,new _p),d=function(t,e,i){n=t?S(t&&t.dimensions,function(t){return D({name:t},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{})}):[{name:"value",type:"float"}];var n=new Id(n,i),i=S(i.get("data"),k(vy,e));t&&(i=I(i,k(xy,t)));return n.initData(i,null,t?_y:function(t){return t.value}),n}(n,t,u);u.setData(d),by(u.getData(),t,i),d.each(function(t){var e,i,n=d.getItemModel(t),o=n.getShallow("symbol"),a=n.getShallow("symbolSize"),r=n.getShallow("symbolRotate"),s=z(o),l=z(a),h=z(r);(s||l||h)&&(e=u.getRawValue(t),i=u.getDataParams(t),s&&(o=o(e,i)),l&&(a=a(e,i)),h&&(r=r(e,i))),d.setItemVisual(t,{symbol:o,symbolSize:a,symbolRotate:r,color:n.get("itemStyle.color")||c.getVisual("color")})}),o.updateData(d),this.group.add(o.group),d.eachItemGraphicEl(function(t){t.traverse(function(t){t.dataModel=u})}),o.__keep=!0,o.group.silent=u.get("silent")||t.get("silent")}}),$c(function(t){t.markPoint=t.markPoint||{}}),we.extend({type:"markLine",defaultOption:{zlevel:0,z:5,symbol:["circle","arrow"],symbolSize:[8,16],precision:2,tooltip:{trigger:"item"},label:{show:!0,position:"end",distance:5},lineStyle:{type:"dashed"},emphasis:{label:{show:!0},lineStyle:{width:3}},animationEasing:"linear"}});function Sy(t,e,i,n){var o,a,r,s=t.getData(),l=n.type;return O(n)||"min"!==l&&"max"!==l&&"average"!==l&&"median"!==l&&null==n.xAxis&&null==n.yAxis||(o=null!=n.yAxis||null!=n.xAxis?(a=e.getAxis(null!=n.yAxis?"y":"x"),H(n.yAxis,n.xAxis)):(a=(r=yy(n,s,e,t)).valueAxis,wy(s,Zd(s,r.valueDataDim),l)),s=1-(e="x"===a.dim?0:1),r={},(a=A(n)).type=null,a.coord=[],r.coord=[],a.coord[s]=-1/0,r.coord[s]=1/0,0<=(i=i.get("precision"))&&"number"==typeof o&&(o=+o.toFixed(Math.min(i,20))),a.coord[e]=r.coord[e]=o,n=[a,r,{type:l,valueIndex:n.valueIndex,value:o}]),(n=[vy(t,n[0]),vy(t,n[1]),C({},n[2])])[2].type=n[2].type||"",g(n[2],n[0]),g(n[2],n[1]),n}function My(t){return!isNaN(t)&&!isFinite(t)}function Iy(t,e,i,n){var o=1-t,a=n.dimensions[t];return My(e[o])&&My(i[o])&&e[t]===i[t]&&n.getAxis(a).containData(e[t])}function Ty(t,e){if("cartesian2d"===t.type){var i=e[0].coord,n=e[1].coord;if(i&&n&&(Iy(1,i,n,t)||Iy(0,i,n,t)))return!0}return xy(t,e[0])&&xy(t,e[1])}function Ay(t,e,i,n,o){var a,r,s,l,h=n.coordinateSystem,u=t.getItemModel(e),c=tl(u.get("x"),o.getWidth()),o=tl(u.get("y"),o.getHeight());isNaN(c)||isNaN(o)?(a=n.getMarkerPosition?n.getMarkerPosition(t.getValues(t.dimensions,e)):(l=h.dimensions,r=t.get(l[0],e),s=t.get(l[1],e),h.dataToPoint([r,s])),"cartesian2d"===h.type&&(r=h.getAxis("x"),s=h.getAxis("y"),l=h.dimensions,My(t.get(l[0],e))?a[0]=r.toGlobalCoord(r.getExtent()[i?0:1]):My(t.get(l[1],e))&&(a[1]=s.toGlobalCoord(s.getExtent()[i?0:1]))),isNaN(c)||(a[0]=c),isNaN(o)||(a[1]=o)):a=[c,o],t.setItemLayout(e,a)}oi.extend({type:"markLine",updateTransform:function(t,e,a){e.eachSeries(function(e){var i,n,o,t=e.markLineModel;t&&(i=t.getData(),n=t.__from,o=t.__to,n.each(function(t){Ay(n,t,!0,e,a),Ay(o,t,!1,e,a)}),i.each(function(t){i.setItemLayout(t,[n.getItemLayout(t),o.getItemLayout(t)])}),this.markerGroupMap.get(e.id).updateLayout())},this)},renderSeries:function(o,i,t,a){var e=o.coordinateSystem,n=o.id,r=o.getData(),s=this.markerGroupMap,n=s.get(n)||s.set(n,new Gm);this.group.add(n.group);var e=function(t,e,i){a=t?S(t&&t.dimensions,function(t){return D({name:t},e.getData().getDimensionInfo(e.getData().mapDimension(t))||{})}):[{name:"value",type:"float"}];var n=new Id(a,i),o=new Id(a,i),a=new Id([],i),i=S(i.get("data"),k(Sy,e,t,i));t&&(i=I(i,k(Ty,t)));t=t?_y:function(t){return t.value};return n.initData(S(i,function(t){return t[0]}),null,t),o.initData(S(i,function(t){return t[1]}),null,t),a.initData(S(i,function(t){return t[2]})),a.hasItemOption=!0,{from:n,to:o,line:a}}(e,o,i),l=e.from,h=e.to,u=e.line;i.__from=l,i.__to=h,i.setData(u);var c=i.get("symbol"),d=i.get("symbolSize");function f(t,e,i){var n=t.getItemModel(e);Ay(t,e,i,o,a),t.setItemVisual(e,{symbolRotate:n.get("symbolRotate"),symbolSize:n.get("symbolSize")||d[i?0:1],symbol:n.get("symbol",!0)||c[i?0:1],color:n.get("itemStyle.color")||r.getVisual("color")})}O(c)||(c=[c,c]),"number"==typeof d&&(d=[d,d]),e.from.each(function(t){f(l,t,!0),f(h,t,!1)}),u.each(function(t){var e=u.getItemModel(t).get("lineStyle.color");u.setItemVisual(t,{color:e||l.getItemVisual(t,"color")}),u.setItemLayout(t,[l.getItemLayout(t),h.getItemLayout(t)]),u.setItemVisual(t,{fromSymbolRotate:l.getItemVisual(t,"symbolRotate"),fromSymbolSize:l.getItemVisual(t,"symbolSize"),fromSymbol:l.getItemVisual(t,"symbol"),toSymbolRotate:h.getItemVisual(t,"symbolRotate"),toSymbolSize:h.getItemVisual(t,"symbolSize"),toSymbol:h.getItemVisual(t,"symbol")})}),n.updateData(u),e.line.eachItemGraphicEl(function(t,e){t.traverse(function(t){t.dataModel=i})}),n.__keep=!0,n.group.silent=i.get("silent")||o.get("silent")}}),$c(function(t){t.markLine=t.markLine||{}}),we.extend({type:"markArea",defaultOption:{zlevel:0,z:1,tooltip:{trigger:"item"},animation:!1,label:{show:!0,position:"top"},itemStyle:{borderWidth:0},emphasis:{label:{show:!0,position:"top"}}}});function Cy(t,e,i,n){var o=vy(t,n[0]),a=vy(t,n[1]),r=H,t=o.coord,n=a.coord;return t[0]=r(t[0],-1/0),t[1]=r(t[1],-1/0),n[0]=r(n[0],1/0),n[1]=r(n[1],1/0),(n=p([{},o,a])).coord=[o.coord,a.coord],n.x0=o.x,n.y0=o.y,n.x1=a.x,n.y1=a.y,n}function Dy(t){return!isNaN(t)&&!isFinite(t)}function ky(t,e,i){t=1-t;return Dy(e[t])&&Dy(i[t])}function Ly(t,e){var i=e.coord[0],n=e.coord[1];return!("cartesian2d"!==t.type||!i||!n||!ky(1,i,n)&&!ky(0,i,n))||(xy(t,{coord:i,x:e.x0,y:e.y0})||xy(t,{coord:n,x:e.x1,y:e.y1}))}function Py(t,e,i,n,o){var a,r,s,l,h=n.coordinateSystem,u=t.getItemModel(e),c=tl(u.get(i[0]),o.getWidth()),o=tl(u.get(i[1]),o.getHeight());return isNaN(c)||isNaN(o)?(l=n.getMarkerPosition?n.getMarkerPosition(t.getValues(i,e)):(a=[r=t.get(i[0],e),s=t.get(i[1],e)],h.clampData&&h.clampData(a,a),h.dataToPoint(a,!0)),"cartesian2d"===h.type&&(a=h.getAxis("x"),h=h.getAxis("y"),r=t.get(i[0],e),s=t.get(i[1],e),Dy(r)?l[0]=a.toGlobalCoord(a.getExtent()["x0"===i[0]?0:1]):Dy(s)&&(l[1]=h.toGlobalCoord(h.getExtent()["y0"===i[1]?0:1]))),isNaN(c)||(l[0]=c),isNaN(o)||(l[1]=o)):l=[c,o],l}var Oy=[["x0","y0"],["x1","y0"],["x1","y1"],["x0","y1"]];oi.extend({type:"markArea",updateTransform:function(t,e,o){e.eachSeries(function(i){var n,t=i.markAreaModel;t&&(n=t.getData()).each(function(e){var t=S(Oy,function(t){return Py(n,e,t,i,o)});n.setItemLayout(e,t),n.getItemGraphicEl(e).setShape("points",t)})},this)},renderSeries:function(e,r,t,o){var a=e.coordinateSystem,i=e.id,s=e.getData(),n=this.markerGroupMap,l=n.get(i)||n.set(i,{group:new yi});this.group.add(l.group),l.__keep=!0;var h=function(t,i,e){var n,o;o=t?(n=S(t&&t.dimensions,function(t){var e=i.getData();return D({name:t},e.getDimensionInfo(e.mapDimension(t))||{})}),new Id(S(["x0","y0","x1","y1"],function(t,e){return{name:t,type:n[e%2].type}}),e)):new Id(n=[{name:"value",type:"float"}],e);e=S(e.get("data"),k(Cy,i,t,e));t&&(e=I(e,k(Ly,t)));t=t?function(t,e,i,n){return t.coord[Math.floor(n/2)][n%2]}:function(t){return t.value};return o.initData(e,null,t),o.hasItemOption=!0,o}(a,e,r);r.setData(h),h.each(function(i){var t=S(Oy,function(t){return Py(h,i,t,e,o)}),n=!0;L(Oy,function(t){var e;n&&(e=h.get(t[0],i),t=h.get(t[1],i),(Dy(e)||a.getAxis("x").containData(e))&&(Dy(t)||a.getAxis("y").containData(t))&&(n=!1))}),h.setItemLayout(i,{points:t,allClipped:n}),h.setItemVisual(i,{color:s.getVisual("color")})}),h.diff(l.__data).add(function(t){var e=h.getItemLayout(t);e.allClipped||(e=new Cr({shape:{points:e.points}}),h.setItemGraphicEl(t,e),l.group.add(e))}).update(function(t,e){var i=l.__data.getItemGraphicEl(e),e=h.getItemLayout(t);e.allClipped?i&&l.group.remove(i):(i?zs(i,{shape:{points:e.points}},r,t):i=new Cr({shape:{points:e.points}}),h.setItemGraphicEl(t,i),l.group.add(i))}).remove(function(t){t=l.__data.getItemGraphicEl(t);l.group.remove(t)}).execute(),h.eachItemGraphicEl(function(t,e){var i=h.getItemModel(e),n=i.getModel("label"),o=i.getModel("emphasis.label"),a=h.getItemVisual(e,"color");t.useStyle(D(i.getModel("itemStyle").getItemStyle(),{fill:He(a,.4),stroke:a})),t.hoverStyle=i.getModel("emphasis.itemStyle").getItemStyle(),Is(t.style,t.hoverStyle,n,o,{labelFetcher:r,labelDataIndex:e,defaultText:h.getName(e)||"",isRectText:!0,autoColor:a}),ws(t,{}),t.dataModel=r}),l.__data=h,l.group.silent=r.get("silent")||e.get("silent")}}),$c(function(t){t.markArea=t.markArea||{}});var we=Eu.legend.selector,zy={all:{type:"all",title:A(we.all)},inverse:{type:"inverse",title:A(we.inverse)}},Ry=od({type:"legend.plain",dependencies:["series"],layoutMode:{type:"box",ignoreSize:!0},init:function(t,e,i){this.mergeDefaultAndTheme(t,i),t.selected=t.selected||{},this._updateSelector(t)},mergeOption:function(t){Ry.superCall(this,"mergeOption",t),this._updateSelector(t)},_updateSelector:function(t){var i=t.selector;!0===i&&(i=t.selector=["all","inverse"]),O(i)&&L(i,function(t,e){R(t)&&(t={type:t}),i[e]=g(t,zy[t.type])})},optionUpdated:function(){this._updateData(this.ecModel);var t=this._data;if(t[0]&&"single"===this.get("selectedMode")){for(var e=!1,i=0;i<t.length;i++){var n=t[i].get("name");if(this.isSelected(n)){this.select(n),e=!0;break}}e||this.select(t[0].get("name"))}},_updateData:function(n){var o=[],a=[];n.eachRawSeries(function(t){var e,i=t.name;a.push(i),t.legendVisualProvider?(i=t.legendVisualProvider.getAllNames(),n.isSeriesFiltered(t)||(a=a.concat(i)),i.length?o=o.concat(i):e=!0):e=!0,e&&Co(t)&&o.push(t.name)}),this._availableNames=a;var t=S(this.get("data")||o,function(t){return"string"!=typeof t&&"number"!=typeof t||(t={name:t}),new Ys(t,this,this.ecModel)},this);this._data=t},getData:function(){return this._data},select:function(t){var e=this.option.selected;"single"===this.get("selectedMode")&&L(this._data,function(t){e[t.get("name")]=!1}),e[t]=!0},unSelect:function(t){"single"!==this.get("selectedMode")&&(this.option.selected[t]=!1)},toggleSelected:function(t){var e=this.option.selected;e.hasOwnProperty(t)||(e[t]=!0),this[e[t]?"unSelect":"select"](t)},allSelect:function(){var t=this._data,e=this.option.selected;L(t,function(t){e[t.get("name",!0)]=!0})},inverseSelect:function(){var t=this._data,e=this.option.selected;L(t,function(t){t=t.get("name",!0);e.hasOwnProperty(t)||(e[t]=!0),e[t]=!e[t]})},isSelected:function(t){var e=this.option.selected;return!(e.hasOwnProperty(t)&&!e[t])&&0<=_(this._availableNames,t)},getOrient:function(){return"vertical"===this.get("orient")?{index:1,name:"vertical"}:{index:0,name:"horizontal"}},defaultOption:{zlevel:0,z:4,show:!0,orient:"horizontal",left:"center",top:0,align:"auto",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",borderRadius:0,borderWidth:0,padding:5,itemGap:10,itemWidth:25,itemHeight:14,inactiveColor:"#ccc",inactiveBorderColor:"#ccc",itemStyle:{borderWidth:0},textStyle:{color:"#333"},selectedMode:!0,selector:!1,selectorLabel:{show:!0,borderRadius:10,padding:[3,5,3,5],fontSize:12,fontFamily:" sans-serif",color:"#666",borderWidth:1,borderColor:"#666"},emphasis:{selectorLabel:{show:!0,color:"#eee",backgroundColor:"#666"}},selectorPosition:"auto",selectorItemGap:7,selectorButtonGap:10,tooltip:{show:!1}}});function Ey(t,e,i){var n,o={},a="toggleSelected"===t;return i.eachComponent("legend",function(i){a&&null!=n?i[n?"select":"unSelect"](e.name):"allSelect"===t||"inverseSelect"===t?i[t]():(i[t](e.name),n=i.isSelected(e.name)),L(i.getData(),function(t){var e=t.get("name");"\n"!==e&&""!==e&&(t=i.isSelected(e),o.hasOwnProperty(e)?o[e]=o[e]&&t:o[e]=t)})}),"allSelect"===t||"inverseSelect"===t?{selected:o}:{name:e.name,selected:o}}Jc("legendToggleSelect","legendselectchanged",k(Ey,"toggleSelected")),Jc("legendAllSelect","legendselectall",k(Ey,"allSelect")),Jc("legendInverseSelect","legendinverseselect",k(Ey,"inverseSelect")),Jc("legendSelect","legendselected",k(Ey,"select")),Jc("legendUnSelect","legendunselected",k(Ey,"unSelect"));var Ny=k,By=L,Vy=yi,oi=ad({type:"legend.plain",newlineDisabled:!1,init:function(){this.group.add(this._contentGroup=new Vy),this._backgroundEl,this.group.add(this._selectorGroup=new Vy),this._isFirstRender=!0},getContentGroup:function(){return this._contentGroup},getSelectorGroup:function(){return this._selectorGroup},render:function(t,e,i){var n,o,a,r,s,l=this._isFirstRender;this._isFirstRender=!1,this.resetInner(),t.get("show",!0)&&(n=t.get("align"),r=t.get("orient"),n&&"auto"!==n||(n="right"===t.get("left")&&"vertical"===r?"right":"left"),o=t.get("selector",!0),s=t.get("selectorPosition",!0),!o||s&&"auto"!==s||(s="horizontal"===r?"end":"start"),this.renderInner(n,t,e,i,o,r,s),i=Rl(a=t.getBoxLayoutParams(),e={width:i.getWidth(),height:i.getHeight()},r=t.get("padding")),e=Rl(D({width:(s=this.layoutInner(t,n,i,l,o,s)).width,height:s.height},a),e,r),this.group.attr("position",[e.x-s.x,e.y-s.y]),this.group.add(this._backgroundEl=(r=s,s=vl((e=t).get("padding")),(t=e.getItemStyle(["color","opacity"])).fill=e.get("backgroundColor"),r=new Rr({shape:{x:r.x-s[3],y:r.y-s[0],width:r.width+s[1]+s[3],height:r.height+s[0]+s[2],r:e.get("borderRadius")},style:t,silent:!0,z2:-1}))))},resetInner:function(){this.getContentGroup().removeAll(),this._backgroundEl&&this.group.remove(this._backgroundEl),this.getSelectorGroup().removeAll()},renderInner:function(l,h,u,c,t,e,i){var d=this.getContentGroup(),f=Q(),p=h.get("selectedMode"),g=[];u.eachRawSeries(function(t){t.get("legendHoverLink")||g.push(t.id)}),By(h.getData(),function(n,o){var t,e,i,a,r,s=n.get("name");this.newlineDisabled||""!==s&&"\n"!==s?(t=u.getSeriesByName(s)[0],f.get(s)||(t?(e=(r=t.getData()).getVisual("color"),i=r.getVisual("borderColor"),"function"==typeof e&&(e=e(t.getDataParams(0))),"function"==typeof i&&(i=i(t.getDataParams(0))),a=r.getVisual("legendSymbol")||"roundRect",r=r.getVisual("symbol"),this._createItem(s,o,n,h,a,r,l,e,i,p).on("click",Ny(Hy,s,null,c,g)).on("mouseover",Ny(Wy,t.name,null,c,g)).on("mouseout",Ny(Gy,t.name,null,c,g)),f.set(s,!0)):u.eachRawSeries(function(t){var e,i;f.get(s)||!t.legendVisualProvider||(e=t.legendVisualProvider).containName(s)&&(i=e.indexOfName(s),t=e.getItemVisual(i,"color"),i=e.getItemVisual(i,"borderColor"),this._createItem(s,o,n,h,"roundRect",null,l,t,i,p).on("click",Ny(Hy,null,s,c,g)).on("mouseover",Ny(Wy,null,s,c,g)).on("mouseout",Ny(Gy,null,s,c,g)),f.set(s,!0))},this))):d.add(new Vy({newline:!0}))},this),t&&this._createSelector(t,h,c,e,i)},_createSelector:function(t,a,r,e,i){var s=this.getSelectorGroup();By(t,function(t){!function(t){var e=t.type,i=new wr({style:{x:0,y:0,align:"center",verticalAlign:"middle"},onclick:function(){r.dispatchAction({type:"all"===e?"legendAllSelect":"legendInverseSelect"})}});s.add(i);var n=a.getModel("selectorLabel"),o=a.getModel("emphasis.selectorLabel");Is(i.style,i.hoverStyle={},n,o,{defaultText:t.title,isRectText:!1}),ws(i)}(t)})},_createItem:function(t,e,i,n,o,a,r,s,l,h){var u=n.get("itemWidth"),c=n.get("itemHeight"),d=n.get("inactiveColor"),f=n.get("inactiveBorderColor"),p=n.get("symbolKeepAspect"),g=n.getModel("itemStyle"),m=n.isSelected(t),v=new Vy,y=i.getModel("textStyle"),x=i.get("icon"),_=i.getModel("tooltip"),w=_.parentModel,i=Zf(o=x||o,0,0,u,c,m?s:d,null==p||p);v.add(Fy(i,o,g,l,f,m)),x||!a||a===o&&"none"!==a||("none"===a&&(a="circle"),p=Zf(a,(u-(o=.8*c))/2,(c-o)/2,o,o,m?s:d,null==p||p),v.add(Fy(p,a,g,l,f,m)));l="left"===r?u+5:-5,f=r,u=n.get("formatter"),r=t;"string"==typeof u&&u?r=u.replace("{name}",null!=t?t:""):"function"==typeof u&&(r=u(t)),v.add(new wr({style:Ts({},y,{text:r,x:l,y:c/2,textFill:m?y.getTextColor():d,textAlign:f,textVerticalAlign:"middle"})}));_=new Rr({shape:v.getBoundingRect(),invisible:!0,tooltip:_.get("show")?C({content:t,formatter:w.get("formatter",!0)||function(){return t},formatterParams:{componentType:"legend",legendIndex:n.componentIndex,name:t,$vars:["name"]}},_.option):null});return v.add(_),v.eachChild(function(t){t.silent=!0}),_.silent=!h,this.getContentGroup().add(v),ws(v),v.__legendDataIndex=e,v},layoutInner:function(t,e,i,n,o,a){var r=this.getContentGroup(),s=this.getSelectorGroup();zl(t.get("orient"),r,t.get("itemGap"),i.width,i.height);var l=r.getBoundingRect(),h=[-l.x,-l.y];if(o){zl("horizontal",s,t.get("selectorItemGap",!0));var u=s.getBoundingRect(),c=[-u.x,-u.y],d=t.get("selectorButtonGap",!0),f=t.getOrient().index,i=0===f?"width":"height",o=0===f?"height":"width",t=0===f?"y":"x";"end"===a?c[f]+=l[i]+d:h[f]+=u[i]+d,c[1-f]+=l[o]/2-u[o]/2,s.attr("position",c),r.attr("position",h);s={x:0,y:0};return s[i]=l[i]+d+u[i],s[o]=Math.max(l[o],u[o]),s[t]=Math.min(0,u[t]+c[1-f]),s}return r.attr("position",h),this.group.getBoundingRect()},remove:function(){this.getContentGroup().removeAll(),this._isFirstRender=!0}});function Fy(t,e,i,n,o,a){var r;return"line"!==e&&e.indexOf("empty")<0?(r=i.getItemStyle(),t.style.stroke=n,a||(r.stroke=o)):r=i.getItemStyle(["borderWidth","borderColor"]),t.setStyle(r)}function Hy(t,e,i,n){Gy(t,e,i,n),i.dispatchAction({type:"legendToggleSelect",name:null!=t?t:e}),Wy(t,e,i,n)}function Wy(t,e,i,n){var o=i.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||i.dispatchAction({type:"highlight",seriesName:t,name:e,excludeSeriesId:n})}function Gy(t,e,i,n){var o=i.getZr().storage.getDisplayList()[0];o&&o.useHoverLayer||i.dispatchAction({type:"downplay",seriesName:t,name:e,excludeSeriesId:n})}Qc(Nn.PROCESSOR.SERIES_FILTER,function(t){var i=t.findComponents({mainType:"legend"});i&&i.length&&t.filterSeries(function(t){for(var e=0;e<i.length;e++)if(!i[e].isSelected(t.name))return!1;return!0})}),Wl.registerSubTypeDefaulter("legend",function(){return"plain"});var Zy=Ry.extend({type:"legend.scroll",setScrollDataIndex:function(t){this.option.scrollDataIndex=t},defaultOption:{scrollDataIndex:0,pageButtonItemGap:5,pageButtonGap:null,pageButtonPosition:"end",pageFormatter:"{current}/{total}",pageIcons:{horizontal:["M0,0L12,-10L12,10z","M0,0L-12,-10L-12,10z"],vertical:["M0,0L20,0L10,-20z","M0,0L20,0L10,20z"]},pageIconColor:"#2f4554",pageIconInactiveColor:"#aaa",pageIconSize:15,pageTextStyle:{color:"#333"},animationDurationUpdate:800},init:function(t,e,i,n){var o=Nl(t);Zy.superCall(this,"init",t,e,i,n),Xy(this,t,o)},mergeOption:function(t,e){Zy.superCall(this,"mergeOption",t,e),Xy(this,this.option,t)}});function Xy(t,e,i){var n=[1,1];n[t.getOrient().index]=0,El(e,i,{type:"box",ignoreSize:n})}var Uy=yi,Yy=["width","height"],qy=["x","y"],jy=oi.extend({type:"legend.scroll",newlineDisabled:!0,init:function(){jy.superCall(this,"init"),this._currentIndex=0,this.group.add(this._containerGroup=new Uy),this._containerGroup.add(this.getContentGroup()),this.group.add(this._controllerGroup=new Uy),this._showController},resetInner:function(){jy.superCall(this,"resetInner"),this._controllerGroup.removeAll(),this._containerGroup.removeClipPath(),this._containerGroup.__rectSize=null},renderInner:function(t,n,e,o,i,a,r){var s=this;jy.superCall(this,"renderInner",t,n,e,o,i,a,r);var l=this._controllerGroup,h=n.get("pageIconSize",!0);O(h)||(h=[h,h]),u("pagePrev",0);r=n.getModel("pageTextStyle");function u(t,e){var i=t+"DataIndex",i=Fs(n.get("pageIcons",!0)[n.getOrient().name][e],{onclick:T(s._pageGo,s,i,n,o)},{x:-h[0]/2,y:-h[1]/2,width:h[0],height:h[1]});i.name=t,l.add(i)}l.add(new wr({name:"pageText",style:{textFill:r.getTextColor(),font:r.getFont(),textVerticalAlign:"middle",textAlign:"center"},silent:!0})),u("pageNext",1)},layoutInner:function(t,e,i,n,o,a){var r=this.getSelectorGroup(),s=t.getOrient().index,l=Yy[s],h=qy[s],u=Yy[1-s],c=qy[1-s];o&&zl("horizontal",r,t.get("selectorItemGap",!0));var d=t.get("selectorButtonGap",!0),f=r.getBoundingRect(),p=[-f.x,-f.y],g=A(i);o&&(g[l]=i[l]-f[l]-d);g=this._layoutContentAndController(t,n,g,s,l,u,c);return o&&("end"===a?p[s]+=g[l]+d:(a=f[l]+d,p[s]-=a,g[h]-=a),g[l]+=f[l]+d,p[1-s]+=g[c]+g[u]/2-f[u]/2,g[u]=Math.max(g[u],f[u]),g[c]=Math.min(g[c],f[c]+p[1-s]),r.attr("position",p)),g},_layoutContentAndController:function(t,e,i,n,o,a,r){var s=this.getContentGroup(),l=this._containerGroup,h=this._controllerGroup;zl(t.get("orient"),s,t.get("itemGap"),n?i.width:null,n?null:i.height),zl("horizontal",h,t.get("pageButtonItemGap",!0));var u=s.getBoundingRect(),c=h.getBoundingRect(),d=this._showController=u[o]>i[o],f=[-u.x,-u.y];e||(f[n]=s.position[n]);var p=[0,0],g=[-c.x,-c.y],e=W(t.get("pageButtonGap",!0),t.get("itemGap",!0));d&&("end"===t.get("pageButtonPosition",!0)?g[n]+=i[o]-c[o]:p[n]+=c[o]+e),g[1-n]+=u[a]/2-c[a]/2,s.attr("position",f),l.attr("position",p),h.attr("position",g);p={x:0,y:0};p[o]=(d?i:u)[o],p[a]=Math.max(u[a],c[a]),p[r]=Math.min(0,c[r]+g[1-n]),l.__rectSize=i[o],d?((n={x:0,y:0})[o]=Math.max(i[o]-c[o]-e,0),n[a]=p[a],l.setClipPath(new Rr({shape:n})),l.__rectSize=n[o]):h.eachChild(function(t){t.attr({invisible:!0,silent:!0})});h=this._getPageInfo(t);return null!=h.pageIndex&&zs(s,{position:h.contentPosition},d&&t),this._updatePageInfoView(t,h),p},_pageGo:function(t,e,i){t=this._getPageInfo(e)[t];null!=t&&i.dispatchAction({type:"legendScroll",scrollDataIndex:t,legendId:e.id})},_updatePageInfoView:function(i,n){var o=this._controllerGroup;L(["pagePrev","pageNext"],function(t){var e=null!=n[t+"DataIndex"],t=o.childOfName(t);t&&(t.setStyle("fill",e?i.get("pageIconColor",!0):i.get("pageIconInactiveColor",!0)),t.cursor=e?"pointer":"default")});var t=o.childOfName("pageText"),e=i.get("pageFormatter"),a=n.pageIndex,r=null!=a?a+1:0,a=n.pageCount;t&&e&&t.setStyle("text",R(e)?e.replace("{current}",r).replace("{total}",a):e({current:r,total:a}))},_getPageInfo:function(t){var e=t.get("scrollDataIndex",!0),i=this.getContentGroup(),n=this._containerGroup.__rectSize,o=t.getOrient().index,a=Yy[o],r=qy[o],s=this._findTargetItemIndex(e),l=i.children(),t=l[s],h=l.length,e=h?1:0,u={contentPosition:i.position.slice(),pageCount:e,pageIndex:e-1,pagePrevDataIndex:null,pageNextDataIndex:null};if(!t)return u;t=g(t);u.contentPosition[o]=-t.s;for(var c=s+1,d=t,f=t,p=null;c<=h;++c)(!(p=g(l[c]))&&f.e>d.s+n||p&&!m(p,d.s))&&(d=f.i>d.i?f:p)&&(null==u.pageNextDataIndex&&(u.pageNextDataIndex=d.i),++u.pageCount),f=p;for(c=s-1,d=t,f=t,p=null;-1<=c;--c)(p=g(l[c]))&&m(f,p.s)||!(d.i<f.i)||(f=d,null==u.pagePrevDataIndex&&(u.pagePrevDataIndex=d.i),++u.pageCount,++u.pageIndex),d=p;return u;function g(t){if(t){var e=t.getBoundingRect(),i=e[r]+t.position[o];return{s:i,e:i+e[a],i:t.__legendDataIndex}}}function m(t,e){return t.e>=e&&t.s<=e+n}},_findTargetItemIndex:function(i){return this._showController?(this.getContentGroup().eachChild(function(t,e){t=t.__legendDataIndex;null==o&&null!=t&&(o=e),t===i&&(n=e)}),null!=n?n:o):0;var n,o}});Jc("legendScroll","legendscroll",function(t,e){var i=t.scrollDataIndex;null!=i&&e.eachComponent({mainType:"legend",subType:"scroll",query:t},function(t){t.setScrollDataIndex(i)})});var Ky=L,we=function(t){t=t&&t.visualMap;O(t)||(t=t?[t]:[]),Ky(t,function(t){t&&($y(t,"splitList")&&!$y(t,"pieces")&&(t.pieces=t.splitList,delete t.splitList),(t=t.pieces)&&O(t)&&Ky(t,function(t){E(t)&&($y(t,"start")&&!$y(t,"min")&&(t.min=t.start),$y(t,"end")&&!$y(t,"max")&&(t.max=t.end))}))})};function $y(t,e){return t&&t.hasOwnProperty&&t.hasOwnProperty(e)}Wl.registerSubTypeDefaulter("visualMap",function(t){return t.categories||(t.pieces?0<t.pieces.length:0<t.splitNumber)&&!t.calculable?"piecewise":"continuous"});var Qy=L,Jy=E,tx=-1,ex=function(t){var e=t.mappingMethod,i=t.type,t=this.option=A(t);this.type=i,this.mappingMethod=e,this._normalizeData=dx[e];var n,i=ix[i];this.applyVisual=i.applyVisual,this.getColorMapper=i.getColorMapper,this._doMap=i._doMap[e],"piecewise"===e?(nx(t),i=(n=t).pieceList,n.hasSpecialVisual=!1,L(i,function(t,e){t.originIndex=e,null!=t.visual&&(n.hasSpecialVisual=!0)})):"category"===e?t.categories?function(t){var e=t.categories,i=t.visual,n=t.categoryMap={};{var o;Qy(e,function(t,e){n[t]=e}),O(i)||(o=[],E(i)?Qy(i,function(t,e){e=n[e];o[null!=e?e:tx]=t}):o[tx]=i,i=cx(t,o))}for(var a=e.length-1;0<=a;a--)null==i[a]&&(delete n[e[a]],e.pop())}(t):nx(t,!0):(U("linear"!==e||t.dataExtent),nx(t))};ex.prototype={constructor:ex,mapValueToVisual:function(t){var e=this._normalizeData(t);return this._doMap(e,t)},getNormalizer:function(){return T(this._normalizeData,this)}};var ix=ex.visualHandlers={color:{applyVisual:rx("color"),getColorMapper:function(){var o=this.option;return T("category"===o.mappingMethod?function(t,e){return e||(t=this._normalizeData(t)),sx.call(this,t)}:function(t,e,i){var n=!!i;return e||(t=this._normalizeData(t)),i=Be(t,o.parsedVisual,i),n?i:We(i,"rgba")},this)},_doMap:{linear:function(t){return We(Be(t,this.option.parsedVisual),"rgba")},category:sx,piecewise:function(t,e){e=ux.call(this,e);return null==e&&(e=We(Be(t,this.option.parsedVisual),"rgba")),e},fixed:lx}},colorHue:ox(function(t,e){return Fe(t,e)}),colorSaturation:ox(function(t,e){return Fe(t,null,e)}),colorLightness:ox(function(t,e){return Fe(t,null,null,e)}),colorAlpha:ox(He),opacity:{applyVisual:rx("opacity"),_doMap:hx([0,1])},liftZ:{applyVisual:rx("liftZ"),_doMap:{linear:lx,category:lx,piecewise:lx,fixed:lx}},symbol:{applyVisual:function(t,e,i){var n=this.mapValueToVisual(t);if(R(n))i("symbol",n);else if(Jy(n))for(var o in n)n.hasOwnProperty(o)&&i(o,n[o])},_doMap:{linear:ax,category:sx,piecewise:function(t,e){e=ux.call(this,e);return null==e&&(e=ax.call(this,t)),e},fixed:lx}},symbolSize:{applyVisual:rx("symbolSize"),_doMap:hx([0,1])}};function nx(t,e){var i=t.visual,n=[];E(i)?Qy(i,function(t){n.push(t)}):null!=i&&n.push(i);e||1!==n.length||{color:1,symbol:1}.hasOwnProperty(t.type)||(n[1]=n[0]),cx(t,n)}function ox(n){return{applyVisual:function(t,e,i){t=this.mapValueToVisual(t),i("color",n(e("color"),t))},_doMap:hx([0,1])}}function ax(t){var e=this.option.visual;return e[Math.round(Js(t,[0,1],[0,e.length-1],!0))]||{}}function rx(n){return function(t,e,i){i(n,this.mapValueToVisual(t))}}function sx(t){var e=this.option.visual;return e[this.option.loop&&t!==tx?t%e.length:t]}function lx(){return this.option.visual[0]}function hx(i){return{linear:function(t){return Js(t,i,this.option.visual,!0)},category:sx,piecewise:function(t,e){e=ux.call(this,e);return null==e&&(e=Js(t,i,this.option.visual,!0)),e},fixed:lx}}function ux(t){var e=this.option,i=e.pieceList;if(e.hasSpecialVisual){i=i[ex.findPieceIndex(t,i)];if(i&&i.visual)return i.visual[this.type]}}function cx(t,e){return t.visual=e,"color"===t.type&&(t.parsedVisual=S(e,function(t){return ze(t)})),e}var dx={linear:function(t){return Js(t,this.option.dataExtent,[0,1],!0)},piecewise:function(t){var e=this.option.pieceList,t=ex.findPieceIndex(t,e,!0);if(null!=t)return Js(t,[0,e.length-1],[0,1],!0)},category:function(t){t=this.option.categories?this.option.categoryMap[t]:t;return null==t?tx:t},fixed:tt};function fx(t,e,i){return t?e<=i:e<i}ex.listVisualTypes=function(){var i=[];return L(ix,function(t,e){i.push(e)}),i},ex.addVisualHandler=function(t,e){ix[t]=e},ex.isValidType=function(t){return ix.hasOwnProperty(t)},ex.eachVisual=function(t,e,i){E(t)?L(t,e,i):e.call(i,t)},ex.mapVisual=function(t,i,n){var o,a=O(t)?[]:E(t)?{}:(o=!0,null);return ex.eachVisual(t,function(t,e){t=i.call(n,t,e);o?a=t:a[e]=t}),a},ex.retrieveVisuals=function(i){var n,o={};return i&&Qy(ix,function(t,e){i.hasOwnProperty(e)&&(o[e]=i[e],n=!0)}),n?o:null},ex.prepareVisualTypes=function(t){if(Jy(t)){var i=[];Qy(t,function(t,e){i.push(e)}),t=i}else{if(!O(t))return[];t=t.slice()}return t.sort(function(t,e){return"color"===e&&"color"!==t&&0===t.indexOf("color")?1:-1}),t},ex.dependsOn=function(t,e){return"color"===e?!(!t||0!==t.indexOf(e)):t===e},ex.findPieceIndex=function(i,t,e){for(var n,o=1/0,a=0,r=t.length;a<r;a++){var s=t[a].value;if(null!=s){if(s===i||"string"==typeof s&&s===i+"")return a;e&&u(s,a)}}for(a=0,r=t.length;a<r;a++){var l=t[a],h=l.interval,l=l.close;if(h){if(h[0]===-1/0){if(fx(l[1],i,h[1]))return a}else if(h[1]===1/0){if(fx(l[0],h[0],i))return a}else if(fx(l[0],h[0],i)&&fx(l[1],i,h[1]))return a;e&&u(h[0],a),e&&u(h[1],a)}}if(e)return i===1/0?t.length-1:i===-1/0?0:n;function u(t,e){t=Math.abs(t-i);t<o&&(o=t,n=e)}};var px=L;function gx(t){if(t)for(var e in t)if(t.hasOwnProperty(e))return 1}function mx(e,t,o){var a={};return px(t,function(i){var n=a[i]=(t.prototype.__hidden=t.prototype,new t);function t(){}px(e[i],function(t,e){ex.isValidType(e)&&(t={type:e,visual:t},o&&o(t,i),n[e]=new ex(t),"opacity"===e&&((t=A(t)).type="colorAlpha",n.__hidden.__alphaForOpacity=new ex(t)))})}),a}function vx(t,d,f,p){var g={};return L(t,function(t){var e=ex.prepareVisualTypes(d[t]);g[t]=e}),{progress:function(t,i){function e(t){return i.getItemVisual(o,t)}function n(t,e){i.setItemVisual(o,t,e)}var o;for(null!=p&&(p=i.getDimension(p));null!=(o=t.next());){var a=i.getRawDataItem(o);if(!a||!1!==a.visualMap)for(var r=null!=p?i.get(p,o,!0):o,a=f(r),s=d[a],l=g[a],h=0,u=l.length;h<u;h++){var c=l[h];s[c]&&s[c].applyVisual(r,e,n)}}}}}oi=Nn.VISUAL.COMPONENT;function yx(t,e,i,n){for(var o=e.targetVisuals[n],a=ex.prepareVisualTypes(o),r={color:t.getData().getVisual("color")},s=0,l=a.length;s<l;s++){var h=a[s],h=o["opacity"===h?"__alphaForOpacity":h];h&&h.applyVisual(i,u,c)}return r.color;function u(t){return r[t]}function c(t,e){r[t]=e}}ed(oi,{createOnAllSeries:!0,reset:function(i,t){var n=[];return t.eachComponent("visualMap",function(t){var e=i.pipelineContext;!t.isTargetSeries(i)||e&&e.large||n.push(vx(t.stateList,t.targetVisuals,T(t.getValueState,t),t.getDataDimension(i.getData())))}),n}}),ed(oi,{createOnAllSeries:!0,reset:function(i,t){var n=i.getData(),o=[];t.eachComponent("visualMap",function(t){var e;t.isTargetSeries(i)&&(e=t.getVisualMeta(T(yx,null,i,t))||{stops:[],outerColors:[]},t=t.getDataDimension(n),null!=(t=n.getDimensionInfo(t))&&(e.dimension=t.index,o.push(e)))}),i.getData().setVisual("visualMeta",o)}});var xx=function(t,e,i){e=A((_x[t]||{})[e]);return i&&O(e)?e[e.length-1]:e},_x={color:{active:["#006edd","#e0ffff"],inactive:["rgba(0,0,0,0)"]},colorHue:{active:[0,360],inactive:[0,0]},colorSaturation:{active:[.3,1],inactive:[0,0]},colorLightness:{active:[.9,.5],inactive:[0,0]},colorAlpha:{active:[.3,1],inactive:[0,0]},opacity:{active:[.3,1],inactive:[0,0]},symbol:{active:["circle","roundRect","diamond"],inactive:["none"]},symbolSize:{active:[10,50],inactive:[0,0]}},bx=ex.mapVisual,Sx=ex.eachVisual,Mx=O,Ix=L,Tx=il,Ax=Js,Cx=od({type:"visualMap",dependencies:["series"],stateList:["inRange","outOfRange"],replacableOptionKeys:["inRange","outOfRange","target","controller","color"],dataBound:[-1/0,1/0],layoutMode:{type:"box",ignoreSize:!0},defaultOption:{show:!0,zlevel:0,z:4,seriesIndex:"all",min:0,max:200,dimension:null,inRange:null,outOfRange:null,left:0,right:null,top:null,bottom:0,itemWidth:null,itemHeight:null,inverse:!1,orient:"vertical",backgroundColor:"rgba(0,0,0,0)",borderColor:"#ccc",contentColor:"#5793f3",inactiveColor:"#aaa",borderWidth:0,padding:5,textGap:10,precision:0,color:null,formatter:null,text:null,textStyle:{color:"#333"}},init:function(t,e,i){this._dataExtent,this.targetVisuals={},this.controllerVisuals={},this.textStyleModel,this.itemSize,this.mergeDefaultAndTheme(t,i)},optionUpdated:function(t,e){var i,n,o,a=this.option;v.canvasSupported||(a.realtime=!1),e||(i=a,n=t,L(t=this.replacableOptionKeys,function(t){n.hasOwnProperty(t)&&gx(n[t])&&(o=!0)}),o&&L(t,function(t){n.hasOwnProperty(t)&&gx(n[t])?i[t]=A(n[t]):delete i[t]})),this.textStyleModel=this.getModel("textStyle"),this.resetItemSize(),this.completeVisualOption()},resetVisual:function(t){var e=this.stateList;t=T(t,this),this.controllerVisuals=mx(this.option.controller,e,t),this.targetVisuals=mx(this.option.target,e,t)},getTargetSeriesIndices:function(){var t=this.option.seriesIndex,i=[];return null==t||"all"===t?this.ecModel.eachSeries(function(t,e){i.push(e)}):i=So(t),i},eachTargetSeries:function(e,i){L(this.getTargetSeriesIndices(),function(t){e.call(i,this.ecModel.getSeriesByIndex(t))},this)},isTargetSeries:function(e){var i=!1;return this.eachTargetSeries(function(t){t===e&&(i=!0)}),i},formatValueText:function(t,e,i){var n,o=this.option,a=o.precision,r=this.dataBound,o=o.formatter;return i=i||["<",">"],O(t)&&(t=t.slice(),n=!0),e=e?t:n?[s(t[0]),s(t[1])]:s(t),R(o)?o.replace("{value}",n?e[0]:e).replace("{value2}",n?e[1]:e):z(o)?n?o(t[0],t[1]):o(t):n?t[0]===r[0]?i[0]+" "+e[1]:t[1]===r[1]?i[1]+" "+e[0]:e[0]+" - "+e[1]:e;function s(t){return t===r[0]?"min":t===r[1]?"max":(+t).toFixed(Math.min(a,20))}},resetExtent:function(){var t=this.option,t=Tx([t.min,t.max]);this._dataExtent=t},getDataDimension:function(t){var e=this.option.dimension,i=t.dimensions;if(null!=e||i.length){if(null!=e)return t.getDimension(e);for(var n=t.dimensions,o=n.length-1;0<=o;o--){var a=n[o];if(!t.getDimensionInfo(a).isCalculationCoord)return a}}},getExtent:function(){return this._dataExtent.slice()},completeVisualOption:function(){var t=this.ecModel,e=this.option,i={inRange:e.inRange,outOfRange:e.outOfRange},n=e.target||(e.target={}),o=e.controller||(e.controller={});g(n,i),g(o,i);var l=this.isCategory();function a(n){Mx(e.color)&&!n.inRange&&(n.inRange={color:e.color.slice().reverse()}),n.inRange=n.inRange||{color:t.get("gradientColor")},Ix(this.stateList,function(t){var e,i=n[t];R(i)&&((e=xx(i,"active",l))?(n[t]={},n[t][i]=e):delete n[t])},this)}a.call(this,n),a.call(this,o),function(t,e,i){var e=t[e],n=t[i];e&&!n&&(n=t[i]={},Ix(e,function(t,e){var i;!ex.isValidType(e)||null!=(i=xx(e,"inactive",l))&&(n[e]=i,"color"!==e||n.hasOwnProperty("opacity")||n.hasOwnProperty("colorAlpha")||(n.opacity=[0,0]))}))}.call(this,n,"inRange","outOfRange"),function(o){var a=(o.inRange||{}).symbol||(o.outOfRange||{}).symbol,r=(o.inRange||{}).symbolSize||(o.outOfRange||{}).symbolSize,s=this.get("inactiveColor");Ix(this.stateList,function(t){var e=this.itemSize,i=o[t];null==(i=i||(o[t]={color:l?s:[s]})).symbol&&(i.symbol=a&&A(a)||(l?"roundRect":["roundRect"])),null==i.symbolSize&&(i.symbolSize=r&&A(r)||(l?e[0]:[e[0],e[0]])),i.symbol=bx(i.symbol,function(t){return"none"===t||"square"===t?"roundRect":t});var n,t=i.symbolSize;null!=t&&(n=-1/0,Sx(t,function(t){n<t&&(n=t)}),i.symbolSize=bx(t,function(t){return Ax(t,[0,n],[0,e[0]],!0)}))},this)}.call(this,o)},resetItemSize:function(){this.itemSize=[parseFloat(this.get("itemWidth")),parseFloat(this.get("itemHeight"))]},isCategory:function(){return!!this.option.categories},setSelected:tt,getValueState:tt,getVisualMeta:tt}),Dx=[20,140],kx=Cx.extend({type:"visualMap.continuous",defaultOption:{align:"auto",calculable:!1,range:null,realtime:!0,itemHeight:null,itemWidth:null,hoverLink:!0,hoverLinkDataSize:null,hoverLinkOnHandle:null},optionUpdated:function(t,e){kx.superApply(this,"optionUpdated",arguments),this.resetExtent(),this.resetVisual(function(t){t.mappingMethod="linear",t.dataExtent=this.getExtent()}),this._resetRange()},resetItemSize:function(){kx.superApply(this,"resetItemSize",arguments);var t=this.itemSize;"horizontal"===this._orient&&t.reverse(),null!=t[0]&&!isNaN(t[0])||(t[0]=Dx[0]),null!=t[1]&&!isNaN(t[1])||(t[1]=Dx[1])},_resetRange:function(){var t=this.getExtent(),e=this.option.range;!e||e.auto?(t.auto=1,this.option.range=t):O(e)&&(e[0]>e[1]&&e.reverse(),e[0]=Math.max(e[0],t[0]),e[1]=Math.min(e[1],t[1]))},completeVisualOption:function(){Cx.prototype.completeVisualOption.apply(this,arguments),L(this.stateList,function(t){t=this.option.controller[t].symbolSize;t&&t[0]!==t[1]&&(t[0]=0)},this)},setSelected:function(t){this.option.range=t.slice(),this._resetRange()},getSelected:function(){var t=this.getExtent(),e=il((this.get("range")||[]).slice());return e[0]>t[1]&&(e[0]=t[1]),e[1]>t[1]&&(e[1]=t[1]),e[0]<t[0]&&(e[0]=t[0]),e[1]<t[0]&&(e[1]=t[0]),e},getValueState:function(t){var e=this.option.range,i=this.getExtent();return(e[0]<=i[0]||e[0]<=t)&&(e[1]>=i[1]||t<=e[1])?"inRange":"outOfRange"},findTargetDataIndices:function(n){var o=[];return this.eachTargetSeries(function(t){var i=[],e=t.getData();e.each(this.getDataDimension(e),function(t,e){n[0]<=t&&t<=n[1]&&i.push(e)},this),o.push({seriesId:t.id,dataIndex:i})},this),o},getVisualMeta:function(i){var t=Lx(0,0,this.getExtent()),e=Lx(0,0,this.option.range.slice()),n=[];function o(t,e){n.push({value:t,color:i(t,e)})}for(var a=0,r=0,s=e.length,l=t.length;r<l&&(!e.length||t[r]<=e[0]);r++)t[r]<e[a]&&o(t[r],"outOfRange");for(var h=1;a<s;a++,h=0)h&&n.length&&o(e[a],"outOfRange"),o(e[a],"inRange");for(h=1;r<l;r++)(!e.length||e[e.length-1]<t[r])&&(h&&(n.length&&o(n[n.length-1].value,"outOfRange"),h=0),o(t[r],"outOfRange"));var u=n.length;return{stops:n,outerColors:[u?n[0].color:"transparent",u?n[u-1].color:"transparent"]}}});function Lx(t,e,i){if(i[0]===i[1])return i.slice();for(var n=(i[1]-i[0])/200,o=i[0],a=[],r=0;r<=200&&o<i[1];r++)a.push(o),o+=n;return a.push(i[1]),a}function Px(t,e,i,n,o,a){t=t||0;var r=i[1]-i[0];null!=o&&(o=zx(o,[0,r])),null!=a&&(a=Math.max(a,null!=o?o:0)),"all"===n&&(s=zx(s=Math.abs(e[1]-e[0]),[0,r]),o=a=zx(s,[o,a]),n=0),e[0]=zx(e[0],i),e[1]=zx(e[1],i);var s=Ox(e,n);return e[n]+=t,t=o||0,i=i.slice(),s.sign<0?i[0]+=t:i[1]-=t,e[n]=zx(e[n],i),i=Ox(e,n),null!=o&&(i.sign!==s.sign||i.span<o)&&(e[1-n]=e[n]+s.sign*o),i=Ox(e,n),null!=a&&i.span>a&&(e[1-n]=e[n]+i.sign*a),e}oi=ad({type:"visualMap",autoPositionValues:{left:1,right:1,top:1,bottom:1},init:function(t,e){this.ecModel=t,this.api=e,this.visualMapModel},render:function(t,e,i,n){!1!==(this.visualMapModel=t).get("show")?this.doRender.apply(this,arguments):this.group.removeAll()},renderBackground:function(t){var e=this.visualMapModel,i=vl(e.get("padding")||0),n=t.getBoundingRect();t.add(new Rr({z2:-1,silent:!0,shape:{x:n.x-i[3],y:n.y-i[0],width:n.width+i[3]+i[1],height:n.height+i[0]+i[2]},style:{fill:e.get("backgroundColor"),stroke:e.get("borderColor"),lineWidth:e.get("borderWidth")}}))},getControllerVisual:function(i,n,o){var t,e=(o=o||{}).forceState,a=this.visualMapModel,r={};function s(t){return r[t]}function l(t,e){r[t]=e}"symbol"===n&&(r.symbol=a.get("itemSymbol")),"color"===n&&(t=a.get("contentColor"),r.color=t);var h=a.controllerVisuals[e||a.getValueState(i)];return L(ex.prepareVisualTypes(h),function(t){var e=h[t];o.convertOpacityToAlpha&&"opacity"===t&&(t="colorAlpha",e=h.__alphaForOpacity),ex.dependsOn(t,n)&&e&&e.applyVisual(i,s,l)}),r[n]},positionGroup:function(t){var e,i,n,o,a,r,s=this.visualMapModel,l=this.api;e=t,i=s.getBoxLayoutParams(),n={width:l.getWidth(),height:l.getHeight()},t=!a||!a.hv||a.hv[0],s=!a||!a.hv||a.hv[1],l=a&&a.boundingMode||"all",(t||s)&&("raw"===l?r="group"===e.type?new vi(0,0,+i.width||0,+i.height||0):e.getBoundingRect():(r=e.getBoundingRect(),e.needLocalTransform()&&(a=e.getLocalTransform(),(r=r.clone()).applyTransform(a))),i=Rl(D({width:r.width,height:r.height},i),n,o),o=e.position,t=t?i.x-r.x:0,r=s?i.y-r.y:0,e.attr("position","raw"===l?[t,r]:[o[0]+t,o[1]+r]))},doRender:tt});function Ox(t,e){t=t[e]-t[1-e];return{span:Math.abs(t),sign:0<t||!(t<0)&&e?-1:1}}function zx(t,e){return Math.min(null!=e[1]?e[1]:1/0,Math.max(null!=e[0]?e[0]:-1/0,t))}function Rx(t,e,i){var n=t.option,o=n.align;if(null!=o&&"auto"!==o)return o;for(var t={width:e.getWidth(),height:e.getHeight()},a="horizontal"===n.orient?1:0,r=[["left","right","width"],["top","bottom","height"]],s=r[a],l=[0,null,10],h={},u=0;u<3;u++)h[r[1-a][u]]=l[u],h[s[u]]=2===u?i[0]:n[s[u]];o=[["x","width",3],["y","height",0]][a],e=Rl(h,t,n.padding);return s[(e.margin[o[2]]||0)+e[o[0]]+.5*e[o[1]]<.5*t[o[1]]?0:1]}function Ex(t,e){return L(t||[],function(t){null!=t.dataIndex&&(t.dataIndexInside=t.dataIndex,t.dataIndex=null),t.highlightKey="visualMap"+(e?e.componentIndex:"")}),t}var Nx=Js,Bx=L,Vx=Math.min,Fx=Math.max,Hx=oi.extend({type:"visualMap.continuous",init:function(){Hx.superApply(this,"init",arguments),this._shapes={},this._dataInterval=[],this._handleEnds=[],this._orient,this._useHandle,this._hoverLinkDataIndices=[],this._dragging,this._hovering},doRender:function(t,e,i,n){n&&"selectDataRange"===n.type&&n.from===this.uid||this._buildView()},_buildView:function(){this.group.removeAll();var t=this.visualMapModel,e=this.group;this._orient=t.get("orient"),this._useHandle=t.get("calculable"),this._resetInterval(),this._renderBar(e);t=t.get("text");this._renderEndsText(e,t,0),this._renderEndsText(e,t,1),this._updateView(!0),this.renderBackground(e),this._updateView(),this._enableHoverLinkToSeries(),this._enableHoverLinkFromSeries(),this.positionGroup(e)},_renderEndsText:function(t,e,i){var n,o,a;e&&(n=null!=(n=e[1-i])?n+"":"",o=(a=this.visualMapModel).get("textGap"),e=a.itemSize,a=this._shapes.barGroup,e=this._applyTransform([e[0]/2,0===i?-o:e[1]+o],a),o=this._applyTransform(0===i?"bottom":"top",a),i=this._orient,a=this.visualMapModel.textStyleModel,this.group.add(new wr({style:{x:e[0],y:e[1],textVerticalAlign:"horizontal"===i?"middle":o,textAlign:"horizontal"===i?o:"center",text:n,textFont:a.getFont(),textFill:a.getTextColor()}})))},_renderBar:function(t){var e=this.visualMapModel,i=this._shapes,n=e.itemSize,o=this._orient,a=this._useHandle,r=Rx(e,this.api,n),s=i.barGroup=this._createBarGroup(r);s.add(i.outOfRange=Wx()),s.add(i.inRange=Wx(null,a?Zx(this._orient):null,T(this._dragHandle,this,"all",!1),T(this._dragHandle,this,"all",!0)));e=e.textStyleModel.getTextRect("国"),e=Fx(e.width,e.height);a&&(i.handleThumbs=[],i.handleLabels=[],i.handleLabelPoints=[],this._createHandle(s,0,n,e,o,r),this._createHandle(s,1,n,e,o,r)),this._createIndicator(s,n,e,o),t.add(s)},_createHandle:function(t,e,i,n,o){var a,r=T(this._dragHandle,this,e,!1),s=T(this._dragHandle,this,e,!0),a=Wx((a=n,0===e?[[0,0],[a,0],[a,-a]]:[[0,0],[a,0],[a,a]]),Zx(this._orient),r,s);a.position[0]=i[0],t.add(a);t=this.visualMapModel.textStyleModel,t=new wr({draggable:!0,drift:r,onmousemove:function(t){Ht(t.event)},ondragend:s,style:{x:0,y:0,text:"",textFont:t.getFont(),textFill:t.getTextColor()}});this.group.add(t);o=["horizontal"===o?n/2:1.5*n,"horizontal"===o?0===e?-1.5*n:1.5*n:0===e?-n/2:n/2],n=this._shapes;n.handleThumbs[e]=a,n.handleLabelPoints[e]=o,n.handleLabels[e]=t},_createIndicator:function(t,e,i,n){var o=Wx([[0,0]],"move");o.position[0]=e[0],o.attr({invisible:!0,silent:!0}),t.add(o);t=this.visualMapModel.textStyleModel,t=new wr({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textFont:t.getFont(),textFill:t.getTextColor()}});this.group.add(t);n=["horizontal"===n?i/2:9,0],i=this._shapes;i.indicator=o,i.indicatorLabel=t,i.indicatorLabelPoint=n},_dragHandle:function(t,e,i,n){this._useHandle&&(this._dragging=!e,e||(n=this._applyTransform([i,n],this._shapes.barGroup,!0),this._updateInterval(t,n[1]),this._updateView()),e===!this.visualMapModel.get("realtime")&&this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:this._dataInterval.slice()}),e?this._hovering||this._clearHoverLinkToSeries():Gx(this.visualMapModel)&&this._doHoverLinkToSeries(this._handleEnds[t],!1))},_resetInterval:function(){var t=this.visualMapModel,e=this._dataInterval=t.getSelected(),i=t.getExtent(),t=[0,t.itemSize[1]];this._handleEnds=[Nx(e[0],i,t,!0),Nx(e[1],i,t,!0)]},_updateInterval:function(t,e){e=e||0;var i=this.visualMapModel,n=this._handleEnds,o=[0,i.itemSize[1]];Px(e,n,o,t,0);i=i.getExtent();this._dataInterval=[Nx(n[0],o,i,!0),Nx(n[1],o,i,!0)]},_updateView:function(t){var e=this.visualMapModel,i=e.getExtent(),n=this._shapes,o=[0,e.itemSize[1]],e=t?o:this._handleEnds,t=this._createBarVisual(this._dataInterval,i,e,"inRange"),o=this._createBarVisual(i,i,o,"outOfRange");n.inRange.setStyle({fill:t.barColor,opacity:t.opacity}).setShape("points",t.barPoints),n.outOfRange.setStyle({fill:o.barColor,opacity:o.opacity}).setShape("points",o.barPoints),this._updateHandle(e,t)},_createBarVisual:function(t,e,i,n){var o={forceState:n,convertOpacityToAlpha:!0},n=this._makeColorGradient(t,o),o=[this.getControllerVisual(t[0],"symbolSize",o),this.getControllerVisual(t[1],"symbolSize",o)],o=this._createBarPoints(i,o);return{barColor:new Wr(0,0,0,1,n),barPoints:o,handlesColor:[n[0].color,n[n.length-1].color]}},_makeColorGradient:function(t,e){var i=[],n=(t[1]-t[0])/100;i.push({color:this.getControllerVisual(t[0],"color",e),offset:0});for(var o=1;o<100;o++){var a=t[0]+n*o;if(a>t[1])break;i.push({color:this.getControllerVisual(a,"color",e),offset:o/100})}return i.push({color:this.getControllerVisual(t[1],"color",e),offset:1}),i},_createBarPoints:function(t,e){var i=this.visualMapModel.itemSize;return[[i[0]-e[0],t[0]],[i[0],t[0]],[i[0],t[1]],[i[0]-e[1],t[1]]]},_createBarGroup:function(t){var e=this._orient,i=this.visualMapModel.get("inverse");return new yi("horizontal"!==e||i?"horizontal"===e&&i?{scale:"bottom"===t?[-1,1]:[1,1],rotation:-Math.PI/2}:"vertical"!==e||i?{scale:"left"===t?[1,1]:[-1,1]}:{scale:"left"===t?[1,-1]:[-1,-1]}:{scale:"bottom"===t?[1,1]:[-1,1],rotation:Math.PI/2})},_updateHandle:function(i,n){var o,a,r,s;this._useHandle&&(o=this._shapes,a=this.visualMapModel,r=o.handleThumbs,s=o.handleLabels,Bx([0,1],function(t){var e=r[t];e.setStyle("fill",n.handlesColor[t]),e.position[1]=i[t];e=Ns(o.handleLabelPoints[t],Es(e,this.group));s[t].setStyle({x:e[0],y:e[1],text:a.formatValueText(this._dataInterval[t]),textVerticalAlign:"middle",textAlign:this._applyTransform("horizontal"===this._orient?0===t?"bottom":"top":"left",o.barGroup)})},this))},_showIndicator:function(t,e,i,n){var o=this.visualMapModel,a=o.getExtent(),r=o.itemSize,s=[0,r[1]],l=Nx(t,a,s,!0),h=this._shapes,a=h.indicator;a&&(a.position[1]=l,a.attr("invisible",!1),a.setShape("points",(s=!!i,n=n,l=l,r=r[1],s?[[0,-Vx(n,Fx(l,0))],[6,0],[0,Vx(n,Fx(r-l,0))]]:[[0,0],[5,-5],[5,5]])),l=this.getControllerVisual(t,"color",{convertOpacityToAlpha:!0}),a.setStyle("fill",l),t=Ns(h.indicatorLabelPoint,Es(a,this.group)),(l=h.indicatorLabel).attr("invisible",!1),a=this._applyTransform("left",h.barGroup),h=this._orient,l.setStyle({text:(i||"")+o.formatValueText(e),textVerticalAlign:"horizontal"===h?a:"middle",textAlign:"horizontal"===h?"center":a,x:t[0],y:t[1]}))},_enableHoverLinkToSeries:function(){var i=this;this._shapes.barGroup.on("mousemove",function(t){var e;i._hovering=!0,i._dragging||(e=i.visualMapModel.itemSize,(t=i._applyTransform([t.offsetX,t.offsetY],i._shapes.barGroup,!0,!0))[1]=Vx(Fx(0,t[1]),e[1]),i._doHoverLinkToSeries(t[1],0<=t[0]&&t[0]<=e[0]))}).on("mouseout",function(){i._hovering=!1,i._dragging||i._clearHoverLinkToSeries()})},_enableHoverLinkFromSeries:function(){var t=this.api.getZr();this.visualMapModel.option.hoverLink?(t.on("mouseover",this._hoverLinkFromSeriesMouseOver,this),t.on("mouseout",this._hideIndicator,this)):this._clearHoverLinkFromSeries()},_doHoverLinkToSeries:function(t,e){var i,n,o,a=this.visualMapModel,r=a.itemSize;function s(t,e,i){for(var n=0,o=t.length;n<o;n++)for(var a=t[n].seriesId,r=So(t[n].dataIndex),s=i&&i[a],l=0,h=r.length;l<h;l++){var u=r[l];s&&s[u]?s[u]=null:(e[a]||(e[a]={}))[u]=1}}function l(t,e){var i,n,o=[];for(i in t)t.hasOwnProperty(i)&&null!=t[i]&&(e?o.push(+i):(n=l(t[i],!0)).length&&o.push({seriesId:i,dataIndex:n}));return o}a.option.hoverLink&&(i=[0,r[1]],n=a.getExtent(),r=[(t=Vx(Fx(i[0],t),i[1]))-(o=function(t,e,i){var n=6,t=t.get("hoverLinkDataSize");t&&(n=Nx(t,e,i,!0)/2);return n}(a,n,i)),t+o],t=Nx(t,i,n,!0),n=[Nx(r[0],i,n,!0),Nx(r[1],i,n,!0)],r[0]<i[0]&&(n[0]=-1/0),i[1]<r[1]&&(n[1]=1/0),e&&(n[0]===-1/0?this._showIndicator(t,n[1],"< ",o):n[1]===1/0?this._showIndicator(t,n[0],"> ",o):this._showIndicator(t,t,"≈ ",o)),t=this._hoverLinkDataIndices,o=[],(e||Gx(a))&&(o=this._hoverLinkDataIndices=a.findTargetDataIndices(n)),n=o,o={},s(t||[],t={}),s(n||[],o,t),o=[l(t),l(o)],this._dispatchHighDown("downplay",Ex(o[0],a)),this._dispatchHighDown("highlight",Ex(o[1],a)))},_hoverLinkFromSeriesMouseOver:function(t){var e=t.target,i=this.visualMapModel;e&&null!=e.dataIndex&&(t=this.ecModel.getSeriesByIndex(e.seriesIndex),i.isTargetSeries(t)&&(e=(t=t.getData(e.dataType)).get(i.getDataDimension(t),e.dataIndex,!0),isNaN(e)||this._showIndicator(e,e)))},_hideIndicator:function(){var t=this._shapes;t.indicator&&t.indicator.attr("invisible",!0),t.indicatorLabel&&t.indicatorLabel.attr("invisible",!0)},_clearHoverLinkToSeries:function(){this._hideIndicator();var t=this._hoverLinkDataIndices;this._dispatchHighDown("downplay",Ex(t,this.visualMapModel)),t.length=0},_clearHoverLinkFromSeries:function(){this._hideIndicator();var t=this.api.getZr();t.off("mouseover",this._hoverLinkFromSeriesMouseOver),t.off("mouseout",this._hideIndicator)},_applyTransform:function(t,e,i,n){n=Es(e,n?null:this.group);return Ws[O(t)?"applyTransform":"transformDirection"](t,n,i)},_dispatchHighDown:function(t,e){e&&e.length&&this.api.dispatchAction({type:t,batch:e})},dispose:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()},remove:function(){this._clearHoverLinkFromSeries(),this._clearHoverLinkToSeries()}});function Wx(t,e,i,n){return new Cr({shape:{points:t},draggable:!!i,cursor:e,drift:i,onmousemove:function(t){Ht(t.event)},ondragend:n})}function Gx(t){var e=t.get("hoverLinkOnHandle");return null==e?t.get("realtime"):e}function Zx(t){return"vertical"===t?"ns-resize":"ew-resize"}Jc({type:"selectDataRange",event:"dataRangeSelected",update:"update"},function(e,t){t.eachComponent({mainType:"visualMap",query:e},function(t){t.setSelected(e.selected)})}),$c(we);var Xx=Cx.extend({type:"visualMap.piecewise",defaultOption:{selected:null,minOpen:!1,maxOpen:!1,align:"auto",itemWidth:20,itemHeight:14,itemSymbol:"roundRect",pieceList:null,categories:null,splitNumber:5,selectedMode:"multiple",itemGap:10,hoverLink:!0,showLabel:null},optionUpdated:function(t,e){Xx.superApply(this,"optionUpdated",arguments),this._pieceList=[],this.resetExtent();var i=this._mode=this._determineMode();Ux[this._mode].call(this),this._resetSelected(t,e);var n=this.option.categories;this.resetVisual(function(t,e){"categories"===i?(t.mappingMethod="category",t.categories=A(n)):(t.dataExtent=this.getExtent(),t.mappingMethod="piecewise",t.pieceList=S(this._pieceList,function(t){t=A(t);return"inRange"!==e&&(t.visual=null),t}))})},completeVisualOption:function(){var n=this.option,i={},t=ex.listVisualTypes(),o=this.isCategory();function a(t,e,i){return t&&t[e]&&(E(t[e])?t[e].hasOwnProperty(i):t[e]===i)}L(n.pieces,function(e){L(t,function(t){e.hasOwnProperty(t)&&(i[t]=1)})}),L(i,function(t,e){var i=0;L(this.stateList,function(t){i|=a(n,t,e)||a(n.target,t,e)},this),i||L(this.stateList,function(t){(n[t]||(n[t]={}))[e]=xx(e,"inRange"===t?"active":"inactive",o)})},this),Cx.prototype.completeVisualOption.apply(this,arguments)},_resetSelected:function(t,e){var i,n=this.option,o=this._pieceList,a=(e?n:t).selected||{};n.selected=a,L(o,function(t,e){t=this.getSelectedMapKey(t);a.hasOwnProperty(t)||(a[t]=!0)},this),"single"===n.selectedMode&&(i=!1,L(o,function(t,e){t=this.getSelectedMapKey(t);a[t]&&(i?a[t]=!1:i=!0)},this))},getSelectedMapKey:function(t){return"categories"===this._mode?t.value+"":t.index+""},getPieceList:function(){return this._pieceList},_determineMode:function(){var t=this.option;return t.pieces&&0<t.pieces.length?"pieces":this.option.categories?"categories":"splitNumber"},setSelected:function(t){this.option.selected=A(t)},getValueState:function(t){t=ex.findPieceIndex(t,this._pieceList);return null!=t&&this.option.selected[this.getSelectedMapKey(this._pieceList[t])]?"inRange":"outOfRange"},findTargetDataIndices:function(n){var o=[];return this.eachTargetSeries(function(t){var i=[],e=t.getData();e.each(this.getDataDimension(e),function(t,e){ex.findPieceIndex(t,this._pieceList)===n&&i.push(e)},this),o.push({seriesId:t.id,dataIndex:i})},this),o},getRepresentValue:function(t){return this.isCategory()||null!=t.value?t.value:(t=t.interval||[])[0]===-1/0&&t[1]===1/0?0:(t[0]+t[1])/2},getVisualMeta:function(n){if(!this.isCategory()){var t,o=[],a=[],r=this,e=this._pieceList.slice();e.length?((t=e[0].interval[0])!==-1/0&&e.unshift({interval:[-1/0,t]}),(t=e[e.length-1].interval[1])!==1/0&&e.push({interval:[t,1/0]})):e.push({interval:[-1/0,1/0]});var i=-1/0;return L(e,function(t){t=t.interval;t&&(t[0]>i&&s([i,t[0]],"outOfRange"),s(t.slice()),i=t[1])},this),{stops:o,outerColors:a}}function s(t,e){var i=r.getRepresentValue({interval:t});e=e||r.getValueState(i);e=n(i,e);t[0]===-1/0?a[0]=e:t[1]===1/0?a[1]=e:o.push({value:t[0],color:e},{value:t[1],color:e})}}}),Ux={splitNumber:function(){var t=this.option,e=this._pieceList,i=Math.min(t.precision,20),n=this.getExtent(),o=t.splitNumber,o=Math.max(parseInt(o,10),1);t.splitNumber=o;for(var a=(n[1]-n[0])/o;+a.toFixed(i)!==a&&i<5;)i++;t.precision=i,a=+a.toFixed(i),t.minOpen&&e.push({interval:[-1/0,n[0]],close:[0,0]});for(var r=0,s=n[0];r<o;s+=a,r++){var l=r===o-1?n[1]:s+a;e.push({interval:[s,l],close:[1,1]})}t.maxOpen&&e.push({interval:[n[1],1/0],close:[0,0]}),pl(e),L(e,function(t,e){t.index=e,t.text=this.formatValueText(t.interval)},this)},categories:function(){var t=this.option;L(t.categories,function(t){this._pieceList.push({text:this.formatValueText(t,!0),value:t})},this),Yx(t,this._pieceList)},pieces:function(){var t=this.option,c=this._pieceList;L(t.pieces,function(t,e){E(t)||(t={value:t});var i={text:"",index:e};if(null!=t.label&&(i.text=t.label),t.hasOwnProperty("value")){e=i.value=t.value;i.interval=[e,e],i.close=[1,1]}else{for(var n=i.interval=[],o=i.close=[0,0],a=[1,0,1],r=[-1/0,1/0],s=[],l=0;l<2;l++){for(var h=[["gte","gt","min"],["lte","lt","max"]][l],u=0;u<3&&null==n[l];u++)n[l]=t[h[u]],o[l]=a[u],s[l]=2===u;null==n[l]&&(n[l]=r[l])}s[0]&&n[1]===1/0&&(o[0]=0),s[1]&&n[0]===-1/0&&(o[1]=0),n[0]===n[1]&&o[0]&&o[1]&&(i.value=n[0])}i.visual=ex.retrieveVisuals(t),c.push(i)},this),Yx(t,c),pl(c),L(c,function(t){var e=t.close,e=[["<","≤"][e[1]],[">","≥"][e[0]]];t.text=t.text||this.formatValueText(null!=t.value?t.value:t.interval,!1,e)},this)}};function Yx(t,e){var i=t.inverse;("vertical"===t.orient?!i:i)&&e.reverse()}oi.extend({type:"visualMap.piecewise",doRender:function(){var n=this.group;n.removeAll();var o=this.visualMapModel,a=o.get("textGap"),t=o.textStyleModel,r=t.getFont(),s=t.getTextColor(),l=this._getItemAlign(),h=o.itemSize,e=this._getViewData(),t=e.endsText,u=H(o.get("showLabel",!0),!t);t&&this._renderEndsText(n,t[0],h,u,l),L(e.viewPieceList,function(t){var e=t.piece,i=new yi;i.onclick=T(this._onItemClick,this,e),this._enableHoverLink(i,t.indexInModelPieceList);t=o.getRepresentValue(e);this._createItemSymbol(i,t,[0,0,h[0],h[1]]),u&&(t=this.visualMapModel.getValueState(t),i.add(new wr({style:{x:"right"===l?-a:h[0]+a,y:h[1]/2,text:e.text,textVerticalAlign:"middle",textAlign:l,textFont:r,textFill:s,opacity:"outOfRange"===t?.5:1}})));n.add(i)},this),t&&this._renderEndsText(n,t[1],h,u,l),zl(o.get("orient"),n,o.get("itemGap")),this.renderBackground(n),this.positionGroup(n)},_enableHoverLink:function(t,i){function e(t){var e=this.visualMapModel;e.option.hoverLink&&this.api.dispatchAction({type:t,batch:Ex(e.findTargetDataIndices(i),e)})}t.on("mouseover",T(e,this,"highlight")).on("mouseout",T(e,this,"downplay"))},_getItemAlign:function(){var t=this.visualMapModel,e=t.option;if("vertical"===e.orient)return Rx(t,this.api,t.itemSize);e=e.align;return e&&"auto"!==e||(e="left"),e},_renderEndsText:function(t,e,i,n,o){var a,r;e&&(a=new yi,r=this.visualMapModel.textStyleModel,a.add(new wr({style:{x:n?"right"===o?i[0]:0:i[0]/2,y:i[1]/2,textVerticalAlign:"middle",textAlign:n?o:"center",text:e,textFont:r.getFont(),textFill:r.getTextColor()}})),t.add(a))},_getViewData:function(){var t=this.visualMapModel,e=S(t.getPieceList(),function(t,e){return{piece:t,indexInModelPieceList:e}}),i=t.get("text"),n=t.get("orient"),t=t.get("inverse");return("horizontal"===n?t:!t)?e.reverse():i=i&&i.slice().reverse(),{viewPieceList:e,endsText:i}},_createItemSymbol:function(t,e,i){t.add(Zf(this.getControllerVisual(e,"symbol"),i[0],i[1],i[2],i[3],this.getControllerVisual(e,"color")))},_onItemClick:function(t){var e=this.visualMapModel,i=e.option,n=A(i.selected),o=e.getSelectedMapKey(t);"single"===i.selectedMode?(n[o]=!0,L(n,function(t,e){n[e]=e===o})):n[o]=!n[o],this.api.dispatchAction({type:"selectDataRange",from:this.uid,visualMapId:this.visualMapModel.id,selected:n})}});$c(we),Wl.registerSubTypeDefaulter("dataZoom",function(){return"slider"});var qx=["cartesian2d","polar","singleAxis"];var jx,Kx,$x,Qx,Jx=(Kx=["axisIndex","axis","index","id"],$x=S(jx=(jx=["x","y","z","radius","angle","single"]).slice(),Al),Qx=S(Kx=(Kx||[]).slice(),Al),function(o,a){L(jx,function(t,e){for(var i={name:t,capital:$x[e]},n=0;n<Kx.length;n++)i[Kx[n]]=t+Qx[n];o.call(a,i)})});function t_(i,s,l){return function(t){var a,r={nodes:[],records:{}};if(s(function(t){r.records[t.name]={}}),!t)return r;for(h(t,r);a=!1,i(e),a;);function e(t){var i,n,o,e;e=t,0<=_(r.nodes,e)||(i=t,n=r,o=!1,s(function(e){L(l(i,e)||[],function(t){n.records[e.name][t]&&(o=!0)})}),!o)||(h(t,r),a=!0)}return r};function h(t,i){i.nodes.push(t),s(function(e){L(l(t,e)||[],function(t){i.records[e.name][t]=!0})})}}function e_(t,e,i,n){this._dimName=t,this._axisIndex=e,this._valueWindow,this._percentWindow,this._dataExtent,this._minMaxSpan,this.ecModel=n,this._dataZoomModel=i}var i_=L,n_=il;function o_(t,e){var i=t.getAxisModel(),n=t._percentWindow,o=t._valueWindow;n&&(t=al(o,[0,500]),t=Math.min(t,20),n=e||0===n[0]&&100===n[1],i.setRange(n?null:+o[0].toFixed(t),n?null:+o[1].toFixed(t)))}e_.prototype={constructor:e_,hostedBy:function(t){return this._dataZoomModel===t},getDataValueWindow:function(){return this._valueWindow.slice()},getDataPercentWindow:function(){return this._percentWindow.slice()},getTargetSeriesModels:function(){var i=[],n=this.ecModel;return n.eachSeries(function(t){var e;e=t.get("coordinateSystem"),0<=_(qx,e)&&(e=this._dimName,e=n.queryComponents({mainType:e+"Axis",index:t.get(e+"AxisIndex"),id:t.get(e+"AxisId")})[0],this._axisIndex===(e&&e.componentIndex)&&i.push(t))},this),i},getAxisModel:function(){return this.ecModel.getComponent(this._dimName+"Axis",this._axisIndex)},getOtherAxisModel:function(){var e,i,t=this._dimName,n=this.ecModel,o=this.getAxisModel(),t="x"===t||"y"===t?(e="gridIndex","x"===t?"y":"x"):(e="polarIndex","angle"===t?"radius":"angle");return n.eachComponent(t+"Axis",function(t){(t.get(e)||0)===(o.get(e)||0)&&(i=t)}),i},getMinMaxSpan:function(){return A(this._minMaxSpan)},calculateDataWindow:function(n){var o,a=this._dataExtent,s=this.getAxisModel().axis.scale,r=this._dataZoomModel.getRangePropMode(),l=[0,100],h=[],u=[];i_(["start","end"],function(t,e){var i=n[t],t=n[t+"Value"];"percent"===r[e]?(null==i&&(i=l[e]),t=s.parse(Js(i,l,a))):(o=!0,i=Js(t=null==t?a[e]:s.parse(t),a,l)),u[e]=t,h[e]=i}),n_(u),n_(h);var c=this._minMaxSpan;function t(t,e,i,n,o){var a=o?"Span":"ValueSpan";Px(0,t,i,"all",c["min"+a],c["max"+a]);for(var r=0;r<2;r++)e[r]=Js(t[r],i,n,!0),o&&(e[r]=s.parse(e[r]))}return o?t(u,h,a,l,!1):t(h,u,l,a,!0),{valueWindow:u,percentWindow:h}},reset:function(t){var e,n,o,a,r;t===this._dataZoomModel&&(e=this.getTargetSeriesModels(),this._dataExtent=function(t,i,e){var n=[1/0,-1/0];i_(e,function(t){var e=t.getData();e&&i_(e.mapDimension(i,!0),function(t){t=e.getApproximateExtent(t);t[0]<n[0]&&(n[0]=t[0]),t[1]>n[1]&&(n[1]=t[1])})}),n[1]<n[0]&&(n=[NaN,NaN]);return function(t,e){var i=t.getAxisModel(),n=i.getMin(!0),o="category"===i.get("type"),t=o&&i.getCategories().length;null!=n&&"dataMin"!==n&&"function"!=typeof n?e[0]=n:o&&(e[0]=0<t?0:NaN);n=i.getMax(!0);null!=n&&"dataMax"!==n&&"function"!=typeof n?e[1]=n:o&&(e[1]=0<t?t-1:NaN);i.get("scale",!0)||(0<e[0]&&(e[0]=0),e[1]<0&&(e[1]=0))}(t,n),n}(this,this._dimName,e),o=(n=this)._minMaxSpan={},a=n._dataZoomModel,r=n._dataExtent,i_(["min","max"],function(t){var e=a.get(t+"Span"),i=a.get(t+"ValueSpan");null!=i&&(i=n.getAxisModel().axis.scale.parse(i)),null!=i?e=Js(r[0]+i,r,[0,100],!0):null!=e&&(i=Js(e,[0,100],r,!0)-r[0]),o[t+"Span"]=e,o[t+"ValueSpan"]=i}),t=this.calculateDataWindow(t.settledOption),this._valueWindow=t.valueWindow,this._percentWindow=t.percentWindow,o_(this))},restore:function(t){t===this._dataZoomModel&&(this._valueWindow=this._percentWindow=null,o_(this,!0))},filterData:function(t,e){var n,i,o,u;t===this._dataZoomModel&&(n=this._dimName,i=this.getTargetSeriesModels(),o=t.get("filterMode"),u=this._valueWindow,"none"!==o&&i_(i,function(i){var l=i.getData(),h=l.mapDimension(n,!0);h.length&&("weakFilter"===o?l.filterSelf(function(t){for(var e,i,n,o=0;o<h.length;o++){var a=l.get(h[o],t),r=!isNaN(a),s=a<u[0],a=a>u[1];if(r&&!s&&!a)return!0;r&&(n=!0),s&&(e=!0),a&&(i=!0)}return n&&e&&i}):i_(h,function(t){var e;"empty"===o?i.setData(l=l.map(t,function(t){return(e=t)>=u[0]&&e<=u[1]?t:NaN;var e})):((e={})[t]=u,l.selectRange(e))}),i_(h,function(t){l.setApproximateExtent(u,t)}))}))}};var a_=L,r_=Jx,oi=od({type:"dataZoom",dependencies:["xAxis","yAxis","zAxis","radiusAxis","angleAxis","singleAxis","series"],defaultOption:{zlevel:0,z:4,orient:null,xAxisIndex:null,yAxisIndex:null,filterMode:"filter",throttle:null,start:0,end:100,startValue:null,endValue:null,minSpan:null,maxSpan:null,minValueSpan:null,maxValueSpan:null,rangeMode:null},init:function(t,e,i){this._dataIntervalByAxis={},this._dataInfo={},this._axisProxies={},this.textStyleModel,this._autoThrottle=!0,this._rangePropMode=["percent","percent"];var n=s_(t);this.settledOption=n,this.mergeDefaultAndTheme(t,i),this.doInit(n)},mergeOption:function(t){var e=s_(t);g(this.option,t,!0),g(this.settledOption,e,!0),this.doInit(e)},doInit:function(t){var i=this.option;v.canvasSupported||(i.realtime=!1),this._setDefaultThrottle(t),l_(this,t);var n=this.settledOption;a_([["start","startValue"],["end","endValue"]],function(t,e){"value"===this._rangePropMode[e]&&(i[t[0]]=n[t[0]]=null)},this),this.textStyleModel=this.getModel("textStyle"),this._resetTarget(),this._giveAxisProxies()},_giveAxisProxies:function(){var a=this._axisProxies;this.eachTargetAxis(function(t,e,i,n){var o=this.dependentModels[t.axis][e],n=o.__dzAxisProxy||(o.__dzAxisProxy=new e_(t.name,e,this,n));a[t.name+"_"+e]=n},this)},_resetTarget:function(){var e=this.option,t=this._judgeAutoMode();r_(function(t){t=t.axisIndex;e[t]=So(e[t])},this),"axisIndex"===t?this._autoSetAxisIndex():"orient"===t&&this._autoSetOrient()},_judgeAutoMode:function(){var e=this.option,i=!1;r_(function(t){null!=e[t.axisIndex]&&(i=!0)},this);var t=e.orient;return null==t&&i?"orient":i?void 0:(null==t&&(e.orient="horizontal"),"axisIndex")},_autoSetAxisIndex:function(){var t,a=!0,e=this.get("orient",!0),r=this.option,i=this.dependentModels;a&&(i[(t="vertical"===e?"y":"x")+"Axis"].length?(r[t+"AxisIndex"]=[0],a=!1):a_(i.singleAxis,function(t){a&&t.get("orient",!0)===e&&(r.singleAxisIndex=[t.componentIndex],a=!1)})),a&&r_(function(t){if(a){var e=[],i=this.dependentModels[t.axis];if(i.length&&!e.length)for(var n=0,o=i.length;n<o;n++)"category"===i[n].get("type")&&e.push(n);(r[t.axisIndex]=e).length&&(a=!1)}},this),a&&this.ecModel.eachSeries(function(o){this._isSeriesHasAllAxesTypeOf(o,"value")&&r_(function(t){var e=r[t.axisIndex],i=o.get(t.axisIndex),n=o.get(t.axisId);_(e,i=o.ecModel.queryComponents({mainType:t.axis,index:i,id:n})[0].componentIndex)<0&&e.push(i)})},this)},_autoSetOrient:function(){var e;this.eachTargetAxis(function(t){e=e||t.name},this),this.option.orient="y"===e?"vertical":"horizontal"},_isSeriesHasAllAxesTypeOf:function(i,n){var o=!0;return r_(function(t){var e=i.get(t.axisIndex),e=this.dependentModels[t.axis][e];e&&e.get("type")===n||(o=!1)},this),o},_setDefaultThrottle:function(t){t.hasOwnProperty("throttle")&&(this._autoThrottle=!1),this._autoThrottle&&(t=this.ecModel.option,this.option.throttle=t.animation&&0<t.animationDurationUpdate?100:20)},getFirstTargetAxisModel:function(){var i;return r_(function(t){var e;null!=i||(e=this.get(t.axisIndex)).length&&(i=this.dependentModels[t.axis][e[0]])},this),i},eachTargetAxis:function(i,n){var o=this.ecModel;r_(function(e){a_(this.get(e.axisIndex),function(t){i.call(n,e,t,this,o)},this)},this)},getAxisProxy:function(t,e){return this._axisProxies[t+"_"+e]},getAxisModel:function(t,e){e=this.getAxisProxy(t,e);return e&&e.getAxisModel()},setRawRange:function(e){var i=this.option,n=this.settledOption;a_([["start","startValue"],["end","endValue"]],function(t){null==e[t[0]]&&null==e[t[1]]||(i[t[0]]=n[t[0]]=e[t[0]],i[t[1]]=n[t[1]]=e[t[1]])},this),l_(this,e)},setCalculatedRange:function(e){var i=this.option;a_(["start","startValue","end","endValue"],function(t){i[t]=e[t]})},getPercentRange:function(){var t=this.findRepresentativeAxisProxy();if(t)return t.getDataPercentWindow()},getValueRange:function(t,e){if(null!=t||null!=e)return this.getAxisProxy(t,e).getDataValueWindow();e=this.findRepresentativeAxisProxy();return e?e.getDataValueWindow():void 0},findRepresentativeAxisProxy:function(t){if(t)return t.__dzAxisProxy;var e,i=this._axisProxies;for(e in i)if(i.hasOwnProperty(e)&&i[e].hostedBy(this))return i[e];for(e in i)if(i.hasOwnProperty(e)&&!i[e].hostedBy(this))return i[e]},getRangePropMode:function(){return this._rangePropMode.slice()}});function s_(e){var i={};return a_(["start","end","startValue","endValue","throttle"],function(t){e.hasOwnProperty(t)&&(i[t]=e[t])}),i}function l_(t,n){var o=t._rangePropMode,a=t.get("rangeMode");a_([["start","startValue"],["end","endValue"]],function(t,e){var i=null!=n[t[0]],t=null!=n[t[1]];i&&!t?o[e]="percent":!i&&t?o[e]="value":a?o[e]=a[e]:i&&(o[e]="percent")})}var we=_u.extend({type:"dataZoom",render:function(t,e,i,n){this.dataZoomModel=t,this.ecModel=e,this.api=i},getTargetCoordInfo:function(){var t=this.dataZoomModel,n=this.ecModel,o={};return t.eachTargetAxis(function(t,e){var i,e=n.getComponent(t.axis,e);e&&(i=e.getCoordSysModel())&&function(t,e,i,n){for(var o,a=0;a<i.length;a++)if(i[a].model===t){o=i[a];break}o||i.push(o={model:t,axisModels:[],coordIndex:n});o.axisModels.push(e)}(i,e,o[i.mainType]||(o[i.mainType]=[]),i.componentIndex)},this),o}}),h_=(oi.extend({type:"dataZoom.slider",layoutMode:"box",defaultOption:{show:!0,right:"ph",top:"ph",width:"ph",height:"ph",left:null,bottom:null,backgroundColor:"rgba(47,69,84,0)",dataBackground:{lineStyle:{color:"#2f4554",width:.5,opacity:.3},areaStyle:{color:"rgba(47,69,84,0.3)",opacity:.3}},borderColor:"#ddd",fillerColor:"rgba(167,183,204,0.4)",handleIcon:"M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z",handleSize:"100%",handleStyle:{color:"#a7b7cc"},labelPrecision:null,labelFormatter:null,showDetail:!0,showDataShadow:"auto",realtime:!0,zoomLock:!1,textStyle:{color:"#333"}}}),Rr),u_=Js,c_=il,d_=T,f_=L,p_="horizontal",g_="vertical",m_=["line","bar","candlestick","scatter"],v_=we.extend({type:"dataZoom.slider",init:function(t,e){this._displayables={},this._orient,this._range,this._handleEnds,this._size,this._handleWidth,this._handleHeight,this._location,this._dragging,this._dataShadowInfo,this.api=e},render:function(t,e,i,n){v_.superApply(this,"render",arguments),zu(this,"_dispatchZoomAction",this.dataZoomModel.get("throttle"),"fixRate"),this._orient=t.get("orient"),!1!==this.dataZoomModel.get("show")?(n&&"dataZoom"===n.type&&n.from===this.uid||this._buildView(),this._updateView()):this.group.removeAll()},remove:function(){v_.superApply(this,"remove",arguments),Ru(this,"_dispatchZoomAction")},dispose:function(){v_.superApply(this,"dispose",arguments),Ru(this,"_dispatchZoomAction")},_buildView:function(){var t=this.group;t.removeAll(),this._resetLocation(),this._resetInterval();var e=this._displayables.barGroup=new yi;this._renderBackground(),this._renderHandle(),this._renderDataShadow(),t.add(e),this._positionGroup()},_resetLocation:function(){var t=this.dataZoomModel,e=this.api,i=this._findCoordRect(),e={width:e.getWidth(),height:e.getHeight()},n=this._orient===p_?{right:e.width-i.x-i.width,top:e.height-30-7,width:i.width,height:30}:{right:7,top:i.y,width:30,height:i.height},o=Nl(t.option);L(["right","top","width","height"],function(t){"ph"===o[t]&&(o[t]=n[t])});t=Rl(o,e,t.padding);this._location={x:t.x,y:t.y},this._size=[t.width,t.height],this._orient===g_&&this._size.reverse()},_positionGroup:function(){var t=this.group,e=this._location,i=this._orient,n=this.dataZoomModel.getFirstTargetAxisModel(),o=n&&n.get("inverse"),a=this._displayables.barGroup,n=(this._dataShadowInfo||{}).otherAxisInverse;a.attr(i!==p_||o?i===p_&&o?{scale:n?[-1,1]:[-1,-1]}:i!==g_||o?{scale:n?[-1,-1]:[-1,1],rotation:Math.PI/2}:{scale:n?[1,-1]:[1,1],rotation:Math.PI/2}:{scale:n?[1,1]:[1,-1]});a=t.getBoundingRect([a]);t.attr("position",[e.x-a.x,e.y-a.y])},_getViewExtent:function(){return[0,this._size[0]]},_renderBackground:function(){var t=this.dataZoomModel,e=this._size,i=this._displayables.barGroup;i.add(new h_({silent:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:t.get("backgroundColor")},z2:-40})),i.add(new h_({shape:{x:0,y:0,width:e[0],height:e[1]},style:{fill:"transparent"},z2:0,onclick:T(this._onClickPanelClick,this)}))},_renderDataShadow:function(){var t,e,n,o,a,r,s,l,h,u,i,c=this._dataShadowInfo=this._prepareDataShadowInfo();c&&(t=this._size,e=(i=c.series).getRawData(),null!=(i=i.getShadowDim?i.getShadowDim():c.otherDim)&&(c=.3*((n=e.getDataExtent(i))[1]-n[0]),n=[n[0]-c,n[1]+c],o=[0,t[1]],c=[0,t[0]],a=[[t[0],0],[0,0]],r=[],s=c[1]/(e.count()-1),l=0,h=Math.round(e.count()/t[0]),e.each([i],function(t,e){var i;0<h&&e%h?l+=s:(t=(i=null==t||isNaN(t)||""===t)?0:u_(t,n,o,!0),i&&!u&&e?(a.push([a[a.length-1][0],0]),r.push([r[r.length-1][0],0])):!i&&u&&(a.push([l,0]),r.push([l,0])),a.push([l,t]),r.push([l,t]),l+=s,u=i)}),i=this.dataZoomModel,this._displayables.barGroup.add(new Cr({shape:{points:a},style:D({fill:i.get("dataBackgroundColor")},i.getModel("dataBackground.areaStyle").getAreaStyle()),silent:!0,z2:-20})),this._displayables.barGroup.add(new Dr({shape:{points:r},style:i.getModel("dataBackground.lineStyle").getLineStyle(),silent:!0,z2:-19}))))},_prepareDataShadowInfo:function(){var t=this.dataZoomModel,s=t.get("showDataShadow");if(!1!==s){var l,h=this.ecModel;return t.eachTargetAxis(function(a,r){L(t.getAxisProxy(a.name,r).getTargetSeriesModels(),function(t){var e,i,n,o;l||!0!==s&&_(m_,t.get("type"))<0||(e=h.getComponent(a.axis,r).axis,i={x:"y",y:"x",radius:"angle",angle:"radius"}[a.name],o=t.coordinateSystem,null!=i&&o.getOtherAxis&&(n=o.getOtherAxis(e).inverse),i=t.getData().mapDimension(i),l={thisAxis:e,series:t,thisDim:a.name,otherDim:i,otherAxisInverse:n})},this)},this),l}},_renderHandle:function(){var t=this._displayables,n=t.handles=[],o=t.handleLabels=[],a=this._displayables.barGroup,e=this._size,r=this.dataZoomModel;a.add(t.filler=new h_({draggable:!0,cursor:y_(this._orient),drift:d_(this._onDragMove,this,"all"),ondragstart:d_(this._showDataInfo,this,!0),ondragend:d_(this._onDragEnd,this),onmouseover:d_(this._showDataInfo,this,!0),onmouseout:d_(this._showDataInfo,this,!1),style:{fill:r.get("fillerColor"),textPosition:"inside"}})),a.add(new h_({silent:!0,subPixelOptimize:!0,shape:{x:0,y:0,width:e[0],height:e[1]},style:{stroke:r.get("dataBackgroundColor")||r.get("borderColor"),lineWidth:1,fill:"rgba(0,0,0,0)"}})),f_([0,1],function(t){var e=Fs(r.get("handleIcon"),{cursor:y_(this._orient),draggable:!0,drift:d_(this._onDragMove,this,t),ondragend:d_(this._onDragEnd,this),onmouseover:d_(this._showDataInfo,this,!0),onmouseout:d_(this._showDataInfo,this,!1)},{x:-1,y:0,width:2,height:2}),i=e.getBoundingRect();this._handleHeight=tl(r.get("handleSize"),this._size[1]),this._handleWidth=i.width/i.height*this._handleHeight,e.setStyle(r.getModel("handleStyle").getItemStyle());i=r.get("handleColor");null!=i&&(e.style.fill=i),a.add(n[t]=e);e=r.textStyleModel;this.group.add(o[t]=new wr({silent:!0,invisible:!0,style:{x:0,y:0,text:"",textVerticalAlign:"middle",textAlign:"center",textFill:e.getTextColor(),textFont:e.getFont()},z2:10}))},this)},_resetInterval:function(){var t=this._range=this.dataZoomModel.getPercentRange(),e=this._getViewExtent();this._handleEnds=[u_(t[0],[0,100],e,!0),u_(t[1],[0,100],e,!0)]},_updateInterval:function(t,e){var i=this.dataZoomModel,n=this._handleEnds,o=this._getViewExtent(),a=i.findRepresentativeAxisProxy().getMinMaxSpan(),r=[0,100];Px(e,n,o,i.get("zoomLock")?"all":t,null!=a.minSpan?u_(a.minSpan,r,o,!0):null,null!=a.maxSpan?u_(a.maxSpan,r,o,!0):null);a=this._range,r=this._range=c_([u_(n[0],o,r,!0),u_(n[1],o,r,!0)]);return!a||a[0]!==r[0]||a[1]!==r[1]},_updateView:function(t){var n=this._displayables,o=this._handleEnds,e=c_(o.slice()),a=this._size;f_([0,1],function(t){var e=n.handles[t],i=this._handleHeight;e.attr({scale:[i/2,i/2],position:[o[t],a[1]/2-i/2]})},this),n.filler.setShape({x:e[0],y:0,width:e[1]-e[0],height:a[1]}),this._updateDataInfo(t)},_updateDataInfo:function(t){var e,i,n=this.dataZoomModel,o=this._displayables,a=o.handleLabels,r=this._orient,s=["",""];!n.get("showDetail")||(i=n.findRepresentativeAxisProxy())&&(e=i.getAxisModel().axis,n=this._range,i=t?i.calculateDataWindow({start:n[0],end:n[1]}).valueWindow:i.getDataValueWindow(),s=[this._formatLabel(i[0],e),this._formatLabel(i[1],e)]);var l=c_(this._handleEnds.slice());function h(t){var e=Es(o.handles[t].parent,this.group),i=Bs(0===t?"right":"left",e),n=this._handleWidth/2+5,e=Ns([l[t]+(0===t?-n:n),this._size[1]/2],e);a[t].setStyle({x:e[0],y:e[1],textVerticalAlign:r===p_?"middle":i,textAlign:r===p_?i:"center",text:s[t]})}h.call(this,0),h.call(this,1)},_formatLabel:function(t,e){var i=this.dataZoomModel,n=i.get("labelFormatter"),i=i.get("labelPrecision");null!=i&&"auto"!==i||(i=e.getPixelPrecision());i=null==t||isNaN(t)?"":"category"===e.type||"time"===e.type?e.scale.getLabel(Math.round(t)):t.toFixed(Math.min(i,20));return z(n)?n(t,i):R(n)?n.replace("{value}",i):i},_showDataInfo:function(t){t=this._dragging||t;var e=this._displayables.handleLabels;e[0].attr("invisible",!t),e[1].attr("invisible",!t)},_onDragMove:function(t,e,i,n){this._dragging=!0,Ht(n.event);i=Ns([e,i],this._displayables.barGroup.getLocalTransform(),!0),t=this._updateInterval(t,i[0]),i=this.dataZoomModel.get("realtime");this._updateView(!i),t&&i&&this._dispatchZoomAction()},_onDragEnd:function(){this._dragging=!1,this._showDataInfo(!1),this.dataZoomModel.get("realtime")||this._dispatchZoomAction()},_onClickPanelClick:function(t){var e=this._size,t=this._displayables.barGroup.transformCoordToLocal(t.offsetX,t.offsetY);t[0]<0||t[0]>e[0]||t[1]<0||t[1]>e[1]||(e=((e=this._handleEnds)[0]+e[1])/2,e=this._updateInterval("all",t[0]-e),this._updateView(),e&&this._dispatchZoomAction())},_dispatchZoomAction:function(){var t=this._range;this.api.dispatchAction({type:"dataZoom",from:this.uid,dataZoomId:this.dataZoomModel.id,start:t[0],end:t[1]})},_findCoordRect:function(){var t,e,i;return f_(this.getTargetCoordInfo(),function(t){!i&&t.length&&(t=t[0].model.coordinateSystem,i=t.getRect&&t.getRect())}),i||(t=this.api.getWidth(),e=this.api.getHeight(),i={x:.2*t,y:.2*e,width:.6*t,height:.6*e}),i}});function y_(t){return"vertical"===t?"ns-resize":"ew-resize"}Qc({getTargetSeries:function(t){var n=Q();return t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,e,i){L(i.getAxisProxy(t.name,e).getTargetSeriesModels(),function(t){n.set(t.uid,t)})})}),n},modifyOutputEnd:!0,overallReset:function(t,n){t.eachComponent("dataZoom",function(t){t.eachTargetAxis(function(t,e,i){i.getAxisProxy(t.name,e).reset(i,n)}),t.eachTargetAxis(function(t,e,i){i.getAxisProxy(t.name,e).filterData(i,n)})}),t.eachComponent("dataZoom",function(t){var e=t.findRepresentativeAxisProxy(),i=e.getDataPercentWindow(),e=e.getDataValueWindow();t.setCalculatedRange({start:i[0],end:i[1],startValue:e[0],endValue:e[1]})})}}),Jc("dataZoom",function(i,t){var n=t_(T(t.eachComponent,t,"dataZoom"),Jx,function(t,e){return t.get(e.axisIndex)}),o=[];t.eachComponent({mainType:"dataZoom",query:i},function(t,e){o.push.apply(o,n(t).nodes)}),L(o,function(t,e){t.setRawRange({start:i.start,end:i.end,startValue:i.startValue,endValue:i.endValue})})}),oi.extend({type:"dataZoom.inside",defaultOption:{disabled:!1,zoomLock:!1,zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}});var x_="\0_ec_interaction_mutex";function __(t,e){return((t=t)[x_]||(t[x_]={}))[e]}function w_(i){this.pointerChecker,this._zr=i,this._opt={};var t=T,n=t(b_,this),o=t(S_,this),a=t(M_,this),r=t(I_,this),s=t(T_,this);It.call(this),this.setPointerChecker=function(t){this.pointerChecker=t},this.enable=function(t,e){this.disable(),this._opt=D(A(e)||{},{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!1,preventDefaultMouseMove:!0}),null==t&&(t=!0),!0!==t&&"move"!==t&&"pan"!==t||(i.on("mousedown",n),i.on("mousemove",o),i.on("mouseup",a)),!0!==t&&"scale"!==t&&"zoom"!==t||(i.on("mousewheel",r),i.on("pinch",s))},this.disable=function(){i.off("mousedown",n),i.off("mousemove",o),i.off("mouseup",a),i.off("mousewheel",r),i.off("pinch",s)},this.dispose=this.disable,this.isDragging=function(){return this._dragging},this.isPinching=function(){return this._pinching}}function b_(t){var e,i;Wt(t)||t.target&&t.target.draggable||(e=t.offsetX,i=t.offsetY,this.pointerChecker&&this.pointerChecker(t,e,i)&&(this._x=e,this._y=i,this._dragging=!0))}function S_(t){var e,i,n,o,a,r;this._dragging&&D_("moveOnMouseMove",t,this._opt)&&"pinch"!==t.gestureEvent&&!__(this._zr,"globalPan")&&(e=t.offsetX,i=t.offsetY,a=e-(n=this._x),r=i-(o=this._y),this._x=e,this._y=i,this._opt.preventDefaultMouseMove&&Ht(t.event),C_(this,"pan","moveOnMouseMove",t,{dx:a,dy:r,oldX:n,oldY:o,newX:e,newY:i}))}function M_(t){Wt(t)||(this._dragging=!1)}function I_(t){var e=D_("zoomOnMouseWheel",t,this._opt),i=D_("moveOnMouseWheel",t,this._opt),n=t.wheelDelta,o=Math.abs(n),a=t.offsetX,r=t.offsetY;0!==n&&(e||i)&&(e&&(o=3<o?1.4:1<o?1.2:1.1,A_(this,"zoom","zoomOnMouseWheel",t,{scale:0<n?o:1/o,originX:a,originY:r})),i&&A_(this,"scrollMove","moveOnMouseWheel",t,{scrollDelta:(0<n?1:-1)*(3<(n=Math.abs(n))?.4:1<n?.15:.05),originX:a,originY:r}))}function T_(t){__(this._zr,"globalPan")||A_(this,"zoom",null,t,{scale:1<t.pinchScale?1.1:1/1.1,originX:t.pinchX,originY:t.pinchY})}function A_(t,e,i,n,o){t.pointerChecker&&t.pointerChecker(n,o.originX,o.originY)&&(Ht(n.event),C_(t,e,i,n,o))}function C_(t,e,i,n,o){o.isAvailableBehavior=T(D_,null,i,n),t.trigger(e,o)}function D_(t,e,i){i=i[t];return!t||i&&(!R(i)||e.event[i+"Key"])}Jc({type:"takeGlobalCursor",event:"globalCursorTaken",update:"update"},function(){}),b(w_,It);var k_="\0_ec_dataZoom_roams";function L_(t,n){var e=O_(t),o=n.dataZoomId,a=n.coordId;L(e,function(t,e){var i=t.dataZoomInfos;i[o]&&_(n.allCoordIds,a)<0&&(delete i[o],t.count--)}),z_(e);var r,i,s=e[a];s||((s=e[a]={coordId:a,dataZoomInfos:{},count:0}).controller=(r=s,i=new w_(t.getZr()),L(["pan","zoom","scrollMove"],function(o){i.on(o,function(i){var n=[];L(r.dataZoomInfos,function(t){var e;i.isAvailableBehavior(t.dataZoomModel.option)&&(e=(e=(t.getRange||{})[o])&&e(r.controller,i),!t.dataZoomModel.get("disabled",!0)&&e&&n.push({dataZoomId:t.dataZoomId,start:e[0],end:e[1]}))}),n.length&&r.dispatchAction(n)})}),i),s.dispatchAction=k(R_,t)),s.dataZoomInfos[o]||s.count++,s.dataZoomInfos[o]=n;var l,h,u,t=(t=s.dataZoomInfos,h={type_true:2,type_move:1,type_false:0,type_undefined:-1},u=!0,L(t,function(t){var e=t.dataZoomModel,t=!e.get("disabled",!0)&&(!e.get("zoomLock",!0)||"move");h["type_"+l]<h["type_"+t]&&(l=t),u&=e.get("preventDefaultMouseMove",!0)}),{controlType:l,opt:{zoomOnMouseWheel:!0,moveOnMouseMove:!0,moveOnMouseWheel:!0,preventDefaultMouseMove:!!u}});s.controller.enable(t.controlType,t.opt),s.controller.setPointerChecker(n.containsPoint),zu(s,"dispatchAction",n.dataZoomModel.get("throttle",!0),"fixRate")}function P_(t){return t.type+"\0_"+t.id}function O_(t){t=t.getZr();return t[k_]||(t[k_]={})}function z_(i){L(i,function(t,e){t.count||(t.controller.dispose(),delete i[e])})}function R_(t,e){t.dispatchAction({type:"dataZoom",batch:e})}var E_=T,N_=we.extend({type:"dataZoom.inside",init:function(t,e){this._range},render:function(r,t,s,e){N_.superApply(this,"render",arguments),this._range=r.getPercentRange(),L(this.getTargetCoordInfo(),function(t,o){var a=S(t,function(t){return P_(t.model)});L(t,function(e){var n=e.model,i={};L(["pan","zoom","scrollMove"],function(t){i[t]=E_(B_[t],this,e,o)},this),L_(s,{coordId:P_(n),allCoordIds:a,containsPoint:function(t,e,i){return n.coordinateSystem.containPoint([e,i])},dataZoomId:r.id,dataZoomModel:r,getRange:i})},this)},this)},dispose:function(){var t,i;t=this.api,i=this.dataZoomModel.id,L(t=O_(t),function(t){t.controller.dispose();var e=t.dataZoomInfos;e[i]&&(delete e[i],t.count--)}),z_(t),N_.superApply(this,"dispose",arguments),this._range=null}}),B_={zoom:function(t,e,i,n){var o=this._range,a=o.slice(),r=t.axisModels[0];if(r){t=F_[e](null,[n.originX,n.originY],r,i,t),t=(0<t.signal?t.pixelStart+t.pixelLength-t.pixel:t.pixel-t.pixelStart)/t.pixelLength*(a[1]-a[0])+a[0],n=Math.max(1/n.scale,0);a[0]=(a[0]-t)*n+t,a[1]=(a[1]-t)*n+t;t=this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan();return Px(0,a,[0,100],0,t.minSpan,t.maxSpan),this._range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}},pan:V_(function(t,e,i,n,o,a){i=F_[n]([a.oldX,a.oldY],[a.newX,a.newY],e,o,i);return i.signal*(t[1]-t[0])*i.pixel/i.pixelLength}),scrollMove:V_(function(t,e,i,n,o,a){return F_[n]([0,0],[a.scrollDelta,a.scrollDelta],e,o,i).signal*(t[1]-t[0])*a.scrollDelta})};function V_(s){return function(t,e,i,n){var o=this._range,a=o.slice(),r=t.axisModels[0];if(r){n=s(a,r,t,e,i,n);return Px(n,a,[0,100],"all"),this._range=a,o[0]!==a[0]||o[1]!==a[1]?a:void 0}}}var F_={grid:function(t,e,i,n,o){var a=i.axis,i={},o=o.model.coordinateSystem.getRect();return t=t||[0,0],"x"===a.dim?(i.pixel=e[0]-t[0],i.pixelLength=o.width,i.pixelStart=o.x,i.signal=a.inverse?1:-1):(i.pixel=e[1]-t[1],i.pixelLength=o.height,i.pixelStart=o.y,i.signal=a.inverse?-1:1),i},polar:function(t,e,i,n,o){var a=i.axis,r={},s=o.model.coordinateSystem,l=s.getRadiusAxis().getExtent(),o=s.getAngleAxis().getExtent();return t=t?s.pointToCoord(t):[0,0],e=s.pointToCoord(e),"radiusAxis"===i.mainType?(r.pixel=e[0]-t[0],r.pixelLength=l[1]-l[0],r.pixelStart=l[0],r.signal=a.inverse?1:-1):(r.pixel=e[1]-t[1],r.pixelLength=o[1]-o[0],r.pixelStart=o[0],r.signal=a.inverse?-1:1),r},singleAxis:function(t,e,i,n,o){var a=i.axis,i=o.model.coordinateSystem.getRect(),o={};return t=t||[0,0],"horizontal"===a.orient?(o.pixel=e[0]-t[0],o.pixelLength=i.width,o.pixelStart=i.x,o.signal=a.inverse?1:-1):(o.pixel=e[1]-t[1],o.pixelLength=i.height,o.pixelStart=i.y,o.signal=a.inverse?-1:1),o}};t.version="4.9.0",t.dependencies={zrender:"4.3.2"},t.PRIORITY=Nn,t.init=function(t,e,i){var n,o,a=jc(t);return a||((i=new yc(t,e,i)).id="ec_"+Xc++,Gc[i.id]=i,Ro(t,Yc,i.id),n=i,o="__connectUpdateStatus",hc(Ec,function(t,e){n._messageCenter.on(e,function(t){var e,i;Zc[n.group]&&0!==n[o]&&(t&&t.escapeConnect||(e=n.makeActionFromEvent(t),i=[],hc(Gc,function(t){t!==n&&t.group===n.group&&i.push(t)}),r(i,0),hc(i,function(t){1!==t[o]&&t.dispatchAction(e)}),r(i,2)))})}),i);function r(t,e){for(var i=0;i<t.length;i++)t[i][o]=e}},t.connect=function(e){var t;return O(e)&&(t=e,e=null,hc(t,function(t){null!=t.group&&(e=t.group)}),e=e||"g_"+Uc++,hc(t,function(t){t.group=e})),Zc[e]=!0,e},t.disConnect=qc,t.disconnect=n,t.dispose=function(t){"string"==typeof t?t=Gc[t]:t instanceof yc||(t=jc(t)),t instanceof yc&&!t.isDisposed()&&t.dispose()},t.getInstanceByDom=jc,t.getInstanceById=function(t){return Gc[t]},t.registerTheme=Kc,t.registerPreprocessor=$c,t.registerProcessor=Qc,t.registerPostUpdate=function(t){Vc.push(t)},t.registerAction=Jc,t.registerCoordinateSystem=function(t,e){yh.register(t,e)},t.getCoordinateSystemDimensions=function(t){if(t=yh.get(t))return t.getDimensionsInfo?t.getDimensionsInfo():t.dimensions.slice()},t.registerLayout=td,t.registerVisual=ed,t.registerLoading=nd,t.extendComponentModel=od,t.extendComponentView=ad,t.extendSeriesModel=rd,t.extendChartView=sd,t.setCanvasCreator=function(t){f("createCanvas",t)},t.registerMap=function(t,e,i){ac(t,e,i)},t.getMap=function(t){return(t=rc(t))&&t[0]&&{geoJson:t[0].geoJSON,specialAreas:t[0].specialAreas}},t.dataTool={},t.zrender=yo,t.number=eo,t.format=co,t.throttle=Ou,t.helper=Xs,t.matrix=se,t.vector=wt,t.color=Ge,t.parseGeoJSON=_e,t.parseGeoJson=ce,t.util=lp,t.graphic=hp,t.List=Id,t.Model=Ys,t.Axis=ap,t.env=v});
